var a19_0x177a=["19848edQbZJ","tick","updateDesc","_onTick","17905zAPOoP","requestAnimationFrame","setControl","537930lPSlZk","494842wRUDQU","1mhngXD","_fAspect","max","fFOVInRadian","make","96838CFkjea","fAspect","eRotDir","_fFOVY","rotPos","from","desc","selfRotateAnimRun()","1810EWUHcs","25DCkosJ","ePan","61909djTexQ","_fInterocularDistance","20SoFgll","exportToCleCamera","lockUpAxis","isCompleted","flush"],a19_0x3eb748=a19_0x3797;function a19_0x3797(t,e){return a19_0x177a[t-=192]}!function(e){for(var t=a19_0x3797;;)try{if(357093===-parseInt(t(195))+-parseInt(t(214))*-parseInt(t(205))+parseInt(t(212))+parseInt(t(196))*parseInt(t(209))+parseInt(t(213))+parseInt(t(219))+parseInt(t(198))*-parseInt(t(200)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a19_0x177a);var g_camera=null,g_cameraController=null,g_cameraDesc=null,g_cameraTweener=null,g_fElapseTimeInSeconds=null,g_selfRotateHandle=null,g_selfRotateElapse=30,g_selfRotateDelta=float2[a19_0x3eb748(192)](-1,0);function shiftViewOnTick(e){var a=a19_0x3eb748;if(null==g_cameraTweener)g_render[a(208)]=null,g_fElapseTimeInSeconds=null;else{let t=0;null!=g_fElapseTimeInSeconds&&(t=e-g_fElapseTimeInSeconds,t=Math[a(216)](t,0),t*=.001),g_fElapseTimeInSeconds=e,0==CameraTweener[a(203)](g_cameraTweener)&&(CameraTweener[a(206)](g_cameraTweener,t),Camera[a(207)](g_camera,g_cameraTweener[a(193)]),glRunTime[a(204)]()),0==CameraTweener[a(203)](g_cameraTweener)?window[a(210)](function(t){shiftViewOnTick(t)}):g_cameraTweener=null}}function shiftViewAnim(t,e){var a=a19_0x3eb748;g_cameraTweener=CameraTweener[a(218)](g_camera[a(193)],t,e),g_fElapseTimeInSeconds=null,g_render[a(208)]=shiftViewOnTick,glRunTime.flush()}function selfRotateAnimRun(){var t=a19_0x3eb748;CameraController[t(223)](g_cameraController,g_camera,g_selfRotateDelta),glRunTime[t(204)](),g_selfRotateHandle=setTimeout(t(194),g_selfRotateElapse)}function selfRotateAnimStop(){null!=g_selfRotateHandle&&clearTimeout(g_selfRotateHandle),g_selfRotateHandle=null}function setCameraControlMode(t){var e=a19_0x3eb748;0==t?(selfRotateAnimStop(),CameraController[e(211)](g_cameraController,CameraController.eRotPos)):1==t?(CameraController[e(202)](g_cameraController,g_sceneConfig._upAxis),CameraController[e(211)](g_cameraController,CameraController.eRotPos),selfRotateAnimRun()):2==t?(selfRotateAnimStop(),CameraController.setControl(g_cameraController,CameraController[e(197)])):3==t?(selfRotateAnimStop(),CameraController.setControl(g_cameraController,CameraController.eRotDir)):4!=t&&5!=t||(selfRotateAnimStop(),CameraController[e(211)](g_cameraController,CameraController[e(221)]))}function getCameraCurView(t){var e=a19_0x3eb748;return Common[e(201)](t,g_camera.desc),t[e(222)]=g_camera[e(193)][e(217)],t[e(215)]=g_camera[e(193)][e(220)],!(t[e(199)]=0)}function setCameraCurView(t){var e=a19_0x3eb748;return Common.fromCleCamera(g_cameraDesc,t),g_cameraDesc[e(220)]=g_camera[e(193)][e(220)],Camera[e(207)](g_camera,g_cameraDesc),!0}const a71_0x4424=["isObjectInRect","getObjectVisible","render","left","m_defUpAxis","setObjectEnhancedDisplayByTreeId","mapMaterialIDIndex","setObjectMatrixByIndex","clientHeight","setViewParam","flush","translate","getObjectOriWorldMatrix","_arrTexID","clearMap","initSceneBox","resetScene","clearPickSurfaceIndex","WIDTH","digitalMultiplyMat","getBoundingClientRect","getRectSelectionStatus","m_BgColor","_arrSubNode","pickModelByIndexs","_strName","add","vecLightType","initCanvasView","setObjectOriWorldMatrix","_uPartIndex","top","getObjectCenterByIndex","setSceneLightPosition","getMaterialById","m_bgIndex","setSubObjectMoveByTreeId","getSubObjectsByTreeId","mapMeshIDIndex","setMultObjectVisible","ray_clip_far","basis unversal not support","239JsXmCz","setObjectVisibleByIndexs","Clone","pcLightPower","SCALE_MAX","onceLoadScleModel","_arrObjectSet","objectMoveWindow","updateDesc","PointNDCCenter","setObjectMaterialById","71809iZHbNe","setSurfaceMaterialMode","_DefaultCamera","identity","fFOVInRadian","19qiXqLq","uninitSection","setHighlight","_CurveShape","width","distance","setObjectSurfaceMaterialByIndex","reset","GLCamera","init","canvas","GLPmiSet","captureUnit","m_defEyePos","setViewport","initViewPort","getObjectTransparent","assignDesc","flush2D","doGetPickMeasureIndex","digitalLocalMat","curRotateVec","fromCleVec3","pickPmi","isShowImageBk","surfaceIndex","msaaChangeed","clearGLData","ObjectRotatematrix","computeSafeMinDistance","objectMoveWorldUpdate","pickMultObjectByIndexs","isCaptureGeomtry","setObjectSurfaceMaterial","m_fModelLength","uninitGLData","isDuringRectSel","_uPrimitType","_arrPartSet","getObjectCenterById","_eMtlType","startScelModel","getObjectModelId","setObjectMaterialTextureBasis","_uRequestRender","ray_clip_near","setCaptureModeByMeasure","_matLocal","doMeasureAction","getTreeNodeById","4haSydC","uninitRender","curMoveVec","_upAxis","setFocusOnObject","m_arrObjectMatrix","ObjectMovematrix","setObjectEnhancedDisplayByIndex","copy","Center2D","ObjectMoveCenterEnd","3946HijOlJ","getWebglExtension","_uTreeNodeID","getObjectParamsByID","create","addUsrBackground","min","digitalWorldMat","_MtlData","getBackgroundColor","778740bYTapW","getPickObjectIdByIndex","geomCurveIndex","captureType","captureGeomtry","draw2D","_fFOVY","mViewProjI","splice","loadBasisData","curModelCenter","objectIndex","setBackground","setObjectVisible","updatePartData","ray_world_near","fFar","cos","Clear","ray_world_far","getObjectWindowCenterByIndex","getPickStatus","_nPrimitType","getObjectCurWorldMatrix","max","_uPickType","length","getTreeNodeSubObjectID","5sQvuiR","height","_ObjectBox","isContainsGeom","pickObjectSurfaceByIndex","selRect","objectMoveWorld","setObjectTransparentByIndex","mViewProj","uninitScene","setRectSelection","m_arrBgTexId","_arrSurfaceMaterialIndex","objectRotateWorldUpdate","dst","clearObjectSurfaceMaterial","RayPoint2","cvtWorldToCMOnline","_arrPartLODData","Copy","setObjectMeshMaterialUnitByPart","vAt","getObjectMetialList","addBackground","m_modelBox","lockUpAxis","getPickObjectIds","_SurfaceShape","VPMatrix","_arrMaterialSet","src","objectRotateWorldStart","getObjectWorldMatrix","setObjectEnhancedDisplayById","_vFocus","_onTick","rotate","setBackgroundColor","initScene","setHighlightShow","getPickObjectIndexs","GLObjectSet","endLoadModel","tcFormat","getObjectWorldCenterByIndex","fromCleCamera","log","pickMeasureMode","mapObjectIDIndex","setObjectModelMatrixPicked","getMaterialIndexById","getObjectModelMatrix","curPickUnit","SCALE_MIN","initSurfaceGLData","curRuntimeMode","createUrlRgbaTexture","clearCommon","fNear","clearBuffers","cvtWebGLPtToScreen","setMutiSample","transformMat4","m_defFocus","arrModelData","getPickUnit","initOperationParams","ObjectOriginalCenter","pickModelByRect","geomPointIndex","setCaptureMode","GLSceneConfig","getTreeNodeSubObjectIndex","GLModelTreeNode","objectMoveWorldStart","createCompressedTexture","fromValues","geomSurfaceIndex","initMap","_uObjectID","draw3D","clearSection","ray_nds_near","GetMaterialInfo","push","2UTgQIH","objectRotateWorldFinish","shiftView","getObjectSurfacesNum","setSceneLightPower","setObjectSurfaceMaterialIndex","getObjectModelIndex","webglRect","setObjectMaterialTexture2D","initCamera","home","getObjectBoxById","_uIsUV","getObjectIdByIndex","_arrNodeParameters","getObjectTreeIDByID","uninit","983jvaNYD","pick","move","ObjectStartmatrix","requestAnimationFrame","_Vertex","setSelectedShow","importSecToolData","GLAnnotData","GLMatertalSet","_uPartID","ray_nds_far","initRender","makeDesc","setPickType","cvtScreenToWorld","_oPickUnit","_boxset","cvtScreenPtToWebGL","setSceneLightOn","set","initRuntimeParams","desc","pickUnit","draw","56114ZPpilJ","HEIGHT","ClearCache","4bNIMZt","normalize","pickIndexs","fAspect","RayPoint1","resetGLData","normal","multiply","PARTCURVEDATA","setObjectMaterial","make","ObjectStartFlag","vEye","onload","fSensRot","_uMtlID","cvtModelToScreen","pickNone","updateScleModel","vUp","ObjectMoveCenterStart","setObjectTransparent","setObjectMatrixTranslate","isOnceLoad","getObjectIndexById","_matWorld","171426fUheQw","MVPMatrix","getPickedIndex","setBoxShow","61343pfHNeG"];!function(e){for(var t=a71_0x45d5;;)try{if(391383===-parseInt(t(756))*-parseInt(t(655))+-parseInt(t(709))*-parseInt(t(683))+parseInt(t(525))+parseInt(t(553))*-parseInt(t(449))+-parseInt(t(680))*-parseInt(t(504))+parseInt(t(638))*-parseInt(t(515))+-parseInt(t(713))*parseInt(t(454)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a71_0x4424);var g_GLData=null,g_GLObjectSet=null,g_GLPartSet=null,g_GLMaterialSet=null,g_GLAnnoSet=null,g_GLCameraSet=null,g_GLPmiSet=null,g_glprogram=null,g_webgl=null,g_buffers=null,g_webglControl=null,g_canvas=null,g_xmlTool=null,g_materialData=new MeshMaterialData,g_lineMtlData=new LineMaterialData,g_pureColor=new PureColor,g_sceneConfig=null,g_sceneMeasure=null,g_sceneAnnotation=null,g_sceneSection=null,g_scenePmiManager=null,g_texBasisu=null,g_texturer=new Texturer,g_render=null,g_axisNvg=null,g_objectAxisNvg=null,g_sceneExploder=null;const RUNTIME_MODE_NORMAL=-1,RUNTIME_MODE_ANNOTATION=0,RUNTIME_MODE_MEASURE=1,RUNTIME_MODE_SECTION=2,RUNTIME_MODE_PMI=3,RUNTIME_RENDER_STOP=0,RUNTIME_RENDER_GO=1,ANIM_FRAME_STEP=30,SCENE_DEFAULT_ROT_SENS=3;function RunTimePickUnit(){const t=a71_0x45d5;this[t(550)]=-2,this._oPickUnit=null,this[t(543)]=function(){this[t(550)]=-2,this._oPickUnit=null}}function RunTimeRender(){const t=a71_0x45d5;this[t(498)]=!1,this._uElapseTimeMillSec=0,this[t(588)]=null,this[t(543)]=function(){this[t(498)]=!1,this._uElapseTimeMillSec=0}}function a71_0x45d5(t,e){return t-=445,a71_0x4424[t]}function GLRunTime(){const c=a71_0x45d5;this[c(732)]=0,this[c(681)]=0,this.SCALE_STEP=10,this[c(606)]=10,this.SCALE_MAX=2e3,this[c(488)]=1,this.m_fOperateSensitivity=1,this[c(577)]=new Box3D,this.m_defFocus=new Point3(0,0,0),this[c(467)]=new Point3(0,0,0),this.m_defUpAxis=new Point3(0,0,0),this[c(635)]=vec3[c(519)](),this[c(666)]=vec3[c(519)](),this[c(499)]=vec4.create(),this.ray_clip_far=vec4[c(519)](),this.viewMatInverse=mat4[c(519)](),this.projectionMatInverse=mat4[c(519)](),this.MMatrix=mat4[c(519)](),this[c(581)]=mat4[c(519)](),this[c(710)]=mat4[c(519)](),this.inverseMVPMatrix=mat4[c(519)](),this[c(540)]=vec4[c(519)](),this[c(544)]=vec4.create(),this[c(687)]=new Point3(0,0,0),this.RayPoint2=new Point3(0,0,0),this[c(620)]=new Point3(0,0,0),this[c(447)]=new Point3(0,0,0),this[c(703)]=new Point3(0,0,0),this[c(514)]=new Point3(0,0,0),this[c(510)]=mat4[c(519)](),this[c(482)]=mat4[c(519)](),this.ObjectStartmatrix=mat4[c(519)](),this[c(694)]=0,this[c(506)]=vec3.create(),this[c(475)]=vec3[c(519)](),this.curModelCenter=new Point3(0,0,0),this.curObjectCenter=new Point3(0,0,0),this[c(685)]=new Array,this[c(645)]=new Rect2D(0,0,0,0),this[c(486)]=!0,this[c(528)]=CAPTURE_NONE,this[c(466)]=new GL_PICK_UNIT,this[c(474)]=mat4[c(519)](),this[c(522)]=mat4[c(519)](),this[c(733)]=mat4[c(519)](),this[c(706)]=!1,this[c(608)]=-1,this.curPickUnit=new RunTimePickUnit,this[c(601)]=null,this.mapMeshIDIndex=null,this.mapMaterialIDIndex=null,this[c(667)]=function(){var t=c;"4"==g_product&&(g_webgl=new(g_isWebgl2?(g_buffers=new WebGL2Buffer(gl),WebGL2):(g_buffers=new WebGL1Buffer(gl),WebGL1))(gl),g_glprogram=new GLProgram,g_canvas=new Canvas2D,g_webglControl=new WebGLControl(gl),g_sceneMeasure=new SceneMeasure,g_sceneAnnotation=new SceneAnnotation,g_sceneSection=new SceneSection,g_scenePmiManager=new ScenePmiManager,g_render=new RunTimeRender,(g_texBasisu=new TexturerBasisu)[t(516)](),g_sceneExploder=new SceneExplode,g_camera=Camera.make(),g_cameraController=CameraController[t(693)](),g_cameraDesc=Camera[t(668)](),g_cameraController[t(697)]=SCENE_DEFAULT_ROT_SENS,this.initRuntimeParams(),this[t(631)](),g_glprogram.initGLData(),g_webgl[t(591)](),g_buffers.initBuffers(),g_canvas[t(742)](this[t(732)],this[t(681)]))},this[c(505)]=function(){var t=c;null!=g_glprogram&&g_glprogram[t(489)](),null!=g_sceneSection&&g_sceneSection[t(455)](),null!=g_scenePmiManager&&g_scenePmiManager[t(654)](),null!=g_webgl&&g_webgl[t(562)](),null!=g_buffers&&g_buffers[t(612)](),this[t(610)]()},this.clear=function(){var t=c;null!=g_glprogram&&g_glprogram[t(481)](),null!=g_scenePmiManager&&g_scenePmiManager.clearPmi(),null!=g_webgl&&g_webgl.clearScene(),null!=g_buffers&&g_buffers.clearBuffers(),this[t(610)]()},this[c(610)]=function(){var t=c;null!=g_sceneAnnotation&&g_sceneAnnotation[t(654)](),null!=g_sceneMeasure&&g_sceneMeasure[t(654)](),null!=g_GLObjectSet&&g_GLObjectSet[t(543)](),null!=g_GLPartSet&&g_GLPartSet[t(543)](),null!=g_GLMaterialSet&&g_GLMaterialSet[t(543)](),null!=g_GLAnnoSet&&g_GLAnnoSet.Clear(),null!=g_GLCameraSet&&g_GLCameraSet[t(543)](),(g_GLData=null)!=g_sceneSection&&g_sceneSection[t(634)](),this[t(728)]()},this[c(728)]=function(){var t=c;null!=this[t(601)]&&this[t(601)].splice(0,this[t(601)][t(551)]),null!=this.mapMeshIDIndex&&this[t(752)][t(533)](0,this.mapMeshIDIndex[t(551)]),null!=this[t(720)]&&this[t(720)].splice(0,this.mapMaterialIDIndex.length)},this[c(461)]=function(){var t=c;this[t(676)](),g_glprogram[t(688)](),g_webgl[t(730)](),g_canvas[t(742)](this[t(732)],this[t(681)])},this[c(676)]=function(){var t=c;this[t(732)]=gl[t(464)].clientWidth,this.HEIGHT=gl[t(464)][t(722)],null==g_GLData&&(g_GLData=Cle2Data(),g_GLObjectSet=g_GLData[t(594)],g_GLMaterialSet=g_GLData[t(664)],g_GLAnnoSet=g_GLData[t(663)],g_sceneConfig=g_GLData[t(624)],g_GLCameraSet=g_GLData[t(462)],g_GLPmiSet=g_GLData[t(465)]),null==g_webglControl[t(564)]&&(g_webglControl[t(749)]=g_bgImageIndex,g_webglControl[t(564)]=new Array(g_bgImage.length),GetDefaultBgImg(g_webglControl[t(564)],g_bgImage[t(551)])),this[t(674)](g_sceneLightOn)},this.initMap=function(){var t,e,a=c;for(t in this[a(601)]=new Array,g_GLObjectSet[a(762)])this[a(601)][g_GLObjectSet[a(762)][t][a(632)]]=t;for(e in this[a(720)]=new Array,g_GLMaterialSet[a(582)])this[a(720)][g_GLMaterialSet[a(582)][e][a(698)]]=e},this.initCamera=function(){var t=c,e=web3dCanvas[t(734)]();this[t(732)]=e[t(458)],this[t(681)]=e[t(554)],1e-4<g_GLCameraSet[t(451)][t(531)]?(this[t(620)].x=g_GLCameraSet._DefaultCamera[t(587)].x,this[t(620)].y=g_GLCameraSet[t(451)][t(587)].y,this.ObjectOriginalCenter.z=g_GLCameraSet[t(451)][t(587)].z,Common[t(598)](g_cameraDesc,g_GLCameraSet._DefaultCamera),g_cameraDesc[t(686)]=this[t(732)]/this[t(681)],Camera[t(446)](g_camera,g_cameraDesc),Camera.setViewport(g_camera,this.WIDTH,this[t(681)],web3dCanvas[t(717)],web3dCanvas[t(745)])):(getModelBoxCenter(this.m_modelBox,this.ObjectOriginalCenter),g_glprogram.setModelCenter(this[t(620)]),getModelDefEyePos(this[t(577)],this[t(467)],this[t(616)],this[t(718)]),Common[t(476)](g_cameraDesc[t(695)],this[t(467)]),Common.fromCleVec3(g_cameraDesc[t(574)],this[t(616)]),Common[t(476)](g_cameraDesc[t(702)],this[t(718)]),g_cameraDesc.fAspect=this[t(732)]/this[t(681)],e=float3[t(459)](g_cameraDesc[t(695)],g_cameraDesc[t(574)]),g_cameraDesc[t(611)]=.02*e,g_cameraDesc[t(541)]=200*e,g_cameraDesc[t(453)]=45*Math.PI/180,Camera[t(446)](g_camera,g_cameraDesc),Camera[t(468)](g_camera,this.WIDTH,this[t(681)],web3dCanvas[t(717)],web3dCanvas[t(745)])),CameraController[t(578)](g_cameraController,g_sceneConfig[t(507)]),CameraController.setControl(g_cameraController,CameraController.eRotPos)},this.initSceneBox=function(){var t=c;this[t(706)]?this.m_modelBox=getModelBox(g_GLObjectSet,g_GLPartSet):this[t(577)]=getSliceScleBox(g_GLObjectSet,g_sceneData[t(617)])},this.initOperationParams=function(){var t=c;this[t(488)]=getModelBoxLength(this[t(577)]),this[t(606)]=this[t(488)]/20,this[t(760)]=2*this[t(488)],this.SCALE_STEP=this[t(606)]},this.flush=function(){const a=c;0==g_render[a(498)]&&(window[a(659)](function(t){var e=a;null!=gl&&g_webgl[e(716)](),null!=gl2d&&g_canvas[e(679)](),updateNvgCamera(g_camera),null!=g_render._onTick&&g_render[e(588)](t),g_render._uRequestRender=!1}),g_render[a(498)]=!0)},this[c(472)]=function(){const a=c;0==g_render[a(498)]&&(window[a(659)](function(t){var e=a;null!=gl2d&&g_canvas[e(679)](),null!=g_render[e(588)]&&g_render[e(588)](t),g_render[e(498)]=!1}),g_render[a(498)]=!0)},this[c(633)]=function(){var t=c;null!=gl&&g_webgl[t(716)]()},this[c(530)]=function(){var t=c;null!=gl2d&&g_canvas[t(679)]()},this.resetWindow=function(t,e){var a=c;this.WIDTH=t,this[a(681)]=e,Camera[a(468)](g_camera,t,e,web3dCanvas[a(717)],web3dCanvas[a(745)]),g_webgl[a(469)](),g_canvas[a(742)](this[a(732)],this[a(681)]),this[a(724)]()},this[c(657)]=function(t,e){var a=c,t=(getModelBoxCenter(this[a(577)],this.curModelCenter),CalTranslatePoint(this[a(535)].x,this[a(535)].y,this[a(535)].z,g_camera.mViewProj,this[a(447)]),-t/this[a(732)]),e=-e/this.HEIGHT,t=(CalTranslatePoint(0,0,this[a(447)].z,g_camera.mViewProjI,this.ObjectMoveCenterStart),CalTranslatePoint(t,e,this[a(447)].z,g_camera.mViewProjI,this.ObjectMoveCenterEnd),this[a(535)].x=this.ObjectMoveCenterEnd.x-this[a(703)].x,this[a(535)].y=this.ObjectMoveCenterEnd.y-this.ObjectMoveCenterStart.y,this.curModelCenter.z=this.ObjectMoveCenterEnd.z-this[a(703)].z,g_glprogram.moveModelCenter(this[a(535)]),float3[a(693)]()),e=(float3.set(t,this[a(535)].x,this[a(535)].y,this[a(535)].z),float3[a(740)](null,g_camera[a(677)][a(695)],t)),t=float3[a(740)](null,g_camera[a(677)][a(574)],t);Camera[a(723)](g_camera,e,t,null),this.flush()},this[c(445)]=function(t,e,a){var n=c,i=g_glprogram.getObjectModelMatrix(t),t=g_GLObjectSet._arrObjectSet[t][n(744)],t=(getModelBoxCenter(g_GLPartSet[n(492)][t][n(571)][0]._boxset[n(555)],this[n(535)]),mat4[n(690)](this[n(710)],g_camera[n(561)],i),CalTranslatePoint(this[n(535)].x,this[n(535)].y,this[n(535)].z,this[n(710)],this[n(447)]),e/this[n(732)]),i=a/this[n(681)];CalTranslatePoint(0,0,this[n(447)].z,g_camera[n(532)],this[n(703)]),CalTranslatePoint(t,i,this[n(447)].z,g_camera[n(532)],this[n(514)]),mat4[n(452)](this[n(510)]),mat4[n(725)](this[n(510)],this[n(510)],vec3[n(629)](this.ObjectMoveCenterEnd.x-this[n(703)].x,this.ObjectMoveCenterEnd.y-this[n(703)].y,this.ObjectMoveCenterEnd.z-this[n(703)].z)),g_glprogram[n(602)](this[n(510)]),this[n(724)]()},this[c(559)]=function(t,e,a,n){var i=c;vec3[i(675)](this.curMoveVec,e,a,n),this[i(658)]=g_webglControl[i(509)][t],mat4[i(725)](this[i(510)],IDENTITY_MATRIX,this[i(506)]),mat4[i(690)](g_webglControl[i(509)][t],this[i(510)],this[i(658)]),this[i(724)]()},this[c(627)]=function(t,e,a,n){var i=c;this[i(703)][i(675)](e,a,n),mat4[i(512)](this[i(658)],g_webglControl[i(509)][t]),this[i(694)]=1},this[c(484)]=function(t,e,a,n){var i=c;0!=this[i(694)]&&(vec3.set(this[i(506)],e-this.ObjectMoveCenterStart.x,a-this.ObjectMoveCenterStart.y,n-this[i(703)].z),mat4.translate(this[i(510)],IDENTITY_MATRIX,this[i(506)]),mat4.multiply(g_webglControl[i(509)][t],this[i(510)],this[i(658)]),this[i(724)]())},this.objectMoveWorldFinish=function(){var t=c;mat4[t(452)](this[t(658)]),this[t(694)]=0,this[t(472)]()},this[c(584)]=function(t){var e=c;mat4[e(512)](this[e(658)],g_webglControl.m_arrObjectMatrix[t]),this.ObjectStartFlag=1},this[c(566)]=function(t,e,a){var n=c;0!=this[n(694)]&&(vec3[n(675)](this[n(475)],e.x,e.y,e.z),mat4[n(589)](g_webglControl.m_arrObjectMatrix[t],this.ObjectStartmatrix,a,this[n(475)]),this[n(724)]())},this[c(639)]=function(){var t=c;mat4[t(452)](this[t(658)]),this.ObjectStartFlag=0,this.flush2D()},this.objectSetMoveWorld=function(t,e,a,n){var i=c,s=getPublicModelBox(g_GLObjectSet,g_GLPartSet,t,g_webglControl.m_arrObjectMatrix);getModelBoxCenter(s,this[i(535)]),mat4[i(452)](this[i(510)]),mat4[i(725)](this.ObjectMovematrix,this.ObjectMovematrix,vec3[i(629)](e,a,n)),g_glprogram[i(705)](t,this[i(510)]),this[i(724)]()},this[c(712)]=function(t){var e=c;g_glprogram[e(712)](t),this[e(724)]()},this[c(456)]=function(t){var e=c;g_glprogram[e(592)](t),this.flush()},this[c(661)]=function(t){var e=c;g_glprogram[e(712)](t),g_glprogram[e(592)](t),this[e(724)]()},this[c(670)]=function(t,e,a,n){var i=c,t=2*t/this.WIDTH-1,e=1-2*e/this[i(681)];this[i(635)][0]=t,this[i(635)][1]=e,this.ray_nds_near[2]=-1,this[i(666)][0]=t,this.ray_nds_far[1]=e,this[i(666)][2]=1,this[i(499)][0]=this[i(635)][0],this[i(499)][1]=this[i(635)][1],this[i(499)][2]=this[i(635)][2],this[i(499)][3]=1,this[i(754)][0]=this[i(666)][0],this[i(754)][1]=this[i(666)][1],this.ray_clip_far[2]=this[i(666)][2],this[i(754)][3]=1,vec4.transformMat4(this[i(540)],this.ray_clip_near,g_camera[i(532)]),vec4[i(615)](this[i(544)],this.ray_clip_far,g_camera.mViewProjI),0!=this.ray_world_near[3]&&(this[i(540)][0]/=this[i(540)][3],this[i(540)][1]/=this[i(540)][3],this[i(540)][2]/=this[i(540)][3]),0!=this.ray_world_far[3]&&(this[i(544)][0]/=this[i(544)][3],this[i(544)][1]/=this.ray_world_far[3],this[i(544)][2]/=this[i(544)][3]),a.x=this.ray_world_near[0],a.y=this[i(540)][1],a.z=this[i(540)][2],n.x=this[i(544)][0],n.y=this[i(544)][1],n.z=this[i(544)][2]},this.cvtCMOnlineToWorld=function(t,e){var a=c;CalTranslatePoint(t.x,t.y,t.z,g_webglControl[a(509)][e],t)},this[c(570)]=function(t,e){var a;-1<e&&(a=new Point3(t.x,t.y,t.z),CalInversePoint(a,g_webglControl.m_arrObjectMatrix[e],t))},this[c(613)]=function(t,e){var a=c;e.x=(t.x+1)/2*this.WIDTH,e.y=(1-t.y)/2*this[a(681)]},this[c(673)]=function(t,e){var a=c;e.x=t.x/this[a(732)]*2-1,e.y=1-t.y/this[a(681)]*2},this.getCanvasPosByModelPos=function(t,e){var a=c,a=g_canvas[a(699)](t,e);return{x:(a.x+1)/2,y:(1-a.y)/2}},this[c(656)]=function(t,e,a,n){var i=c;if(this.curRuntimeMode==RUNTIME_MODE_MEASURE){this[i(605)][i(550)]=RUNTIME_MODE_MEASURE;var s=g_sceneMeasure[i(473)](t,e);if(-1<s)return g_glprogram.pickNone(),this[i(605)]._oPickUnit=s,this[i(605)]}return this[i(608)]==RUNTIME_MODE_PMI&&(this[i(605)][i(550)]=RUNTIME_MODE_PMI,this[i(605)][i(671)]=g_scenePmiManager[i(477)](t,e,a,n),null!=this[i(605)][i(671)])?(g_glprogram.pickNone(),this[i(605)]):(this[i(670)](t,e,this[i(687)],this[i(569)]),this[i(608)]!=RUNTIME_MODE_SECTION?(this.curPickUnit[i(671)]=g_glprogram.pickByRay(this.RayPoint1,this[i(569)],a,n),-1<this[i(605)][i(671)][i(536)]?(this[i(605)]._uPickType=RUNTIME_MODE_NORMAL,1==g_sceneMeasure[i(600)]&&1==g_webglControl[i(556)]&&(this[i(605)][i(550)]=RUNTIME_MODE_MEASURE,g_sceneMeasure[i(502)](this[i(605)]._oPickUnit))):this[i(605)][i(543)](),this[i(724)](),this.curPickUnit):void this.curPickUnit[i(543)]())},this.pickObjectIndex=function(t,e,a,n){var i=c,t=this[i(656)](t,e,a,n);return null==t||null==t[i(671)]?-1:t[i(671)][i(536)]},this[c(738)]=function(t){var e=c;null==t||t[e(551)]<1||(g_glprogram[e(485)](t),this[e(724)]())},this.pickModelByIDs=function(a){var n=c;if(null==a||a[n(551)]<1)g_glprogram[n(700)]();else{var i=new Array;for(let e=0;e<a[n(551)];++e)for(let t=0;t<g_GLObjectSet[n(762)][n(551)];++t)if(g_GLObjectSet[n(762)][t]._uObjectID==a[e]){i[n(637)](t);break}this[n(738)](i)}this[n(724)]()},this[c(546)]=function(){var t=c;return g_glprogram[t(546)]()},this[c(593)]=function(){return g_glprogram.getPickedIndex()},this[c(579)]=function(){var e=c,a=new Array,n=g_glprogram.getPickedIndex();for(let t=0;t<n.length;t++)a[e(637)](g_GLObjectSet[e(762)][n[t]][e(632)]);return a},this[c(526)]=function(t){var e=c;return t<0||t>=g_GLObjectSet[e(762)].length?null:g_GLObjectSet[e(762)][t][e(632)]},this[c(621)]=function(t){var e=c,a=(t[e(684)](),this[e(673)](t[e(521)],this[e(645)].min),this[e(673)](t[e(549)],this.webglRect[e(549)]),this.webglRect.normalize(),new Array);for(let t=0;t<g_GLObjectSet._arrObjectSet[e(551)];++t){var n=g_GLObjectSet[e(762)][t][e(744)];mat4[e(690)](this[e(710)],g_camera[e(561)],g_glprogram[e(604)](t)),g_glprogram[e(714)](g_GLPartSet[e(492)][n][e(571)][0],this.MVPMatrix,this.webglRect)&&a[e(637)](t)}return this.pickModelByIndexs(a)},this[c(618)]=function(){var t=c;return g_glprogram[t(678)]},this[c(707)]=function(t){t=this.mapObjectIDIndex[t];return null==t?-1:t},this[c(651)]=function(t){var e=c;return t<0||t>=g_GLObjectSet._arrObjectSet[e(551)]?-1:g_GLObjectSet._arrObjectSet[t][e(632)]},this.getObjectNameByID=function(e,a){var n=c;if(a[n(632)]==e)return a[n(739)];var i;for(let t=0;t<a[n(737)][n(551)];++t)if(null!=(i=this.getObjectNameByID(e,a[n(737)][t])))return i;return null},this[c(653)]=function(e,a){var n=c;if(a[n(632)]==e)return a[n(517)];var i;for(let t=0;t<a._arrSubNode[n(551)];++t)if(null!=(i=this.getObjectTreeIDByID(e,a[n(737)][t])))return i;return null},this[c(518)]=function(e,a){var n=c;if(a[n(632)]==e)return a[n(652)];var i;for(let t=0;t<a[n(737)][n(551)];++t)if(null!=(i=this[n(518)](e,a[n(737)][t])))return i;return null},this[c(493)]=function(t){var e=c;let a=this[e(707)](t),n=null;return 0<=a&&(t=this[e(746)](a)[e(513)],(n=new Point2(0,0)).x=(t.x+1)*this[e(732)]/2,n.y=(1-t.y)*this[e(681)]/2),n},this[c(746)]=function(t){var e=c;return{Center2D:this[e(545)](t),Center3D:this[e(597)](t)}},this[c(597)]=function(t){var e,a=c,n=g_GLObjectSet[a(762)][t][a(744)];return null==g_GLPartSet[a(492)][n]?null:(e=new Point3(0,0,0),t=g_webglControl[a(509)][t],getModelBoxCenter(g_GLPartSet[a(492)][n]._arrPartLODData[0][a(672)][a(555)],this[a(535)]),CalTranslatePoint(this[a(535)].x,this[a(535)].y,this[a(535)].z,t,e),e)},this[c(545)]=function(t){var e,a=c,n=g_GLObjectSet[a(762)][t][a(744)];return null==g_GLPartSet._arrPartSet[n]?null:(e=new Point3(0,0,0),t=g_webglControl[a(509)][t],getModelBoxCenter(g_GLPartSet[a(492)][n][a(571)][0][a(672)]._ObjectBox,this[a(535)]),mat4.multiply(this[a(710)],g_camera[a(561)],t),CalTranslatePoint(this.curModelCenter.x,this.curModelCenter.y,this[a(535)].z,this[a(710)],e),e)},this[c(641)]=function(t){var e=c,t=g_GLObjectSet[e(762)][t][e(744)];return null==g_GLPartSet[e(492)][t]?0:g_GLPartSet[e(492)][t][e(571)][0][e(672)]._SurfaceBoxes.length},this.getObjectModelIndex=function(t){var e=c,t=this[e(707)](t);return t<0?-1:g_GLObjectSet[e(762)][t][e(744)]},this[c(496)]=function(t){var e=c,t=this[e(644)](t);return t<0?-1:g_GLPartSet[e(492)][t][e(665)]},this[c(508)]=function(){var e=c;if(this[e(685)][e(533)](0,this[e(685)][e(551)]),this.pickIndexs=g_glprogram[e(711)](),null==this.pickIndexs||0==this[e(685)][e(551)])for(let t=0;t<g_webglControl[e(509)][e(551)];t++)this[e(685)][e(637)](t);var t=getPublicModelBox(g_GLObjectSet,g_GLPartSet,this[e(685)],g_webglControl.m_arrObjectMatrix);getModelBoxCenter(t,this[e(535)]);let a=getModelBoxLength(t),n=Camera[e(483)](g_camera),i=.5*a,s=0;s=i<n?n:1.5*a;t=new Vector3(g_camera[e(677)][e(695)][0]-g_camera.desc.vAt[0],g_camera[e(677)].vEye[1]-g_camera.desc.vAt[1],g_camera[e(677)].vEye[2]-g_camera[e(677)][e(574)][2]);t[e(684)](),Camera[e(471)](g_cameraDesc,g_camera[e(677)]),float3[e(675)](g_cameraDesc[e(574)],this[e(535)].x,this.curModelCenter.y,this[e(535)].z),float3.set(g_cameraDesc[e(695)],g_cameraDesc[e(574)][0]+t.x*s,g_cameraDesc[e(574)][1]+t.y*s,g_cameraDesc[e(574)][2]+t.z*s),shiftViewAnim(g_cameraDesc,.5)},this.pickModelTreeNode=function(t){var e=c;return g_glprogram[e(485)](t)},this.setBackground=function(t){var e=c;g_glprogram[e(537)](t),g_webglControl.isShowImageBk=!0,this[e(724)]()},this[c(520)]=function(t){const e=c;let a=new Image,n=void(a[e(583)]=t);a[e(696)]=function(){var t=e;null!=(n=g_texturer.createUrlRgbaTexture(gl,a,g_isWebgl2))&&g_glprogram[t(576)](n)},g_webglControl[e(478)]=!0,this[e(724)]()},this[c(590)]=function(t,e,a){var n=c;float4[n(675)](g_webglControl.m_BgColor,t,e,a,1),g_webglControl[n(478)]=!1,this[n(724)]()},this[c(524)]=function(){var t,e=c;return null!=g_webglControl.m_arrBgTexId&&0<g_webglControl[e(564)][e(551)]&&g_webglControl[e(478)]?null:((t=new Array).push(g_webglControl.m_BgColor[0]),t.push(g_webglControl.m_BgColor[1]),t[e(637)](g_webglControl[e(736)][2]),t)},this[c(640)]=function(t){var e=c;if(null!=g_cameraDesc&&null!=g_camera){Camera[e(471)](g_cameraDesc,g_camera[e(677)]);var a=float3[e(693)]();switch(t){case 0:float3[e(675)](a,0,0,this[e(488)]),float3[e(675)](g_cameraDesc[e(702)],0,1,0);break;case 1:float3.set(a,0,0,-this.m_fModelLength),float3[e(675)](g_cameraDesc[e(702)],0,1,0);break;case 2:float3[e(675)](a,-this.m_fModelLength,0,0),float3[e(675)](g_cameraDesc[e(702)],0,1,0);break;case 3:float3.set(a,this[e(488)],0,0),float3[e(675)](g_cameraDesc[e(702)],0,1,0);break;case 4:float3[e(675)](a,0,this[e(488)],0),float3[e(675)](g_cameraDesc[e(702)],0,0,-1);break;case 5:float3[e(675)](a,0,-this.m_fModelLength,0),float3.set(g_cameraDesc[e(702)],0,0,1);break;case 6:float3[e(675)](a,this[e(488)]/2,this[e(488)]/Math[e(542)](45*Math.PI/180),this[e(488)]/2),float3[e(675)](g_cameraDesc.vUp,0,0,1)}g_glprogram[e(700)](),float3[e(740)](g_cameraDesc[e(695)],g_camera[e(677)][e(574)],a),shiftViewAnim(g_cameraDesc,.5)}},this.setObjectTransparent=function(e,a){var n=c;if(null==e||0==e[n(551)])g_glprogram.setObjectTransparent(-1,a);else{var i;for(let t=0;t<e[n(551)];++t)0<=(i=this[n(707)](e[t]))&&g_glprogram[n(704)](i,a)}this[n(724)]()},this[c(470)]=function(t){var e=c;return g_glprogram[e(470)](t)},this[c(538)]=function(t,e){var a=c;g_glprogram[a(538)](t,e),this[a(724)]()},this[c(715)]=function(t){var e=c;return g_glprogram[e(715)](t)},this[c(753)]=function(t,e){var a=c;null==t||t[a(551)]<1||(g_glprogram[a(757)](t,e),this[a(724)]())},this.setObjectMaterial=function(t,e,a,n,i){var s=c,e=ConvertColorToMaterial(e,a,n,i),a=this[s(707)](t);return!(a<0||(g_glprogram[s(692)](a,e),this.flush(),0))},this[c(448)]=function(t,e){var a=c,e=this[a(748)](e);null!=e&&(g_glprogram.setObjectMaterial(t,e),this[a(724)]())},this[c(646)]=function(t,e,a,n){const i=c;t=this[i(707)](t);if(t<0)return-1;var s=g_GLObjectSet[i(762)][t][i(744)];if(null==g_GLPartSet[i(492)][s]||1!=g_GLPartSet[i(492)][s][i(571)][0][i(650)])return-1;s=this[i(748)](a);if(null==s)return-1;let r=s[i(758)](),l=(r._uMtlID=g_newMaterialID++,r._MtlData[i(494)]=ADFMTLTYPE_PICTURE,t),o=e,_=new Image;_.onload=function(){var e=i;if(r[e(523)][e(727)][0]=g_texturer[e(609)](gl,_,g_isWebgl2),null==o||0==o.length)g_glprogram.setObjectMaterial(l,r);else for(let t=0;t<o[e(551)];++t)g_glprogram[e(487)](l,o[t],r);this.flush()},_.src=n},this[c(497)]=function(t,e,a,n){var i=c,s=this.getObjectIndexById(t);if(s<0)return-1;t=g_GLObjectSet[i(762)][s][i(744)];if(null==g_GLPartSet._arrPartSet[t]||1!=g_GLPartSet[i(492)][t][i(571)][0]._uIsUV)return-1;t=this[i(748)](a);if(null==t)return-1;var r=t[i(758)]();if(r[i(698)]=g_newMaterialID++,r[i(523)]._eMtlType=ADFMTLTYPE_PICTURE,null==g_texBasisu||!g_texBasisu.wasmInit)return console.log(i(755)),-1;a=g_texBasisu[i(534)](n);if(null==a)return-1;if(r[i(523)]._arrTexID[0]=g_texBasisu[i(628)](a[i(567)],a[i(458)],a[i(554)],a[i(596)]),null==e||0==e[i(551)])g_glprogram[i(692)](s,r);else for(let t=0;t<e.length;++t)g_glprogram[i(487)](s,e[t],r)},this[c(487)]=function(t,e,a,n,i,s){var r=c,a=ConvertColorToMaterial(a,n,i,1);g_glprogram[r(487)](t,e,a),this[r(724)]()},this.setObjectSurfaceMaterialById=function(t,e,a){var n=c,i=this[n(707)](t);if(0<=i){if(null==e||0==e[n(551)]){var s=this[n(641)](i);for(let t=0;t<s;++t)this.setObjectSurfaceMaterialByIndex(i,t,a)}else for(let t=0;t<e[n(551)];++t)this[n(460)](i,e[t],a);return 0}return-1},this[c(460)]=function(t,e,a){var n=c;t<0||e<0||(a=this[n(603)](a))<0||(g_glprogram[n(643)](t,e,a),this[n(724)]())},this[c(568)]=function(t){var e=c,t=this[e(707)](t);if(0<=t)return g_glprogram[e(487)](t,-1,null);this[e(724)]()},this[c(575)]=function(t){var e=c;if(-1==t)return g_GLMaterialSet[e(572)]();var a=this.getObjectIndexById(t);if(0<=a){var n=new Array;for(i=0;i<g_GLObjectSet._arrObjectSet[a][e(565)][e(551)];++i){var s=g_GLMaterialSet[e(636)](g_GLObjectSet[e(762)][a][e(565)][i]);n.push(s)}return n}return null},this.getMaterialById=function(t){return 0<=this.getMaterialIndexById(t)?g_GLMaterialSet._arrMaterialSet[i]:null},this[c(603)]=function(t){t=this[c(720)][t];return null==t?-1:t},this[c(649)]=function(t){var e=c,a=this[e(707)](t);if(a<0)return null;t=g_GLObjectSet[e(762)][a]._uPartIndex;if(null==g_GLPartSet._arrPartSet[t])return null;var n=g_GLPartSet[e(492)][t]._arrPartLODData[0][e(672)]._ObjectBox,i=new P3D_BOX;for(let t=0;t<n[e(660)][e(551)];++t){var s=new Point3;CalTranslatePoint(n[e(660)][t].x,n[e(660)][t].y,n._Vertex[t].z,g_glprogram[e(604)](a),s),i._arrVertex[e(637)](s)}return i},this[c(751)]=function(t){var e=c,t=this.getTreeNodeById(t,g_GLData[e(626)]);return null==t?null:(e=new Array,this.getTreeNodeSubObjectID(t,e),e)},this[c(750)]=function(t,e,a,n){var i,s=c,t=this[s(503)](t,g_GLData[s(626)]);return null!=t&&(i=new Array,this[s(625)](t,i),!(i[s(551)]<=0||(this.objectSetMoveWorld(i,e,a,n),0)))},this[c(503)]=function(e,a){var n=c;if(a._uTreeNodeID==e)return a;var i;for(let t=0;t<a[n(737)][n(551)];++t)if(null!=(i=this[n(503)](e,a[n(737)][t])))return i;return null},this[c(625)]=function(e,a){var n=c;if(0<=e._uObjectIndex)a[n(637)](e._uObjectIndex);else for(let t=0;t<e[n(737)][n(551)];++t)this[n(625)](e[n(737)][t],a)},this[c(552)]=function(e,a){var n=c;if(0<=e._uObjectIndex)a[n(637)](e[n(632)]);else for(let t=0;t<e[n(737)].length;++t)this[n(552)](e[n(737)][t],a)},this[c(719)]=function(t){var e,a=c,t=this[a(503)](t,g_GLData[a(626)]);if(null!=t)return e=new Array,this.getTreeNodeSubObjectIndex(t,e),this[a(511)](e)},this[c(586)]=function(n){var i=c,s=new Array;for(let t=0;t<g_GLObjectSet[i(762)][i(551)];t++){let e=!1,a=g_GLObjectSet[i(762)][t][i(632)];for(let t=0;t<n[i(551)];++t)if(a==n[t]){e=!0;break}e||s[i(637)](t)}g_glprogram[i(560)](s,.2),this[i(724)]()},this[c(511)]=function(n){var i=c,t=new Array;for(let a=0;a<g_GLObjectSet[i(762)].length;a++){let e=!1;for(let t=0;t<n[i(551)];++t)if(a==n[t]){e=!0;break}e||t.push(a)}g_glprogram[i(560)](t,.2),this[i(724)]()},this[c(450)]=function(t){var e=c;1==t?g_glprogram[e(669)](PICK_GEOM_SURFACE):g_glprogram.setPickType(PICK_OBJECT),g_sceneGeomtryOn&&g_glprogram[e(607)]()},this.setSurfaceMaterial=function(t,e,a,n){var i=c,s=glRunTime.getPickUnit();this.setObjectSurfaceMaterial(s.objectIndex,s[i(479)],t,e,a,n)},this.home=function(t){var e=c;switch(t){case HOME_ALL:case HOME_TYPE_CAMERA:this[e(647)]()}g_glprogram[e(648)](t),g_sceneAnnotation[e(648)](t),this[e(724)]()},this[c(743)]=function(t,e){var a=c,t=this.getObjectIndexById(t);t<0||(CalMat4(g_GLObjectSet[a(762)][t][a(501)],this[a(474)]),CalMat4(e,this[a(522)]),mat4[a(690)](this[a(733)],this.digitalWorldMat,this[a(474)]),g_glprogram[a(721)](t,this.digitalMultiplyMat),this[a(724)]())},this[c(726)]=function(t){var e=c,t=this.getObjectIndexById(t);if(!(t<0))return g_GLObjectSet[e(762)][t][e(708)]},this[c(548)]=function(t){var e=c,t=this[e(707)](t);if(!(t<0))return e=g_glprogram[e(585)](t),CalADFMat(e)},this.setObjectsPickedByIds=function(a){var n=c;if(null!=a){var i=new Array;for(let e=0;e<a[n(551)];++e)for(let t=0;t<g_GLObjectSet[n(762)][n(551)];t++)if(g_GLObjectSet._arrObjectSet[t][n(632)]==a[e]){i[n(637)](t);break}g_glprogram[n(485)](i),this.flush()}},this[c(735)]=function(){var t=c;return g_canvas[t(490)]},this[c(563)]=function(t,e){var a=c;g_canvas.isDuringRectSel=t,g_canvas[a(558)].copy(e),this.draw2D()},this[c(623)]=function(t){this[c(528)]=t},this[c(500)]=function(t){var e=c;g_webglControl[e(556)]&&(t==MEASURE_NONE?this[e(528)]=CAPTURE_NONE:t==MEASURE_OBJECT?this[e(528)]=CAPTURE_OBJECT:t==MEASURE_SURFACE?this[e(528)]=CAPTURE_GEOM_SURFACE:t==MEASURE_CURVE?this[e(528)]=CAPTURE_GEOM_CURVE:t==MEASURE_POINT?this[e(528)]=CAPTURE_GEOM_POINT:t==MEASURE_TWO_CURVES?this.captureType=CAPTURE_GEOM_CURVE:t==MEASURE_TWO_POINTS&&(this.captureType=CAPTURE_GEOM_POINT))},this[c(529)]=function(t,e){var a=c;if(this[a(528)]==CAPTURE_NONE)return g_canvas[a(466)]=null;if(-1<g_sceneMeasure.pickMeasureUintByRay(t,e,!1))return null;this.cvtScreenToWorld(t,e,this.RayPoint1,this[a(569)]);t=g_glprogram.intersectRayScene(this[a(687)],this[a(569)],this.captureUnit);if(this[a(528)]==CAPTURE_OBJECT){if((g_canvas[a(466)]=null)==t||-1==this.captureUnit[a(536)])return null}else{if(this[a(528)]==CAPTURE_GEOM_SURFACE){if((g_canvas[a(466)]=null)==t||-1==this[a(466)][a(536)]||this.captureUnit[a(630)]<0)return g_glprogram[a(731)](),null;g_glprogram[a(557)](this[a(466)][a(536)],this[a(466)][a(479)],!1)}else if(this[a(528)]==CAPTURE_GEOM_CURVE){if(null==t||-1==this[a(466)][a(536)]||this[a(466)][a(527)]<0)return g_canvas[a(466)]=null;g_canvas[a(466)]=this[a(466)]}else{if(this[a(528)]!=CAPTURE_GEOM_POINT)return null;if(null==t||-1==this[a(466)].objectIndex||this[a(466)][a(622)]<0)return g_canvas[a(466)]=null;g_canvas.captureUnit=this[a(466)]}this[a(724)]()}return this.captureUnit},this[c(674)]=function(t){var e=c;g_webglControl[e(741)][0]=t?1:0},this[c(747)]=function(t,e,a){},this[c(642)]=function(t,e,a){var n=c;0!=g_webglControl[n(741)][0]&&(1<(t=t<0?0:t)&&(t=1),1<(e=e<0?0:e)&&(e=1),1<(a=a<0?0:a)&&(a=1),g_webglControl[n(759)][0]=t,g_webglControl[n(759)][1]=e,g_webglControl[n(759)][2]=a,this.flush())},this[c(761)]=function(){var e=c;this.isOnceLoad=!0,g_GLPartSet=GetSVZPartSet(),this[e(729)](),this.initCamera(),this[e(619)]();for(let t=0;t<g_GLPartSet[e(492)][e(551)];++t)g_glprogram[e(573)](t,g_GLPartSet[e(492)][t]),g_buffers.updatePartData(t);g_GLPartSet[e(682)](),this[e(724)]()},this[c(495)]=function(){var t=c;this[t(706)]=!1,(g_GLPartSet=new GL_PARTSET)[t(492)]=new Array(g_sceneData[t(617)][t(551)]),this[t(729)](),this[t(647)](),this[t(619)]()},this[c(701)]=function(t,e){var a,n,i=c;t<0||t>g_GLPartSet[i(492)].length||(this[i(706)]?console[i(599)]("current loader is not slice mode"):(a=new GL_PART,n=GetSVZPartData(e,0,0),a[i(571)][0]=n.PARTLODDATA,a[i(580)]=n.PARTSURFACEDATA,a[i(457)]=n[i(691)],a[i(491)]=e._arrSubset[0][i(547)],g_GLPartSet[i(492)][t]=a,g_glprogram.setObjectMeshMaterialUnitByPart(t,a),g_buffers[i(539)](t),g_GLPartSet[i(492)][t][i(682)](),this[i(724)]()))},this[c(595)]=function(){var t=c;g_sceneAnnotation[t(463)](),g_sceneData[t(543)](),this[t(724)]()},this[c(662)]=function(t){var e=c;Cle2Data()[e(594)],GetSVZPartSet();g_sceneData[e(543)](),this.flush()},this[c(480)]=function(t){var e=c;2==t||4==t||8==t?g_webgl[e(614)](t):g_webgl[e(614)](0),this[e(724)]()},this.recorderViewImage=function(t,e,a){var n=c;let i=null,s="";return s=0==a?(i=g_webgl.renderPixel(t,e),n(689)):(i=g_webgl.renderPixelMSAA(t,e),"high"),this[n(724)](),{type:0,desc:s,width:t,height:e,pixels:i}}}var a109_0x9837=["updateDesc","button","1048564LMHKNI","fAspect","677693qVwSsH","onmousedown","height","sub","length","mViewProj","set","uninitNavigator","287703MgHXDN","rgba(222,222,222,0.2)","Navigator/navigator_circle_x_dark.png","517469xJxqtC","top","shiftView","clientY","mul","fillStyle","drawNavigator","onmousemove","Navigator/navigator_circle_y_focus.png","fSensRot","clientX","Navigator/navigator_circle_x_focus.png","1uPFctX","718pFsKzT","right","fWidth","dot","left","vEye","1qbPNRs","Navigator/navigator_circle_z_light.png","1567tTJIdq","fFOVInRadian","setFocus","Navigator/navigator_circle_z_dark.png","isPointInside","829737SQOwfx","getBoundingClientRect","normalize","make","Navigator/navigator_circle_y_light.png","width","makeDesc","setViewport","oncontextmenu","push","isHide","Navigator/navigator_circle_ex_light.png","style","from","vAt","initNvgCamera","5px","splice","beginDrag","desc","Navigator/navigator_circle_z_focus.png","onmouseout","bottom","initNavigator","drag","clearRect","fill","onmouseover","initNvgNodePt","arc","getContext","Navigator/navigator_circle_ez_dark.png","1201203lrXEpP","assign","closePath"],a109_0x1ddda2=a109_0x2d05;!function(e){for(var t=a109_0x2d05;;)try{if(612535===parseInt(t(225))*parseInt(t(278))+parseInt(t(239))+parseInt(t(234))*parseInt(t(226))+-parseInt(t(271))+-parseInt(t(276))+-parseInt(t(286))+parseInt(t(289))*parseInt(t(232)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a109_0x9837);const NVG_CAMERA_DISTANCE=4,NVG_NODE_RADIUS=.13,NVG_LAYOUT_TOP_LEFT=0,NVG_LAYOUT_TOP_RIGHT=1,NVG_LAYOUT_BOTTOM_LEFT=2,NVG_LAYOUT_BOTTOM_RIGHT=3;var nvgController=null,nvg2dCanvas=null,nvg3dCanvas=null,nvgGl=null,nvg2d=null,nvgCamera=Camera.make(),nvgCameraController=CameraController[a109_0x1ddda2(242)](),nvgCameraDesc=Camera[a109_0x1ddda2(245)](),nvgEyeDir=float3[a109_0x1ddda2(242)](),nvgVertex=[0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1];const nvgAxisCount=[2,2,2],nvgBillbordList=[a109_0x1ddda2(288),a109_0x1ddda2(224),"Navigator/navigator_circle_x_light.png","Navigator/navigator_circle_ex_dark.png",a109_0x1ddda2(250),"Navigator/navigator_circle_y_dark.png",a109_0x1ddda2(297),a109_0x1ddda2(243),"Navigator/navigator_circle_ey_dark.png","Navigator/navigator_circle_ey_light.png",a109_0x1ddda2(237),a109_0x1ddda2(259),a109_0x1ddda2(233),a109_0x1ddda2(270),"Navigator/navigator_circle_ez_light.png","Navigator/navigator_circle_e_focus.png"];var nvgBillboardPt=[float3[a109_0x1ddda2(242)](),float3.make(),float3[a109_0x1ddda2(242)](),float3.make(),float3[a109_0x1ddda2(242)](),float3[a109_0x1ddda2(242)]()];const nvgBillboardVertex=[1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1],nvgBillboardSize=[-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS],nvgBillboardUV=[0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1];var nodeCircle=new Circle2D(0,0,0),nodeProjPt=new Point3(0,0,0),pickScreenPt=new Point3(0,0,0),pickProjPt=new Point3(0,0,0),pickNodeArray=new Array,isNvgReqRender=!1;const NVG_DEFAULT_ROT_SENS=6;function initNavigatorCanvas(){var t=a109_0x1ddda2;null!=nvg2dCanvas&&null!=nvg3dCanvas&&(nvg2d=nvg2dCanvas[t(269)]("2d",{alpha:!0}),addNvgMouseListener(nvg2dCanvas),nvgGl=nvg3dCanvas.getContext("webgl2",{alpha:!0,antialias:!0,preserveDrawingBuffer:!0}),(nvgController=new GLNavigator(nvgGl))[t(262)](),this[t(267)](),this[t(254)](),LoadNvgBillBoardTexture(nvgGl,flushNavigator))}function uninitNavigatorCanvas(){null!=nvgController&&nvgController[a109_0x1ddda2(285)](),DeleteNvgBillBoardTexture(nvgGl),nvgController=null}function clearNavigatorCanvas(){}function initNvgCamera(){var t=a109_0x1ddda2,e=(float3[t(284)](nvgCameraDesc[t(231)],0,0,NVG_CAMERA_DISTANCE),float3[t(284)](nvgCameraDesc[t(253)],0,0,0),float3[t(284)](nvgCameraDesc.vUp,0,1,0),nvgCameraDesc[t(228)]=nvg3dCanvas[t(244)],nvgCameraDesc[t(277)]=nvg3dCanvas.width/nvg3dCanvas[t(280)],float3.distance(nvgCameraDesc[t(231)],nvgCameraDesc[t(253)]));nvgCameraDesc.fNear=.02*e,nvgCameraDesc.fFar=200*e,nvgCameraDesc[t(235)]=45*Math.PI/180,Camera[t(274)](nvgCamera,nvgCameraDesc),Camera[t(246)](nvgCamera,nvg3dCanvas[t(244)],nvg3dCanvas[t(280)],0,0)}function updateNvgCamera(t){var e=a109_0x1ddda2;float3[e(281)](nvgEyeDir,t[e(258)][e(231)],t.desc[e(253)]),float3[e(241)](nvgEyeDir,nvgEyeDir),float3[e(293)](nvgCameraDesc.vEye,NVG_CAMERA_DISTANCE,nvgEyeDir),float3[e(272)](nvgCameraDesc.vUp,t[e(258)].vUp),Camera[e(274)](nvgCamera,nvgCameraDesc),flushNavigator()}function addNvgMouseListener(e){var t=a109_0x1ddda2;e[t(279)]=function(t){webNvgKeyDown(t,e)},e.onmouseup=function(t){webNvgKeyUp(t,e)},e.onmousewheel=function(t){webNvgWheel(t,e)},e[t(296)]=function(t){webNvgKeyMove(t,e)},e[t(266)]=function(t){webNvgMouseOver(t,e)},e[t(260)]=function(t){webNvgMouseOut(t,e)}}var isNvgMove=!1,isNvgDragLeft=!1;function webNvgKeyDown(t,e){var a=a109_0x1ddda2;switch(getNvgScreenPt(t[a(299)],t[a(292)],pickScreenPt),t[a(275)]){case 0:isNvgDragLeft=!0,null!=g_cameraController&&CameraController[a(257)](g_cameraController,g_camera,float2.from(pickScreenPt.x,pickScreenPt.y),null);break;case 1:break;case 2:e[a(247)]=function(){return!1}}lastX=pickScreenPt.x,lastY=pickScreenPt.y}function webNvgKeyUp(t,e){getNvgScreenPt(t[a109_0x1ddda2(299)],t.clientY,pickScreenPt),0===t.button&&(isNvgDragLeft=!1,isNvgMove||doPickNvgNode(pickNvgNode(pickScreenPt.x,pickScreenPt.y))),isNvgMove=!1}function webNvgKeyMove(t,e){var a=a109_0x1ddda2;getNvgScreenPt(t[a(299)],t.clientY,pickScreenPt),isNvgDragLeft&&(isNvgMove=!0,null!=g_cameraController)&&(CameraController[a(263)](g_cameraController,float2[a(252)](pickScreenPt.x,pickScreenPt.y)),glRunTime.flush())}function webNvgWheel(t,e){}function webNvgMouseOver(t,e){isMoveIn=!0,null!=g_cameraController&&(g_cameraController[a109_0x1ddda2(298)]=NVG_DEFAULT_ROT_SENS),drawNvg()}function webNvgMouseOut(t,e){var a=a109_0x1ddda2;isMoveIn=!1,isNvgDragLeft=isNvgMove=!1,null!=g_cameraController&&(g_cameraController.fSensRot=SCENE_DEFAULT_ROT_SENS),nvgController[a(236)](-1),flushNavigator(),drawNvg()}function a109_0x2d05(t,e){return a109_0x9837[t-=224]}function drawNvg(){var t=a109_0x1ddda2;nvg2d[t(264)](0,0,nvg2dCanvas[t(244)],nvg2dCanvas[t(280)]),isMoveIn&&!nvgController[t(249)]&&(nvg2d.beginPath(),nvg2d[t(268)](nvg2dCanvas[t(244)]/2,nvg2dCanvas[t(280)]/2,nvg2dCanvas[t(244)]/2,0,2*Math.PI),nvg2d[t(273)](),nvg2d[t(294)]=t(287),nvg2d[t(265)]())}function initNvgNodePt(){var t=a109_0x1ddda2;float3[t(284)](nvgBillboardPt[0],1,0,0),float3.set(nvgBillboardPt[1],-1,0,0),float3.set(nvgBillboardPt[2],0,1,0),float3[t(284)](nvgBillboardPt[3],0,-1,0),float3[t(284)](nvgBillboardPt[4],0,0,1),float3[t(284)](nvgBillboardPt[5],0,0,-1)}function getNvgScreenPt(t,e,a){var n=a109_0x1ddda2,i=nvg2dCanvas[n(240)]();a.x=t-i.left,a.y=e-i[n(290)]}function isNodeFront(t){var e=a109_0x1ddda2;return 0<float3[e(229)](nvgBillboardPt[t],nvgCamera[e(258)].vEye)}function pickNvgNode(t,e){var a=a109_0x1ddda2;pickNodeArray[a(256)](0,pickNodeArray[a(282)]),pickProjPt.x=2*t/nvg2dCanvas[a(244)]-1,pickProjPt.y=1-2*e/nvg2dCanvas[a(280)];for(let t=0;t<nvgBillboardPt.length;++t)CalTranslatePoint(nvgBillboardPt[t][0],nvgBillboardPt[t][1],nvgBillboardPt[t][2],nvgCamera[a(283)],nodeProjPt),nodeCircle.set(nodeProjPt.x,nodeProjPt.y,NVG_NODE_RADIUS),nodeCircle[a(238)](pickProjPt)&&pickNodeArray[a(248)](t);return 1==pickNodeArray[a(282)]?pickNodeArray[0]:1<pickNodeArray[a(282)]?isNodeFront(pickNodeArray[0])?pickNodeArray[0]:pickNodeArray[1]:-1}function doPickNvgNode(t){var e=a109_0x1ddda2;nvgController.setFocus(t),0==t?glRunTime.shiftView(3):1==t?glRunTime[e(291)](2):2==t?glRunTime.shiftView(1):3==t?glRunTime[e(291)](0):4==t?glRunTime.shiftView(5):5==t?glRunTime.shiftView(4):flushNavigator()}function flushNavigator(){0==isNvgReqRender&&(window.requestAnimationFrame(function(t){var e=a109_0x2d05;nvgController.calFront(),nvgController[e(295)](),isNvgReqRender=!1}),isNvgReqRender=!0)}function hideNavigator(t){var e=a109_0x1ddda2;nvgController[e(249)]=!!t,flushNavigator()}function setNavigatorLayout(t){var e=a109_0x1ddda2;switch(t){case NVG_LAYOUT_TOP_LEFT:nvg3dCanvas[e(251)][e(290)]="5px",nvg3dCanvas.style[e(230)]=e(255),nvg3dCanvas[e(251)][e(261)]="",nvg3dCanvas[e(251)][e(227)]="",nvg2dCanvas[e(251)][e(290)]=e(255),nvg2dCanvas[e(251)][e(230)]=e(255),nvg2dCanvas[e(251)].bottom="",nvg2dCanvas[e(251)][e(227)]="";break;case NVG_LAYOUT_TOP_RIGHT:nvg3dCanvas[e(251)][e(290)]=e(255),nvg3dCanvas.style[e(227)]=e(255),nvg3dCanvas[e(251)][e(261)]="",nvg3dCanvas[e(251)][e(230)]="",nvg2dCanvas[e(251)][e(290)]=e(255),nvg2dCanvas[e(251)][e(227)]=e(255),nvg2dCanvas[e(251)][e(261)]="",nvg2dCanvas[e(251)].left="";break;case NVG_LAYOUT_BOTTOM_LEFT:nvg3dCanvas[e(251)][e(261)]=e(255),nvg3dCanvas[e(251)][e(230)]=e(255),nvg3dCanvas[e(251)][e(290)]="",nvg3dCanvas.style[e(227)]="",nvg2dCanvas[e(251)][e(261)]="5px",nvg2dCanvas.style[e(230)]=e(255),nvg2dCanvas[e(251)].top="",nvg2dCanvas[e(251)][e(227)]="";break;case NVG_LAYOUT_BOTTOM_RIGHT:nvg3dCanvas[e(251)][e(261)]=e(255),nvg3dCanvas[e(251)][e(227)]=e(255),nvg3dCanvas[e(251)][e(290)]="",nvg3dCanvas[e(251)][e(230)]="",nvg2dCanvas[e(251)][e(261)]="5px",nvg2dCanvas.style[e(227)]=e(255),nvg2dCanvas.style[e(290)]="",nvg2dCanvas[e(251)][e(230)]=""}}var a68_0x6662=["5px","endDrag","showCommentInput","right","CleStreamModelDataParser","pickModelByRect","keyCode","DOMMouseScroll","_arrayByteBuffer","intersectUnit","experimental-webgl","height","offsetWidth","byteLength","min","_uPickType","pmiIndex","defaultGeomtryOn","fillStyle","webgl2","P3D_OnCommentCreateCallback","createMeasureCancel","endLoadModel","P3D_OnUpdateUICallBack","stopPropagation","abs","width","onMouseKeyUp","text2dCanvas","arrModelData","refreshNotation","uninitRender","keyup","_ModelInfo","pick","web3dCanvas","position","270492fZKsqu","data","canvas","defaultBgUrl","231385rMPefF","offsetHeight","769etzsNQ","P3D_OnMouseMoveCallBack","appendChild","Clear","203462jYfKNE","defaultBgImage","push","clientY","P3D_OnTouchStartCallBack","P3D_OnMouseUpCallBack","defaultBaseOptMode","onmousewheel","adapterLocalToScreen","splice","initRender","_attachPt","from","P3D_OnAnimRefreshCallBack","absolute","clientWidth","_arrPickElements","P3D_OnKeyboardUpCallBack","curRuntimeMode","length","commentOnSubmit","cancelBubble","move","grey.jpg","onmouseover","set","P3D_OnCameraChangeCallback","onresize","removeEventListener","onMouseOver","P3D_OnMouseDownCallBack","commentOnClick","setFocusOnObject","max","oncontextmenu","onMouseKeyMove","resetWindow","captureGeomtry","getRectSelectionStatus","moveCommentInput","itemIndex","isBind","P3D_OnTouchMoveCallBack","P3D_OnKeyboardDownCallBack","1PQzaLW","getObjectIdByIndex","P3D_OnSectionFinishCallback","preventDefault","clear","startScelModel","ctrlKey","commentOnChange","_nCleBufferlength","flush","rect","4WtLqdv","viewIndex","curPickUnit","deltaY","refreshPickMeasureUnitPos","setRectSelection","onmousemove","defaultCanvasTransparency","style","createCommentUpdate","top","_oPickUnit","onmouseout","isDuringAxis","getBoundingClientRect","P3D_OnSectionUpdateCallback","./P3DToolkit/Resource/Background/","init","P3D_OnLoadModelEndCallback","_strModelName","mousePt","webgl","button","beginDrag","webgl2.0 is not supported by this browser!","log","white.jpg","pickMeasureMode","_uRequestRender","blue.jpg","objectMoveWindow","14188tdPyVJ","clientX","P3D_OnMouseWheelCallBack","105ZQErzt","nvg3dCanvas","25JBZrLj","_arrayCleBuffer","isDuringComment","pickMeasureUnitIndex","getItemIdByIndex","100%","getPickObjectIdByIndex","P3D_OnCommentDeleteCallback","setActiveByIndex","addEventListener","undefined","cvtPointToStyle","onceLoadScleModel","createElement","returnValue","253481xhrtqs","P3D_OnAnimFinishCallBack","onmouseup","nvg2dCanvas","fill","10582WIqvYZ","zoomWithMouseWheel","objectIndex","getTime","clientHeight","onMouseKeyDown","getContext","onmousedown"],a68_0x123a37=a68_0x5bb8;function CALLBACK_V2(){var t=a68_0x5bb8;this[t(132)]=function(){},this[t(221)]=function(t){},this.showCommentInput=function(t){},this[t(169)]=function(t,e,a,n){},this[t(200)]=function(t,e,a,n){},this.commentOnClick=function(t,e,a,n){},this.deleteCommentInput=function(){},this[t(188)]=function(t,e,a,n){},this[t(248)]=null}function CALLBACK_V3(){var t=a68_0x5bb8;this[t(125)]=function(){},this[t(162)]=function(t){},this[t(256)]=function(t){},this[t(192)]=function(t){},this[t(166)]=function(t){},this[t(179)]=function(t){},this[t(154)]=function(t){},this[t(146)]=function(t){},this.P3D_OnMouseWheelCallBack=function(t){},this[t(153)]=function(t){},this[t(191)]=function(t){},this.P3D_OnTouchEndCallBack=function(t){},this[t(175)]=function(){},this[t(222)]=function(){},this[t(219)]=function(){},this[t(195)]=function(){},this[t(288)]=function(t){},this[t(247)]=function(t){}}!function(e){for(var t=a68_0x5bb8;;)try{if(171987===-parseInt(t(235))*parseInt(t(204))+-parseInt(t(255))*parseInt(t(193))-parseInt(t(149))+-parseInt(t(145))*parseInt(t(238))+parseInt(t(139))+parseInt(t(143))+parseInt(t(240))*parseInt(t(260)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a68_0x6662);var container=null,web3dCanvas=null,gl=null,g_isWebgl2=!0,text2dCanvas=null,gl2d=null,callback_v2=new CALLBACK_V2,callback_v3=new CALLBACK_V3,g_bTestMode=!0;const g_resFoder="./P3DToolkit/Resource/",g_bgFoder=a68_0x123a37(220);var g_bgImage=[a68_0x123a37(233),a68_0x123a37(230),a68_0x123a37(172)],g_bgImageUrl=[],g_bgImageIndex=0,g_sceneLightOn=!0,g_sceneGeomtryOn=!0,g_canvasTransparency=!1,glRunTime=new GLRunTime,isLockCavans=!1,isShiftDown=!1,lastPickType=-2,curPickType=-2,g_operationMode=MOUSE_OPERATION_MODE_DEFAULT,doubleClickTimeMS=300,isMove=!1,curDate=null,lastTime=0,curTime=0,isDigitalTwinMode=!1,isMultPick=!1,isMotionCapture=!1,motionCaptureObjID=null,scrollLeft=0,scrollTop=0,originPt=new Point2(0,0),selRect=new Rect2D(0,0,0,0),isKeyTap=!1,dragLeft=!1,dragMid=!1,dragRight=!1,lastX=-1,lastY=-1;function initComponet(t){var e=a68_0x123a37;typeof t!=e(250)&&null!=t&&(container=t,(web3dCanvas=document[e(253)](e(141))).id=e(137),web3dCanvas[e(212)][e(138)]="absolute",web3dCanvas.style[e(128)]=e(245),web3dCanvas[e(212)].height=e(245),container.appendChild(web3dCanvas),initSceneCanvas(),(text2dCanvas=document[e(253)](e(141))).id=e(130),text2dCanvas[e(212)][e(138)]=e(163),text2dCanvas[e(212)][e(128)]=e(245),text2dCanvas[e(212)][e(279)]=e(245),container[e(147)](text2dCanvas),init2dCanvas(),(nvg3dCanvas=document[e(253)](e(141))).id=e(239),nvg3dCanvas[e(212)][e(138)]=e(163),nvg3dCanvas[e(128)]=150,nvg3dCanvas[e(279)]=150,nvg3dCanvas.style[e(214)]=e(268),nvg3dCanvas[e(212)][e(271)]=e(268),container.appendChild(nvg3dCanvas),(nvg2dCanvas=document[e(253)](e(141))).id=e(258),nvg2dCanvas[e(212)][e(138)]=e(163),nvg2dCanvas.width=150,nvg2dCanvas[e(279)]=150,nvg2dCanvas.style.top="5px",nvg2dCanvas[e(212)][e(271)]=e(268),container.appendChild(nvg2dCanvas),initNavigatorCanvas())}function destoryComponet(){glRunTime[a68_0x123a37(133)](),commentDataClear(),uninitNavigatorCanvas()}function initModuleCallbacks(t){callback_v3=t}function initSettings(e){var a=a68_0x123a37;if(typeof e!=a(250)&&null!=e){if(null!=e.defaultBgUrl&&0<e[a(142)][a(168)])g_bgImage.push(e[a(142)]),g_bgImageIndex=g_bgImage.length;else for(let t=0;t<g_bgImage.length;++t)if(e[a(150)]==g_bgImage[t]){g_bgImageIndex=t;break}g_sceneLightOn=e.defaultLightOn,g_sceneGeomtryOn=e[a(285)],g_bParsejq=g_sceneGeomtryOn,g_operationMode=e[a(155)],g_canvasTransparency=e[a(211)]}}function initP3DUIAPI(){var t=a68_0x123a37;(callback_v2=P3DUIAPI)[t(221)](container),callback_v2[t(169)]=commentOnSubmit,callback_v2[t(200)]=commentOnChange,callback_v2[t(180)]=commentOnClick,callback_v2.deleteCommentInput=deleteCommentInput,callback_v2[t(188)]=moveCommentInput}function initSceneCanvas(){var t=a68_0x123a37;web3dCanvas[t(128)]=container[t(280)],web3dCanvas[t(279)]=container.offsetHeight,(gl=web3dCanvas[t(266)](t(287),{alpha:g_canvasTransparency,preserveDrawingBuffer:!0}))||(console[t(229)](t(228)),(gl=web3dCanvas[t(266)](t(225),{alpha:g_canvasTransparency,antialias:!0,preserveDrawingBuffer:!0}))||(gl=web3dCanvas[t(266)](t(278),{alpha:g_canvasTransparency,antialias:!0,preserveDrawingBuffer:!0})),g_isWebgl2=!1)}function init2dCanvas(){var t=a68_0x123a37;text2dCanvas[t(128)]=container[t(280)],text2dCanvas[t(279)]=container[t(144)],(gl2d=text2dCanvas.getContext("2d",{alpha:!0}))[t(203)](0,0,text2dCanvas[t(128)],text2dCanvas.height),gl2d[t(286)]="rgb(80,91,119,1.0)",gl2d[t(259)]()}function startRender(){var t=a68_0x123a37;gl&&gl2d&&(initP3DUIAPI(),glRunTime[t(159)](),addMouseListener(text2dCanvas),text2dCanvas[t(249)](t(275),fireFoxScollFun,!1),window.onunload=addCloseListenser,window[t(176)]=onCanvasResize,0==g_sceneData.arrModelData[t(168)]||g_sceneData[t(131)][0]._ModelInfo._Loaded?(glRunTime[t(252)](),glRunTime[t(290)](),callback_v3.P3D_OnLoadModelEndCallback&&callback_v3[t(222)]()):glRunTime[t(198)]())}function updateModel(a,n,i){var s=a68_0x123a37;if(!(a<0||a>g_sceneData[s(131)][s(168)])){let t=new ADFCleParser,e=(t[s(276)]=n,t[s(241)]=new DataView(t[s(276)],0,t[s(276)].byteLength),t[s(201)]=t._arrayByteBuffer[s(281)],new ADF_MODEL_SAVEDATA);t[s(272)](e),g_sceneData.arrModelData[a][s(135)]._Loaded=!0,t=null,glRunTime.updateScleModel(a,e),e[s(148)](),e=null,i&&startLoadModels(a+1)}}function clearModel(){glRunTime[a68_0x123a37(197)](),commentDataClear(),clearNavigatorCanvas()}function getModelList(){var e=a68_0x123a37;if(null==g_sceneData)return null;var a=new Array;for(let t=0;t<g_sceneData[e(131)][e(168)];t++)a[e(151)](g_sceneData.arrModelData[t][e(135)][e(223)]);return a}function stopDefault(t){var e=a68_0x123a37;t[e(196)]?(t[e(196)](),t[e(126)]()):(t[e(170)]=!0,t[e(254)]=!1)}function fireFoxScollFun(t){var e=a68_0x123a37;if(!isLockCavans)return CameraController[e(261)](g_cameraController,g_camera,-t[e(207)]),!1}function addKeyboardListener(t){var e=a68_0x123a37;document[e(249)]("keydown",onDocumentKeyDown,!1),document[e(249)]("keyup",onDocumentKeyUp,!1)}function removeKeyboardListener(){var t=a68_0x123a37;document[t(177)]("keydown",onDocumentKeyDown,!1),document[t(177)](t(134),onDocumentKeyUp,!1)}function getCanvasOrigin(){var t=a68_0x123a37,e=web3dCanvas[t(218)]();originPt.x=e.left,originPt.y=e[t(214)]}var g_isLocked=!1;function getPickElement(t,e,a,n){var i=a68_0x123a37;g_isLocked||(t=glRunTime[i(136)](t,e,a,n),curPickType=null==t||null==t[i(215)]?-2:t[i(283)])}function onDocumentKeyDown(t){var e=a68_0x123a37;isLockCavans||(t[e(199)]?isMultPick=isShiftDown=!0:(isMultPick=isShiftDown=!1,32==t[e(274)]?isCommentEditting()||glRunTime[e(181)]():27==t.keyCode&&setUsrCommentMode(0,1)),callback_v3[e(192)](t))}function onDocumentKeyUp(t){isLockCavans||(isMultPick=isShiftDown=!1,callback_v3[a68_0x123a37(166)](t))}function webKeyDown(t,e){var a=a68_0x123a37;if(!isLockCavans){isKeyTap=!0,getCanvasOrigin();var n=t[a(236)]-originPt.x,i=t[a(152)]-originPt.y;switch(t[a(226)]){case 0:onMouseLeftKeyDown(e,n,i);break;case 1:onMouseMidKeyDown(e,n,i);break;case 2:onMouseRightKeyDown(e,n,i)}lastX=n,lastY=i}}function webKeyUp(t,e){var a=a68_0x123a37;if(!isLockCavans){getCanvasOrigin();var n=t[a(236)]-originPt.x,i=t[a(152)]-originPt.y;switch(t.button){case 0:onMouseLeftKeyUp(e,n,i);break;case 1:onMouseMidKeyUp(e,n,i);break;case 2:onMouseRightKeyUp(e,n,i)}pickedCommentIndex=-1,isKeyTap=!1}}function webWheel(t,e){var a=a68_0x123a37;isLockCavans||(CameraController.zoomWithMouseWheel(g_cameraController,g_camera,-t[a(207)]),glRunTime[a(202)](),stopDefault(t))}function webKeyMove(t,e){var a,n=a68_0x123a37;isLockCavans||(getCanvasOrigin(),a=t.clientX-originPt.x,t=t[n(152)]-originPt.y,isKeyTap?dragLeft?onMouseLeftKeyMove(e,a,t):dragMid&&onMouseMidKeyMove(e,a,t):isMotionCapture&&(e=glRunTime[n(186)](a,t),motionCaptureObjID=null!=e?glRunTime[n(246)](e[n(262)]):null),isUsrCommentFlag&&!isUsrCommInputShow&&(g_canvas.mousePt[n(174)](a,t),glRunTime[n(202)]()),g_sceneMeasure[n(231)]&&(g_canvas[n(224)][n(174)](a,t),glRunTime[n(202)]()),null!=g_axisNvg&&g_axisNvg[n(190)]&&!g_canvas[n(217)]&&g_axisNvg[n(178)](a,t),lastX=a,lastY=t)}function onMouseLeftKeyDown(t,e,a){var n=a68_0x123a37;dragLeft=!0,selRect[n(282)].x=e,selRect[n(282)].y=a,t[n(183)]=function(){return!1},g_operationMode==MOUSE_OPERATION_MODE_DEFAULT?isShiftDown?glRunTime[n(167)]==RUNTIME_MODE_NORMAL&&getPickElement(e,a,isMultPick,!1):glRunTime[n(167)]==RUNTIME_MODE_MEASURE?0<=g_sceneMeasure[n(243)]&&g_sceneMeasure[n(208)](e,a):null!=g_axisNvg&&g_axisNvg[n(190)]&&g_axisNvg[n(265)](e,a):g_operationMode==MOUSE_OPERATION_MODE_ROTATE&&CameraController.beginDrag(g_cameraController,g_camera,float2.from(e,a),null)}function onMouseMidKeyDown(t,e,a){var n=a68_0x123a37;dragMid=!0,CameraController[n(227)](g_cameraController,g_camera,float2[n(161)](e,a),null)}function onMouseRightKeyDown(t,e,a){dragRight=!0,t[a68_0x123a37(183)]=function(){return!1}}function onMouseLeftKeyUp(t,e,a){var n=a68_0x123a37;if(dragLeft=!1,isKeyTap){if(null!=g_axisNvg&&g_axisNvg[n(190)]&&g_axisNvg[n(129)](e,a),glRunTime[n(187)]())return glRunTime.pickModelByIDs(null),glRunTime[n(273)](selRect),void glRunTime.setRectSelection(!1,selRect);if(isUsrCommentFlag&&isSingleComment)addSingleComment(lastX,lastY,test_note);else if(isUsrCommentFlag&&g_canvas.isDuringComment)return void g_sceneAnnotation[n(213)](lastX,lastY);if(getPickElement(lastX,lastY,isMultPick,!0),isMultPick)return;curDate=new Date,(curTime=curDate[n(263)]())-lastTime<doubleClickTimeMS&&lastPickType==curPickType&&(curPickType==RUNTIME_MODE_NORMAL?glRunTime[n(181)]():curPickType==RUNTIME_MODE_PMI?g_scenePmiManager.setFocusOnPmiItemByIndex(g_scenePmiManager[n(277)][n(284)],g_scenePmiManager[n(277)][n(205)],g_scenePmiManager[n(277)].itemIndex):-2==curPickType&&glRunTime[n(181)]()),lastTime=curTime,lastPickType=curPickType}lastX=e,lastY=a}function onMouseMidKeyUp(t,e,a){var n=a68_0x123a37;CameraController[n(269)](g_cameraController),dragMid=!1,isUsrCommentFlag&&g_canvas[n(242)]?getNewCommentNote(lastX,lastY):(lastX=e,lastY=a)}function onMouseRightKeyUp(t,e,a){var n=a68_0x123a37;dragRight=!1,isUsrCommentFlag&&!isUsrCommInputShow?g_sceneAnnotation.createCommentCancel():g_sceneMeasure[n(231)]?g_sceneMeasure[n(289)]():(lastX=e,lastY=a)}function onMouseLeftKeyMove(t,a,n){var i=a68_0x123a37;g_operationMode==MOUSE_OPERATION_MODE_DEFAULT?isShiftDown?isMove&&curPickType==RUNTIME_MODE_NORMAL&&-1<glRunTime[i(206)]._oPickUnit[i(262)]&&glRunTime[i(234)](glRunTime[i(206)][i(215)][i(262)],2*(a-lastX),-2*(n-lastY)):null!=g_axisNvg&&g_axisNvg[i(190)]?0==g_axisNvg.requestUpdate&&(window.requestAnimationFrame(function(t){var e=i;g_axisNvg[e(184)](a,n),null!=callback_v3[e(219)]&&callback_v3[e(219)](),g_axisNvg._uRequestRender=!1}),g_axisNvg[i(232)]=!0):curPickType<0?(3<Math[i(127)](a-selRect[i(282)].x)||3<Math[i(127)](n-selRect[i(282)].y))&&(selRect[i(182)].x=a,selRect[i(182)].y=n,glRunTime[i(209)](!0,selRect)):curPickType==RUNTIME_MODE_MEASURE&&0<=g_sceneMeasure[i(243)]&&(g_sceneMeasure.moveMeasureUnit(g_sceneMeasure[i(243)],a,n),glRunTime[i(202)]()):g_operationMode==MOUSE_OPERATION_MODE_MOVE?glRunTime.move(2*(a-lastX),-2*(n-lastY)):g_operationMode==MOUSE_OPERATION_MODE_ROTATE&&(CameraController.drag(g_cameraController,float2[i(161)](a,n)),glRunTime.flush()),lastX=a,lastY=n}function onMouseMidKeyMove(t,e,a){var n=a68_0x123a37;isShiftDown?glRunTime[n(171)](2*(e-lastX),-2*(a-lastY)):(CameraController.drag(g_cameraController,float2[n(161)](e,a)),glRunTime[n(202)]()),lastX=e,lastY=a}function addMouseListener(a){var n=a68_0x123a37;a[n(267)]=function(t){var e=n;webKeyDown(t,a),stopDefault(t),callback_v3[e(179)](t)},a[n(257)]=function(t){var e=n;webKeyUp(t,a),callback_v3[e(154)](t)},a[n(156)]=function(t){var e=n;webWheel(t,a),stopDefault(t),callback_v3[e(237)](t)},a[n(210)]=function(t){var e=n;webKeyMove(t,a),callback_v3[e(146)](t)},a[n(173)]=function(t){addKeyboardListener()},a[n(216)]=function(t){removeKeyboardListener()}}function addCloseListenser(){destoryComponet()}function onCanvasResize(){var e=a68_0x123a37,a=(gl.canvas[e(128)]=gl.canvas[e(164)],gl[e(141)].height=gl.canvas[e(264)],glRunTime[e(185)](gl.canvas[e(164)],gl[e(141)][e(264)]),new Point2(0,0));for(let t=0;t<g_usrCommOption[e(140)].length;++t)g_canvas[e(157)](g_usrCommOption.data[t]._attachPt.x,g_usrCommOption[e(140)][t][e(160)].y,a),g_usrCommOption.data[t][e(251)](a);callback_v2[e(270)](g_usrCommOption),gl2d[e(141)][e(128)]=gl2d[e(141)][e(164)],gl2d[e(141)][e(279)]=gl2d.canvas[e(264)]}function a68_0x5bb8(t,e){return a68_0x6662[t-=125]}function setMouseOperationMode(t){t<MOUSE_OPERATION_MODE_DEFAULT||t>=MOUSE_OPERATION_MODE_END||(g_operationMode=t)}function transP3DTookkitPickElem(t,e){var a=a68_0x123a37;t[a(283)]=P3D_PICK_TYPE_NONE,t._arrPickElements[a(158)](0,t._arrPickElements.length);let n=0;e[a(283)]==RUNTIME_MODE_NORMAL?(t._uPickType=P3D_PICK_TYPE_PART,n=glRunTime[a(194)](e[a(215)][a(262)]),t[a(165)][a(151)](n)):e[a(283)]==RUNTIME_MODE_PMI&&(t[a(283)]=P3D_PICK_TYPE_PMI_ITEM,n=g_scenePmiManager[a(244)](e._oPickUnit[a(284)],e[a(215)][a(189)]),t._arrPickElements[a(151)](n))}var a104_0x3751=["_oPickUnit","length","createCommentUpdate","drag","75yowpyK","clientY","ontouchstart","2LBsGEx","from","move","ontouchmove","curPickUnit","1AlndsB","1120127ULlYVK","endDrag","17033aStZeB","692018YUjrUj","abs","changedTouches","52384pGxKIx","pow","35nVDnDq","objectIndex","atan2","sqrt","objectMoveWindow","getTime","P3D_OnTouchEndCallBack","P3D_OnTouchMoveCallBack","13YQhfNB","zoomWithTouch","userAgent","22077HIoaKI","touches","P3D_OnTouchStartCallBack","2034997RhWGpQ","test","beginDrag","ontouchend","targetTouches","239sOtiAb","isDuringComment","789aponum","clientX"],a104_0x47a87f=a104_0x8666,isPhone=(!function(e){for(var t=a104_0x8666;;)try{if(722152==-parseInt(t(317))*parseInt(t(328))+-parseInt(t(342))*parseInt(t(332))-parseInt(t(326))+-parseInt(t(353))*parseInt(t(311))+-parseInt(t(345))*parseInt(t(334))+parseInt(t(325))*parseInt(t(329))+-parseInt(t(348))*-parseInt(t(320)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a104_0x3751),/(iPhone|iPad|iPod|iOS|Android|ipad)/i[a104_0x47a87f(349)](navigator[a104_0x47a87f(344)])||/(Macintosh)/i.test(navigator[a104_0x47a87f(344)])&&"ontouchend"in document),lastX1=-1,lastY1=-1,lastX2=-1,lastY2=-1,x1=-1,y1=-1,x2=-1,y2=-1,touch1=null,touch2=null,scaleFactor=1.2,moveSensitivity=1,rotateSensitivity=1,zRotateSensitive=.03,cameraMoveSensitivity=3,scaleSensitivity=.1,isKeyDown=!1,isKeyMove=!1,isKeyRotate=!1,isKeyScale=!1;function a104_0x8666(t,e){return a104_0x3751[t-=311]}function phoneKeyDown(t){var e=a104_0x47a87f;isLockCavans||(isKeyDown=!0,getCanvasOrigin(),1==t[e(352)].length?(touch1=t[e(352)][0],x1=touch1[e(312)]-originPt.x,y1=touch1.clientY-originPt.y,CameraController[e(350)](g_cameraController,g_camera,float2.from(x1,y1),null),lastX1=x1,lastY1=y1):2==t[e(352)][e(314)]&&(touch1=t[e(352)][0],touch2=t[e(352)][1],lastX1=touch1[e(312)]-originPt.x,lastY1=touch1[e(318)]-originPt.y,lastX2=touch2[e(312)]-originPt.x,lastY2=touch2[e(318)]-originPt.y))}function phoneKeyMove(t){var e,a,n,i=a104_0x47a87f;isLockCavans||isKeyDown&&(getCanvasOrigin(),1==t[i(352)][i(314)]?(touch1=t.targetTouches[0],x1=touch1[i(312)]-originPt.x,y1=touch1.clientY-originPt.y,isMove?curPickType==RUNTIME_MODE_NORMAL&&(Math.abs(x1-lastX1)>moveSensitivity||Math[i(330)](y1-lastY1)>moveSensitivity)&&(glRunTime[i(338)](glRunTime[i(324)][i(313)][i(335)],2*(x1-lastX1),-2*(y1-lastY1)),lastX1=x1,lastY1=y1,isKeyMove=!0):(Math[i(330)](x1-lastX1)>rotateSensitivity||Math[i(330)](y1-lastY1)>rotateSensitivity)&&(CameraController[i(316)](g_cameraController,float2[i(321)](x1,y1)),isKeyRotate=!0),lastX1=x1,lastY1=y1):2==t.targetTouches[i(314)]&&(touch1=t[i(352)][0],touch2=t[i(352)][1],x1=touch1[i(312)]-originPt.x,y1=touch1[i(318)]-originPt.y,x2=touch2[i(312)]-originPt.x,y2=touch2.clientY-originPt.y,t=lastX1-lastX2,e=lastY1-lastY2,a=x1-x2,n=y1-y2,t=Math[i(337)](t*t+e*e),e=Math.sqrt(a*a+n*n),a=Math[i(336)](lastY2-lastY1,lastX2-lastX1),n=Math.atan2(y2-y1,x2-x1),Math.abs(a-n)<=zRotateSensitive&&Math[i(330)](e-t)<=cameraMoveSensitivity?(Math[i(330)](x1-lastX1)>moveSensitivity||Math[i(330)](y1-lastY1)>moveSensitivity)&&0<(x1-lastX1)*(x2-lastX2)&&(glRunTime[i(322)](2*(x1-lastX1),-2*(y1-lastY1)),isKeyMove=!0):(a=Math[i(333)](Math[i(333)](lastX1-lastX2,2)+Math[i(333)](lastY1-lastY2,2),.5),n=Math.pow(Math[i(333)](x1-x2,2)+Math.pow(y1-y2,2),.5),CameraController[i(343)](g_cameraController,g_camera,n-a)),lastX1=x1,lastY1=y1,lastX2=x2,lastY2=y2))}function phoneKeyUp(t){var e=a104_0x47a87f;if(!isLockCavans){if(getCanvasOrigin(),isKeyDown&&!isKeyMove&&!isKeyRotate&&!isKeyScale)if(touch1=t[e(331)][0],x1=touch1[e(312)]-originPt.x,y1=touch1.clientY-originPt.y,getPickElement(x1,y1,isMultPick,!0),curDate=new Date,(curTime=curDate[e(339)]())-lastTime<doubleClickTimeMS&&lastPickType==curPickType&&curPickType==RUNTIME_MODE_NORMAL&&glRunTime.setFocusOnObject(),lastTime=curTime,lastX1=x1,lastY1=y1,lastPickType=curPickType,1==t[e(346)].length&&isUsrCommentFlag&&g_canvas[e(354)]&&getNewCommentNote(lastX1,lastY1),isUsrCommentFlag&&isSingleComment)addSingleComment(lastX,lastY,test_note);else if(isUsrCommentFlag&&g_canvas.isDuringComment)return void g_sceneAnnotation[e(315)](lastX1,lastY1);pickedCommentIndex=-1,isKeyScale=isKeyRotate=isKeyMove=isKeyDown=isKeyTap=!1,CameraController[e(327)](g_cameraController)}}function addTouchListener(t){var a=a104_0x47a87f;t[a(319)]=function(t){var e=a;phoneKeyDown(t),callback_v3[e(347)](t)},t[a(323)]=function(t){var e=a;phoneKeyMove(t),callback_v3[e(341)](t)},t[a(351)]=function(t){var e=a;phoneKeyUp(t),callback_v3[e(340)](t)}}var a103_0x14bf=["then","startTranscoding","createTexture","getBasisFormat","getHasAlpha","31567HYkzoP","bindTexture","401GXmkTh","log","getExtension","cTFRGB565","53abrZkt","cTFASTC_4x4","cTFPVRTC1_4_RGB","1060514SefrdH","warn","getNumImages","ETC1","947opyuOx","delete","cTFBC3","cTFPVRTC1_4_RGBA","9187RmepHK","pvrtcSupported","texParameteri","EXT_texture_compression_bptc","transcodeImage","123jWYBdz","950593vWSwAt","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","cTFBC1","944337OIDVkN","createCompressedTexture","wasmInit","loadBasisData","astcSupported","getImageWidth","RGB","texImage2D","6hdKHah","WEBKIT_WEBGL_compressed_texture_pvrtc","BC3","LINEAR","FORMAT","cTFETC1","getImageHeight","UNSIGNED_SHORT_5_6_5","CLAMP_TO_EDGE","texture compress unsupport!","getImageTranscodedSizeInBytes","etcSupported","62753cgwCvK","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","bc7Supported","dxtSupported","createRgb565Texture","TEXTURE_2D","WEBGL_compressed_texture_astc","BC1","basis2TcFormate","ASTC","close","Invalid .basis file","Decoding .basis data to 565","RGB565"];function a103_0x3b15(t,e){return a103_0x14bf[t-=264]}(function(e){for(var t=a103_0x3b15;;)try{if(569191===parseInt(t(286))+-parseInt(t(279))*parseInt(t(290))+parseInt(t(304))+-parseInt(t(277))*-parseInt(t(312))+parseInt(t(300))+parseInt(t(294))*parseInt(t(299))+-parseInt(t(324))*parseInt(t(283)))break;e.push(e.shift())}catch(t){e.push(e.shift())}})(a103_0x14bf),COMPRESSED_RGBA_ASTC_4x4_KHR=37808,COMPRESSED_RGB_S3TC_DXT1_EXT=33776,COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,COMPRESSED_RGB_ETC1_WEBGL=36196,COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842,BASIS_FORMAT={cTFETC1:0,cTFETC2:1,cTFBC1:2,cTFBC3:3,cTFBC4:4,cTFBC5:5,cTFBC7_M6_OPAQUE_ONLY:6,cTFBC7_M5:7,cTFPVRTC1_4_RGB:8,cTFPVRTC1_4_RGBA:9,cTFASTC_4x4:10,cTFATC_RGB:11,cTFATC_RGBA_INTERPOLATED_ALPHA:12,cTFRGBA32:13,cTFRGB565:14,cTFBGR565:15,cTFRGBA4444:16};var basisuModule=null;function TexturerBasisu(){var l=a103_0x3b15;this.wasmInit=!1,this[l(330)]=!1,this[l(329)]=!1,this.astcSupported=!1,this[l(295)]=!1,this.loadSclePicture=function(){GetBasisuTextureMtl(g_GLMaterialSet)},this.getWebglExtension=function(){var e=l;this[e(306)]||BASIS({onRuntimeInitialized:()=>{var t=e;this[t(330)]=!!gl[t(281)](t(326)),this[t(329)]=!!gl[t(281)](t(297)),this[t(308)]=!!gl.getExtension(t(264)),this[t(295)]=!!gl[t(281)](t(325))||!!gl[t(281)](t(313)),this.astcSupported||this[t(323)]||this[t(330)]||this[t(295)]||console[t(280)](t(321)),this[t(306)]=!0}})[e(272)](t=>{basisuModule=t,this.loadSclePicture()})},this[l(266)]=function(t){var e=l,a=-1;return t===BASIS_FORMAT[e(284)]?a=COMPRESSED_RGBA_ASTC_4x4_KHR:t===BASIS_FORMAT[e(303)]?a=COMPRESSED_RGB_S3TC_DXT1_EXT:t===BASIS_FORMAT[e(292)]?a=COMPRESSED_RGBA_S3TC_DXT5_EXT:t===BASIS_FORMAT[e(317)]?a=COMPRESSED_RGB_ETC1_WEBGL:t===BASIS_FORMAT.cTFPVRTC1_4_RGB?a=COMPRESSED_RGB_PVRTC_4BPPV1_IMG:t===BASIS_FORMAT[e(293)]&&(a=COMPRESSED_RGBA_PVRTC_4BPPV1_IMG),a},this[l(275)]=function(t){var e=l,a="UNKNOWN",n=-1;return this[e(308)]?(a=e(267),n=BASIS_FORMAT.cTFASTC_4x4):this[e(330)]?n=t?(a=e(314),BASIS_FORMAT[e(292)]):(a=e(265),BASIS_FORMAT[e(303)]):this[e(295)]?n=t?(a="PVRTC1_RGBA",BASIS_FORMAT[e(293)]):(a="PVRTC1_RGB",BASIS_FORMAT[e(285)]):this[e(323)]?(a=e(289),n=BASIS_FORMAT.cTFETC1):(a=e(271),n=BASIS_FORMAT[e(282)],log(e(270))),{FORMAT:n,NAME:a}},this[l(307)]=function(t){var e=l,{BasisFile:a,initializeBasis:n}=basisuModule,n=(n(),new a(new Uint8Array(t))),a=n[e(309)](0,0),t=n[e(318)](0,0),i=n[e(288)](),s=n.getNumLevels(0),r=n[e(276)]();if(a&&t&&i&&s)if(i=this[e(275)](r),s=this.basis2TcFormate(i.FORMAT),n[e(273)]()){r=n[e(322)](0,0,i[e(316)]),r=new Uint8Array(r);if(n[e(298)](r,0,0,i[e(316)],0,0))return n.close(),n[e(291)](),{width:a,height:t,tcFormat:s,dst:r};console[e(287)]("transcodeImage failed")}else console[e(287)]("startTranscoding failed");else console.warn(e(269));n[e(268)](),n[e(291)]()},this[l(331)]=function(t,e,a){var n=l,i=gl[n(274)]();return gl[n(278)](gl.TEXTURE_2D,i),gl[n(311)](gl.TEXTURE_2D,0,gl[n(310)],e,a,0,gl[n(310)],gl[n(319)],t),gl[n(296)](gl[n(332)],gl[n(327)],gl[n(315)]),gl[n(296)](gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl[n(315)]),gl[n(296)](gl[n(332)],gl[n(328)],gl[n(320)]),gl[n(296)](gl[n(332)],gl[n(301)],gl[n(320)]),gl[n(278)](gl[n(332)],null),i},this[l(305)]=function(t,e,a,n){var i=l,s=gl.createTexture();return gl[i(278)](gl[i(332)],s),gl.compressedTexImage2D(gl[i(332)],0,n,e,a,0,t),gl[i(296)](gl[i(332)],gl[i(327)],gl[i(315)]),gl[i(296)](gl.TEXTURE_2D,gl[i(302)],gl.LINEAR),gl[i(296)](gl[i(332)],gl[i(328)],gl[i(320)]),gl.texParameteri(gl[i(332)],gl[i(301)],gl[i(320)]),gl[i(278)](gl[i(332)],null),s}}const a105_0x4959=["axisY","onNvgMoveAxisZ_Finish","mul","xyCir","intersectArcZero","intersectTool","175szuiWm","pIntersectPtMove","onNvgMovePlaneYZ_Finish","1532Kqxddx","calAxisRotateUpdateAngle","onNvgMovePlaneXY_Begin","planeXY_M3","onNvgMoveAxisZ_Begin","pickPlane","normalize","onNvgRotateYZ_Finish","onNvgMoveAxisY_Update","11798dLjqtH","planeYZ_M4","vecDirCross","pickAxisNvg","pickAxis","planeXY_M1","RayPoint2","bind","intersectArrowZero","intersectRayBox","vecDir2","planeXZ_M1","onNvgRotateXY_Finish","3exPESZ","onNvgMovePlaneYZ_Update","axisCircleR","planeXY_P4","planeYZ_P4","planeXZ_M4","xzCir","xzCirRev","planeXY_M2","onNvgMovePlaneXZ_Begin","onNvgMoveAxisX_Update","intersectAxisZero","callbacks","ptIntersect","2CycfuU","axisZ","onNvgRotateXZ_Finish","vTriVer4","onNvgMoveAxisX_Finish","dot","unBind","arrIntersectPt","angle","from","planeYZ_M2","planeYZ_P1","20729fIRlmf","planeXZ_P2","vLinePt2","onNvgRotateYZ_Begin","planeXZ_M3","vTriVer2","RayPoint1","17aZGEHV","planeYZ_P2","axisYArrow","planeXZ_P1","isBind","vecAxis","planeYZ_M1","axisZCir","index","nvgMatrix","planeXY_P1","onNvgRotateYZ_Update","onNvgRotateXY_Update","isInit","yzCir","planeXZ_P4","planeXZ_M2","box","vLinePt1","axisZArrow","51854UxtwEe","vTriVer3","xyCirRev","planeXY_P3","axisXCir","axisXArrow","onNvgMoveAxisY_Begin","planeXY_M4","isDuringAxis","calAxisRotateUpdatePos","onNvgRotateXZ_Begin","splice","onNvgMovePlaneXY_Finish","onNvgRotateXZ_Update","22047IWIbFJ","calAxisMoveUpdatePos","vecDir1","arrIndexs","axisX","axisYCir","showLeadLine","onNvgMoveAxisZ_Update","onNvgMoveAxisY_Finish","cvtScreenToWorld","arrDistance","push","pickIndex","onNvgMovePlaneYZ_Begin","planeYZ_M3","onNvgMovePlaneXY_Update","isInIntersectZero","flush2D","setScale","Copy","vTriVer1","length","planeYZ_P3","axisOrigin","22348AYmBoM","requestUpdate","updateBindMat","pIntersectPtRotate","onNvgMovePlaneXZ_Finish","planeXY_P2","abs","yzCirRev","159286ctfeVu","onNvgMovePlaneXZ_Update","pIntersectPt","onNvgRotateXY_Begin","onNvgMoveAxisX_Begin","axisNvgEnable","calPlaneMoveUpdatePos","axisArrowB","set","pickArc"];function a105_0x397a(t,e){return t-=249,a105_0x4959[t]}const a105_0x22be66=a105_0x397a,AXIS_LENGTH=(!function(e){for(var t=a105_0x397a;;)try{if(128596==-parseInt(t(264))+-parseInt(t(292))*-parseInt(t(338))-parseInt(t(358))+parseInt(t(256))*-parseInt(t(319))-parseInt(t(372))+parseInt(t(305))*-parseInt(t(331))+parseInt(t(280))*parseInt(t(283)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a105_0x4959),1),AXIS_ARROW_B=.02,AXIS_ARROW_H=.15,AXIS_CIRCLE_R=.7,AXIS_PLANE_OFFSET=.1,AXIS_PLANE_E=.15,AXIS_SCALE=.3,AXIS_ZERO=1e-6,_axisX=float3[a105_0x22be66(328)](AXIS_LENGTH,0,0),_axisY=float3[a105_0x22be66(328)](0,AXIS_LENGTH,0),_axisZ=float3[a105_0x22be66(328)](0,0,AXIS_LENGTH),_axisX_A=float3[a105_0x22be66(328)](AXIS_LENGTH+AXIS_ARROW_H,0,0),_axisY_A=float3[a105_0x22be66(328)](0,AXIS_LENGTH+AXIS_ARROW_H,0),_axisZ_A=float3[a105_0x22be66(328)](0,0,AXIS_LENGTH+AXIS_ARROW_H),_axisXCir=float3[a105_0x22be66(328)](AXIS_CIRCLE_R,0,0),_axisYCir=float3[a105_0x22be66(328)](0,AXIS_CIRCLE_R,0),_axisZCir=float3[a105_0x22be66(328)](0,0,AXIS_CIRCLE_R),_planeXZ_P1=float3[a105_0x22be66(328)](AXIS_PLANE_OFFSET,0,AXIS_PLANE_OFFSET),_planeXZ_P2=float3.from(AXIS_PLANE_OFFSET+AXIS_PLANE_E,0,AXIS_PLANE_OFFSET),_planeXZ_P3=float3.from(AXIS_PLANE_OFFSET+AXIS_PLANE_E,0,AXIS_PLANE_OFFSET+AXIS_PLANE_E),_planeXZ_P4=float3[a105_0x22be66(328)](AXIS_PLANE_OFFSET,0,AXIS_PLANE_OFFSET+AXIS_PLANE_E),_planeXZ_M1=float3[a105_0x22be66(328)](-AXIS_LENGTH,0,-AXIS_LENGTH),_planeXZ_M2=float3[a105_0x22be66(328)](AXIS_LENGTH,0,-AXIS_LENGTH),_planeXZ_M3=float3[a105_0x22be66(328)](AXIS_LENGTH,0,AXIS_LENGTH),_planeXZ_M4=float3[a105_0x22be66(328)](-AXIS_LENGTH,0,AXIS_LENGTH),_planeXY_P1=float3.from(AXIS_PLANE_OFFSET,AXIS_PLANE_OFFSET,0),_planeXY_P2=float3.from(AXIS_PLANE_OFFSET+AXIS_PLANE_E,AXIS_PLANE_OFFSET,0),_planeXY_P3=float3[a105_0x22be66(328)](AXIS_PLANE_OFFSET+AXIS_PLANE_E,AXIS_PLANE_OFFSET+AXIS_PLANE_E,0),_planeXY_P4=float3.from(AXIS_PLANE_OFFSET,AXIS_PLANE_OFFSET+AXIS_PLANE_E,0),_planeXY_M1=float3[a105_0x22be66(328)](-AXIS_LENGTH,-AXIS_LENGTH,0),_planeXY_M2=float3.from(-AXIS_LENGTH,AXIS_LENGTH,0),_planeXY_M3=float3.from(AXIS_LENGTH,AXIS_LENGTH,0),_planeXY_M4=float3[a105_0x22be66(328)](AXIS_LENGTH,-AXIS_LENGTH,0),_planeYZ_P1=float3[a105_0x22be66(328)](0,AXIS_PLANE_OFFSET,AXIS_PLANE_OFFSET),_planeYZ_P2=float3[a105_0x22be66(328)](0,AXIS_PLANE_OFFSET+AXIS_PLANE_E,AXIS_PLANE_OFFSET),_planeYZ_P3=float3[a105_0x22be66(328)](0,AXIS_PLANE_OFFSET+AXIS_PLANE_E,AXIS_PLANE_OFFSET+AXIS_PLANE_E),_planeYZ_P4=float3[a105_0x22be66(328)](0,AXIS_PLANE_OFFSET,AXIS_PLANE_OFFSET+AXIS_PLANE_E),_planeYZ_M1=float3[a105_0x22be66(328)](0,-AXIS_LENGTH,-AXIS_LENGTH),_planeYZ_M2=float3[a105_0x22be66(328)](0,-AXIS_LENGTH,AXIS_LENGTH),_planeYZ_M3=float3[a105_0x22be66(328)](0,AXIS_LENGTH,AXIS_LENGTH),_planeYZ_M4=float3[a105_0x22be66(328)](0,AXIS_LENGTH,-AXIS_LENGTH),VALUE_AXIS_X=0,VALUE_AXIS_Y=1,VALUE_AXIS_Z=2,VALUE_AXIS_XY_CIR=3,VALUE_AXIS_XZ_CIR=4,VALUE_AXIS_YZ_CIR=5,VALUE_PLANE_XY=6,VALUE_PLANE_XZ=7,VALUE_PLANE_YZ=8;function AxisNvgCallbacks(){var t=a105_0x22be66;this[t(268)]=null,this.onNvgMoveAxisX_Update=null,this[t(323)]=null,this[t(364)]=null,this[t(291)]=null,this[t(380)]=null,this[t(287)]=null,this[t(379)]=null,this[t(275)]=null,this.onNvgRotateXY_Begin=null,this[t(350)]=null,this[t(304)]=null,this[t(368)]=null,this[t(371)]=null,this.onNvgRotateXZ_Finish=null,this[t(334)]=null,this[t(349)]=null,this.onNvgRotateYZ_Finish=null,this[t(285)]=null,this[t(387)]=null,this[t(370)]=null,this[t(314)]=null,this[t(265)]=null,this[t(260)]=null,this.onNvgMovePlaneYZ_Begin=null,this[t(306)]=null,this[t(282)]=null}function AxisNavigator(){const _=a105_0x22be66;this.axisOrigin=float3[_(328)](0,0,0),this[_(351)]=!1,this[_(342)]=!1,this[_(257)]=!1,this.scale=AXIS_SCALE,this.showLeadLine=!0,this.pickIndex=-1,this.nvgMatrix=null,this[_(317)]=null,this[_(258)]=null,this.intersectTool=new CommonItersectTool,this[_(337)]=new Point3(0,0,0),this.RayPoint2=new Point3(0,0,0),this[_(356)]=new ADF_BASEFLOAT3,this[_(333)]=new ADF_BASEFLOAT3,this.vTriVer1=new ADF_BASEFLOAT3,this[_(336)]=new ADF_BASEFLOAT3,this.vTriVer3=new ADF_BASEFLOAT3,this[_(322)]=new ADF_BASEFLOAT3,this[_(266)]=new ADF_BASEFLOAT3,this[_(316)]=30,this[_(300)]=50,this[_(278)]=50,this[_(375)]=new Array,this.arrDistance=new Array,this[_(326)]=new Array,this.vecDir1=new Vector3(0,0,0),this[_(302)]=new Vector3(0,0,0),this[_(343)]=new Vector3(0,0,0),this[_(294)]=new Vector3(0,0,0),this[_(281)]=new ADF_BASEFLOAT3,this[_(259)]=new ADF_BASEFLOAT3,this.moveDir=new ADF_BASEFLOAT3,this.init=function(t=AXIS_SCALE){var e=_;return this[e(351)]||(this.setScale(t),this[e(351)]=!0),!0},this.unInit=function(){var t=_;this[t(277)]=null,this[t(311)]=null,this.yzCir=null,this[t(351)]=!1},this[_(299)]=function(t,e,a){var n=_;this[n(347)]=t,this[n(317)]=e,this.updateBindMat=a,this[n(342)]=!0},this[_(325)]=function(){this[_(347)]=null,this.callbacks=null,this.updateBindMat=null,this.isBind=!1},this[_(250)]=function(t){var e=_,a=(this.scale=t,this.axisX=float3.mul(null,_axisX,t),this[e(274)]=float3[e(276)](null,_axisY,t),this[e(320)]=float3[e(276)](null,_axisZ,t),this.axisXArrow=float3[e(276)](null,_axisX_A,t),this.axisYArrow=float3[e(276)](null,_axisY_A,t),this.axisZArrow=float3[e(276)](null,_axisZ_A,t),this[e(362)]=float3[e(276)](null,_axisXCir,t),this[e(377)]=float3[e(276)](null,_axisYCir,t),this[e(345)]=float3[e(276)](null,_axisZCir,t),this.planeXZ_P1=float3[e(276)](null,_planeXZ_P1,t),this[e(332)]=float3[e(276)](null,_planeXZ_P2,t),this.planeXZ_P3=float3[e(276)](null,_planeXZ_P3,t),this[e(353)]=float3[e(276)](null,_planeXZ_P4,t),this[e(348)]=float3[e(276)](null,_planeXY_P1,t),this.planeXY_P2=float3[e(276)](null,_planeXY_P2,t),this[e(361)]=float3[e(276)](null,_planeXY_P3,t),this[e(308)]=float3[e(276)](null,_planeXY_P4,t),this[e(330)]=float3[e(276)](null,_planeYZ_P1,t),this[e(339)]=float3[e(276)](null,_planeYZ_P2,t),this[e(254)]=float3[e(276)](null,_planeYZ_P3,t),this.planeYZ_P4=float3[e(276)](null,_planeYZ_P4,t),this[e(297)]=float3[e(276)](null,_planeXY_M1,t),this[e(313)]=float3[e(276)](null,_planeXY_M2,t),this.planeXY_M3=float3.mul(null,_planeXY_M3,t),this[e(365)]=float3[e(276)](null,_planeXY_M4,t),this[e(303)]=float3[e(276)](null,_planeXZ_M1,t),this[e(354)]=float3[e(276)](null,_planeXZ_M2,t),this[e(335)]=float3[e(276)](null,_planeXZ_M3,t),this[e(310)]=float3[e(276)](null,_planeXZ_M4,t),this[e(344)]=float3[e(276)](null,_planeYZ_M1,t),this[e(329)]=float3[e(276)](null,_planeYZ_M2,t),this[e(386)]=float3[e(276)](null,_planeYZ_M3,t),this[e(293)]=float3[e(276)](null,_planeYZ_M4,t),this[e(307)]=AXIS_CIRCLE_R*t,this[e(271)]=AXIS_ARROW_B*t,-AXIS_ARROW_H*t),n=(AXIS_LENGTH+AXIS_ARROW_H)*t,a=new Point3(a,a,a),n=new Point3(n,n,n),a=(this[e(355)]=new Box3D,TranBox3D(a,n,this[e(355)]),new ADF_BASEFLOAT3),n=new ADF_BASEFLOAT3,i=new ADF_BASEFLOAT3,s=new ADF_BASEFLOAT3,r=new ADF_BASEMATRIX,l=(a.x=this[e(255)][0],a.y=this[e(255)][1],a.z=this[e(255)][2],n.x=this.axisX[0],n.y=this.axisX[1],n.z=this[e(376)][2],i.x=this[e(274)][0],i.y=this[e(274)][1],i.z=this[e(274)][2],s.x=this[e(320)][0],s.y=this[e(320)][1],s.z=this.axisZ[2],Math.PI/2/alpha+1),o=3*Math.PI/2/alpha+1;this.xyCir=new Float32Array(3*l),this[e(311)]=new Float32Array(3*l),this[e(352)]=new Float32Array(3*l),this[e(360)]=new Float32Array(3*o),this[e(312)]=new Float32Array(3*o),this[e(263)]=new Float32Array(3*o),GetArcTransformMatrix(a,n,i,0,Math.PI/2,this.axisCircleR,null,r),SplitArc_LineTripFloat32Array(this[e(307)],0,Math.PI/2,r,eAxisZ,this[e(277)]),SplitArc_LineTripFloat32Array(this[e(307)],Math.PI/2,2*Math.PI,r,eAxisZ,this[e(360)]),ADFMatrixIdentity(r),GetArcTransformMatrix(a,n,s,0,Math.PI/2,this[e(307)],null,r),SplitArc_LineTripFloat32Array(this[e(307)],0,Math.PI/2,r,eAxisY,this[e(311)]),SplitArc_LineTripFloat32Array(this.axisCircleR,Math.PI/2,2*Math.PI,r,eAxisY,this[e(312)]),ADFMatrixIdentity(r),GetArcTransformMatrix(a,i,s,0,Math.PI/2,this[e(307)],null,r),SplitArc_LineTripFloat32Array(this[e(307)],0,Math.PI/2,r,eAxisX,this[e(352)]),SplitArc_LineTripFloat32Array(this[e(307)],Math.PI/2,2*Math.PI,r,eAxisX,this.yzCirRev),this.intersectAxisZero*=t,this[e(300)]*=t,this[e(278)]*=t,this[e(351)]&&g_canvas[e(249)]()},this.setShowLeadLines=function(t){this[_(378)]=t},this.onMouseOver=function(t,e){var a=_,t=(glRunTime[a(381)](t,e,this[a(337)],this.RayPoint2),this[a(295)](this[a(337)],this[a(298)]));if(null==t)return 0<=this[a(384)]&&(this[a(384)]=-1,glRunTime[a(249)]()),-1;this[a(384)]!=t[a(346)]&&(this[a(384)]=t[a(346)],glRunTime.flush2D()),this[a(266)][a(251)](t[a(318)])},this.onMouseKeyDown=function(t,e){var a=_;if(!(this[a(384)]<0))switch(g_canvas[a(366)]=!0,this[a(384)]){case VALUE_AXIS_X:this[a(317)][a(268)](this.pIntersectPt);break;case VALUE_AXIS_Y:this[a(317)][a(364)](this[a(266)]);break;case VALUE_AXIS_Z:this[a(317)][a(287)](this[a(266)]);break;case VALUE_AXIS_XY_CIR:CalTranslatePoint(this.axisOrigin[0],this.axisOrigin[1],this[a(255)][2],this[a(347)],this[a(252)]),this[a(374)][a(272)](this[a(266)].x-this[a(252)].x,this[a(266)].y-this[a(252)].y,this[a(266)].z-this[a(252)].z),this[a(374)][a(289)](),CalTranslatePoint(this[a(320)][0],this.axisZ[1],this[a(320)][2],this[a(347)],this[a(336)]),this[a(343)][a(272)](this[a(336)].x-this[a(252)].x,this.vTriVer2.y-this[a(252)].y,this[a(336)].z-this[a(252)].z),this[a(343)].normalize(),this[a(317)][a(267)]();break;case VALUE_AXIS_XZ_CIR:CalTranslatePoint(this.axisOrigin[0],this.axisOrigin[1],this[a(255)][2],this[a(347)],this[a(252)]),this.vecDir1[a(272)](this[a(266)].x-this[a(252)].x,this[a(266)].y-this[a(252)].y,this[a(266)].z-this.vTriVer1.z),this.vecDir1[a(289)](),CalTranslatePoint(this[a(274)][0],this[a(274)][1],this[a(274)][2],this[a(347)],this[a(336)]),this[a(343)][a(272)](this[a(336)].x-this[a(252)].x,this[a(336)].y-this[a(252)].y,this[a(336)].z-this[a(252)].z),this[a(343)][a(289)](),this[a(317)][a(368)]();break;case VALUE_AXIS_YZ_CIR:CalTranslatePoint(this.axisOrigin[0],this.axisOrigin[1],this.axisOrigin[2],this[a(347)],this.vTriVer1),this[a(374)][a(272)](this[a(266)].x-this[a(252)].x,this[a(266)].y-this.vTriVer1.y,this[a(266)].z-this[a(252)].z),this[a(374)].normalize(),CalTranslatePoint(this[a(376)][0],this[a(376)][1],this[a(376)][2],this[a(347)],this[a(336)]),this[a(343)][a(272)](this[a(336)].x-this[a(252)].x,this[a(336)].y-this[a(252)].y,this.vTriVer2.z-this[a(252)].z),this[a(343)][a(289)](),this.callbacks[a(334)]();break;case VALUE_PLANE_XY:this[a(317)].onNvgMovePlaneXY_Begin(this[a(266)]);break;case VALUE_PLANE_XZ:this.callbacks[a(314)](this[a(266)]);break;case VALUE_PLANE_YZ:this[a(317)][a(385)](this[a(266)]);break;default:g_canvas[a(366)]=!1}},this.onMouseKeyUp=function(t,e){var a=_;if(!(this[a(384)]<0)){switch(this[a(384)]){case VALUE_AXIS_X:this.callbacks[a(323)]();break;case VALUE_AXIS_Y:this[a(317)][a(380)]();break;case VALUE_AXIS_Z:this.callbacks.onNvgMoveAxisZ_Finish();break;case VALUE_AXIS_XY_CIR:this.callbacks.onNvgRotateXY_Finish();break;case VALUE_AXIS_XZ_CIR:this[a(317)][a(321)]();break;case VALUE_AXIS_YZ_CIR:this[a(317)][a(290)]();break;case VALUE_PLANE_XY:this[a(317)].onNvgMovePlaneXY_Finish();break;case VALUE_PLANE_XZ:this[a(317)].onNvgMovePlaneXZ_Finish();break;case VALUE_PLANE_YZ:this[a(317)][a(282)]()}g_canvas[a(366)]=!1,this[a(384)]=-1}},this.onMouseKeyMove=function(e,a){var n=_;if(!(this[n(384)]<0)){let t=0;switch(glRunTime[n(381)](e,a,this[n(337)],this[n(298)]),this[n(384)]){case VALUE_AXIS_X:this[n(373)](this[n(255)],this[n(363)],this[n(347)],this.RayPoint1,this[n(298)]),this.callbacks[n(315)](this[n(281)]);break;case VALUE_AXIS_Y:this[n(373)](this[n(255)],this[n(340)],this[n(347)],this[n(337)],this[n(298)]),this[n(317)][n(291)](this[n(281)]);break;case VALUE_AXIS_Z:this[n(373)](this.axisOrigin,this[n(357)],this[n(347)],this[n(337)],this[n(298)]),this[n(317)][n(379)](this.pIntersectPtMove);break;case VALUE_AXIS_XY_CIR:this[n(367)](this[n(277)],this[n(347)],this[n(337)],this.RayPoint2),t=this[n(284)](),this[n(317)][n(350)](t);break;case VALUE_AXIS_XZ_CIR:this.calAxisRotateUpdatePos(this[n(311)],this.nvgMatrix,this[n(337)],this[n(298)]),t=this[n(284)](),this[n(317)][n(371)](t);break;case VALUE_AXIS_YZ_CIR:this.calAxisRotateUpdatePos(this.yzCir,this.nvgMatrix,this.RayPoint1,this.RayPoint2),t=this[n(284)](),this[n(317)][n(349)](t);break;case VALUE_PLANE_XY:this[n(270)](this[n(297)],this[n(313)],this[n(286)],this[n(365)],this.nvgMatrix,this[n(337)],this[n(298)])&&this[n(317)][n(387)](this[n(281)]);break;case VALUE_PLANE_XZ:this[n(270)](this[n(303)],this[n(354)],this[n(335)],this[n(310)],this.nvgMatrix,this[n(337)],this[n(298)])&&this[n(317)][n(265)](this[n(281)]);break;case VALUE_PLANE_YZ:this.calPlaneMoveUpdatePos(this[n(344)],this[n(329)],this.planeYZ_M3,this[n(293)],this[n(347)],this[n(337)],this.RayPoint2)&&this.callbacks.onNvgMovePlaneYZ_Update(this.pIntersectPtMove)}}},this[_(269)]=function(t){var e=_;switch(t){case VALUE_AXIS_X:return null!=this[e(317)].onNvgMoveAxisX_Begin&&null!=this[e(317)].onNvgMoveAxisX_Update&&null!=this[e(317)][e(323)];case VALUE_AXIS_Y:return null!=this[e(317)][e(364)]&&null!=this[e(317)][e(291)]&&null!=this[e(317)][e(380)];case VALUE_AXIS_Z:return null!=this[e(317)][e(287)]&&null!=this[e(317)].onNvgMoveAxisZ_Update&&null!=this[e(317)].onNvgMoveAxisZ_Finish;case VALUE_AXIS_XY_CIR:return null!=this[e(317)][e(267)]&&null!=this[e(317)][e(350)]&&null!=this[e(317)].onNvgRotateXY_Finish;case VALUE_AXIS_XZ_CIR:return null!=this[e(317)][e(368)]&&null!=this.callbacks[e(371)]&&null!=this[e(317)].onNvgRotateXZ_Finish;case VALUE_AXIS_YZ_CIR:return null!=this[e(317)][e(334)]&&null!=this[e(317)][e(349)]&&null!=this[e(317)][e(290)];case VALUE_PLANE_XY:return null!=this.callbacks[e(285)]&&null!=this.callbacks.onNvgMovePlaneXY_Update&&null!=this[e(317)][e(370)];case VALUE_PLANE_XZ:return null!=this[e(317)][e(314)]&&null!=this[e(317)][e(265)]&&null!=this[e(317)].onNvgMovePlaneXZ_Finish;case VALUE_PLANE_YZ:return null!=this[e(317)][e(385)]&&null!=this[e(317)].onNvgMovePlaneYZ_Update&&null!=this[e(317)].onNvgMovePlaneYZ_Finish;default:return!1}},this.pickAxisNvg=function(t,e){var n=_;if(null==this[n(317)])return null;if(this[n(356)].x=t.x,this[n(356)].y=t.y,this[n(356)].z=t.z,this.vLinePt2.x=e.x,this.vLinePt2.y=e.y,this.vLinePt2.z=e.z,this.arrDistance[n(369)](0,this[n(382)][n(253)]),this[n(326)][n(369)](0,this[n(326)][n(253)]),this[n(375)][n(369)](0,this[n(375)].length),this[n(279)][n(301)](t,e,this[n(355)],this[n(347)])&&(this[n(269)](VALUE_AXIS_X)&&this[n(296)](this[n(255)],this[n(376)],this[n(363)],this.nvgMatrix,VALUE_AXIS_X),this.axisNvgEnable(VALUE_AXIS_Y)&&this[n(296)](this[n(255)],this[n(274)],this[n(340)],this[n(347)],VALUE_AXIS_Y),this[n(269)](VALUE_AXIS_Z)&&this[n(296)](this.axisOrigin,this[n(320)],this[n(357)],this[n(347)],VALUE_AXIS_Z),this[n(269)](VALUE_AXIS_XY_CIR)&&this.pickArc(this[n(277)],this.nvgMatrix,VALUE_AXIS_XY_CIR),this[n(269)](VALUE_AXIS_XZ_CIR)&&this[n(273)](this.xzCir,this[n(347)],VALUE_AXIS_XZ_CIR),this[n(269)](VALUE_AXIS_YZ_CIR)&&this.pickArc(this[n(352)],this.nvgMatrix,VALUE_AXIS_YZ_CIR),this[n(269)](VALUE_PLANE_XY)&&this.pickPlane(this[n(348)],this[n(261)],this[n(361)],this.planeXY_P4,this.nvgMatrix,VALUE_PLANE_XY),this[n(269)](VALUE_PLANE_XZ)&&this[n(288)](this[n(341)],this[n(332)],this.planeXZ_P3,this[n(353)],this[n(347)],VALUE_PLANE_XZ),this[n(269)](VALUE_PLANE_YZ))&&this[n(288)](this[n(330)],this[n(339)],this[n(254)],this[n(309)],this.nvgMatrix,VALUE_PLANE_YZ),0==this[n(382)][n(253)])return null;{let e=1/0,a=0;for(let t=0;t<this[n(382)][n(253)];t++)this.arrDistance[t]<e&&(e=this.arrDistance[t],a=t);return{dDistance:e,ptIntersect:this[n(326)][a],index:this.arrIndexs[a]}}},this[_(296)]=function(t,e,a,n,i){var s=_;CalTranslatePoint(t[0],t[1],t[2],n,this.vTriVer1),CalTranslatePoint(e[0],e[1],e[2],n,this[s(336)]),CalTranslatePoint(a[0],a[1],a[2],n,this[s(359)]);let r=CalcDistanceOfTwoLineSeg(this[s(252)],this.vTriVer2,this[s(356)],this[s(333)],this.pIntersectPt);this[s(279)][s(388)](this.pIntersectPt,this.vLinePt1,this[s(316)])?(r=CalDistanceOfPoint3d(this[s(266)],this[s(356)]),(t=new ADF_BASEFLOAT3)[s(251)](this[s(266)]),this[s(382)].push(r),this[s(326)][s(383)](t),this[s(375)].push(i)):(r=CalcDistanceOfTwoLineSeg(this[s(336)],this[s(359)],this[s(356)],this[s(333)],this.pIntersectPt),this[s(279)][s(388)](this.pIntersectPt,this[s(356)],this[s(300)])&&(r=CalDistanceOfPoint3d(this[s(266)],this[s(356)]),(e=new ADF_BASEFLOAT3)[s(251)](this[s(266)]),this[s(382)][s(383)](r),this.arrIntersectPt[s(383)](e),this[s(375)].push(i)))},this[_(273)]=function(e,a,t){var n=_;let i=1/0,s=!1,r=new ADF_BASEFLOAT3;for(let t=0;t<e[n(253)];t+=3){CalTranslatePoint(e[t],e[t+1],e[t+2],a,this[n(252)]),CalTranslatePoint(e[t+3],e[t+4],e[t+5],a,this[n(336)]);var l=CalcDistanceOfTwoLineSeg(this[n(252)],this[n(336)],this[n(356)],this.vLinePt2,this[n(266)]);this[n(279)].isInIntersectZero(this[n(266)],this[n(356)],this[n(278)])&&l<i&&(r.Copy(this[n(266)]),i=l,s=!0)}s&&(this[n(382)][n(383)](i),this[n(326)][n(383)](r),this[n(375)].push(t))},this.pickPlane=function(t,e,a,n,i,s){var r=_;CalTranslatePoint(t[0],t[1],t[2],i,this.vTriVer1),CalTranslatePoint(e[0],e[1],e[2],i,this[r(336)]),CalTranslatePoint(a[0],a[1],a[2],i,this[r(359)]),CalTranslatePoint(n[0],n[1],n[2],i,this[r(322)]);let l=-1,o=null;CalcIntersectOfLineSegTriangle(this[r(356)],this[r(333)],this[r(252)],this[r(336)],this[r(359)],this.pIntersectPt)?(l=CalDistanceOfPoint3d(this[r(266)],this[r(356)]),(o=new ADF_BASEFLOAT3)[r(251)](this[r(266)]),this.arrDistance[r(383)](l),this[r(326)][r(383)](o),this[r(375)][r(383)](s)):CalcIntersectOfLineSegTriangle(this[r(356)],this.vLinePt2,this.vTriVer3,this.vTriVer4,this.vTriVer1,this[r(266)])&&(l=CalDistanceOfPoint3d(this.pIntersectPt,this[r(356)]),(o=new ADF_BASEFLOAT3).Copy(this[r(266)]),this[r(382)].push(l),this[r(326)][r(383)](o),this[r(375)][r(383)](s))},this.calAxisMoveUpdatePos=function(t,e,a,n,i){var s=_;this[s(356)].x=n.x,this[s(356)].y=n.y,this[s(356)].z=n.z,this[s(333)].x=i.x,this[s(333)].y=i.y,this[s(333)].z=i.z,CalTranslatePoint(t[0],t[1],t[2],a,this[s(252)]),CalTranslatePoint(e[0],e[1],e[2],a,this.vTriVer2),CalcDistanceOfTwoLineSeg(this[s(252)],this[s(336)],this[s(356)],this[s(333)],this[s(281)])},this.calAxisRotateUpdatePos=function(e,a,t,n){var i=_;this.vLinePt1.x=t.x,this[i(356)].y=t.y,this[i(356)].z=t.z,this[i(333)].x=n.x,this.vLinePt2.y=n.y,this[i(333)].z=n.z;let s=1/0,r=new ADF_BASEFLOAT3;for(let t=0;t<e[i(253)];t+=3){CalTranslatePoint(e[t],e[t+1],e[t+2],a,this.vTriVer1),CalTranslatePoint(e[t+3],e[t+4],e[t+5],a,this[i(336)]);var l=CalcDistanceOfTwoLineSeg(this[i(252)],this.vTriVer2,this[i(356)],this[i(333)],this[i(259)]);l<s&&(r[i(251)](this[i(259)]),s=l)}this[i(259)][i(251)](r)},this[_(284)]=function(){var t=_;let e=0;return CalTranslatePoint(this[t(255)][0],this[t(255)][1],this[t(255)][2],this[t(347)],this[t(252)]),this[t(302)][t(272)](this[t(259)].x-this[t(252)].x,this.pIntersectPtRotate.y-this[t(252)].y,this[t(259)].z-this[t(252)].z),this[t(302)][t(289)](),Math[t(262)](this.vecDir2.y-this[t(374)].y)<AXIS_ZERO&&Math.abs(this.vecDir2.x-this[t(374)].x)<AXIS_ZERO&&Math[t(262)](this[t(302)].z-this[t(374)].z)<AXIS_ZERO?0:(this[t(302)].cross(this[t(374)],this[t(294)]),e=0<this[t(294)][t(324)](this.vecAxis)?-this[t(302)][t(327)](this[t(374)]):this.vecDir2.angle(this[t(374)]))},this[_(270)]=function(t,e,a,n,i,s,r){var l=_;return this[l(356)].x=s.x,this[l(356)].y=s.y,this.vLinePt1.z=s.z,this[l(333)].x=r.x,this[l(333)].y=r.y,this[l(333)].z=r.z,CalTranslatePoint(t[0],t[1],t[2],i,this[l(252)]),CalTranslatePoint(e[0],e[1],e[2],i,this[l(336)]),CalTranslatePoint(a[0],a[1],a[2],i,this[l(359)]),CalTranslatePoint(n[0],n[1],n[2],i,this[l(322)]),!!CalcIntersectOfLineSegTriangle(this[l(356)],this[l(333)],this[l(252)],this[l(336)],this.vTriVer3,this[l(281)])||!!CalcIntersectOfLineSegTriangle(this.vLinePt1,this[l(333)],this[l(359)],this[l(322)],this[l(252)],this.pIntersectPtMove)}}var a108_0x486f=["_arrObjectSet","log","onNvgMovePlaneXZ_Finish","onNvgRotateYZ_Finish","5407QCeXdL","objectMoveWorldUpdate","onNvgRotateYZ_Begin","objectRotateWorldStart","init","onNvgMovePlaneXY_Update","onNvgRotateYZ_Update","onNvgMovePlaneYZ_Begin","onNvgMovePlaneXZ_Begin","updateBindMatrix","7091pazdJA","onNvgMovePlaneYZ_Finish","objectMoveWorldFinish","onNvgRotateXY_Update","multiply","1498619qQpilf","onNvgMoveAxisY_Update","getPickedIndex","onNvgMoveAxisX_Begin","738433xZcnvU","onNvgRotateXZ_Finish","objectRotateWorldUpdate","133821SZjqNY","onNvgMoveAxisY_Finish","onNvgMovePlaneXZ_Update","110zyygWk","169REhFAC","onNvgRotateXY_Finish","unbind","onNvgMoveAxisZ_Begin","674366YAWqNc","1RSiYUs","axisOrigin","objectRotateWorldFinish","GetObjectScale","mView","onNvgRotateXY_Begin","objectMoveWorldStart","211724MOCwYU","unBind","bind","onNvgMoveAxisZ_Finish","create","onNvgMoveAxisZ_Update","1DBMqlH","onNvgRotateXZ_Update","onNvgMovePlaneXY_Finish","mProj"],a108_0x4b906d=a108_0x49aa;function a108_0x49aa(t,e){return a108_0x486f[t-=157]}!function(e){for(var t=a108_0x49aa;;)try{if(611526===parseInt(t(192))+-parseInt(t(196))*-parseInt(t(180))+-parseInt(t(200))+parseInt(t(170))*-parseInt(t(195))+parseInt(t(189))*-parseInt(t(201))+-parseInt(t(208))+parseInt(t(162))*parseInt(t(185)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a108_0x486f);var g_objNvgCallback=null,g_objNvgCenter=new Point3(0,0,0),g_objNvgScaleMat=mat4[a108_0x4b906d(160)](),g_objNvgBindMat=mat4.create(),g_objNvgBindIndex=-1;function ObjectAxisNavigator(){var i=a108_0x4b906d;(g_axisNvg=null==g_axisNvg?new AxisNavigator:g_axisNvg)[i(174)](),g_objNvgCallback=new AxisNvgCallbacks,this.updateBindMatrix=function(){var t,e,a,n=i;g_objNvgBindIndex<0?(console[n(167)]("object navigator bind fail!"),this.unbind()):(t=g_webglControl.m_arrObjectMatrix[g_objNvgBindIndex],e=g_GLObjectSet[n(166)][g_objNvgBindIndex][n(204)](),CalTranslatePoint(g_axisNvg[n(202)][0],g_axisNvg.axisOrigin[1],g_axisNvg.axisOrigin[2],t,g_objNvgCenter),a=CalCameraProjectScale(g_objNvgCenter,g_camera[n(205)],g_camera[n(165)]),g_objNvgScaleMat[0]=a/e,g_objNvgScaleMat[5]=a/e,g_objNvgScaleMat[10]=a/e,mat4[n(184)](g_objNvgBindMat,t,g_objNvgScaleMat))},this.bind=function(){var e=i,t=g_glprogram[e(187)]();if(null==t||0==t.length)return console.log("bind object fail, no object is selected!"),!1;g_objNvgBindIndex=t[0],this.updateBindMatrix(),g_objNvgCallback[e(188)]=function(t){glRunTime[e(207)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback.onNvgMoveAxisX_Update=function(t){glRunTime[e(171)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback.onNvgMoveAxisX_Finish=function(){glRunTime[e(182)]()},g_objNvgCallback.onNvgMoveAxisY_Begin=function(t){glRunTime[e(207)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(186)]=function(t){glRunTime[e(171)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(193)]=function(){glRunTime.objectMoveWorldFinish()},g_objNvgCallback[e(199)]=function(t){glRunTime[e(207)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(161)]=function(t){glRunTime[e(171)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(159)]=function(){glRunTime[e(182)]()},g_objNvgCallback[e(206)]=function(){glRunTime.objectRotateWorldStart(g_objNvgBindIndex)},g_objNvgCallback[e(183)]=function(t){glRunTime[e(191)](g_objNvgBindIndex,g_axisZ,t)},g_objNvgCallback[e(197)]=function(){glRunTime.objectRotateWorldFinish(g_objNvgBindIndex)},g_objNvgCallback.onNvgRotateXZ_Begin=function(){glRunTime[e(173)](g_objNvgBindIndex)},g_objNvgCallback[e(163)]=function(t){glRunTime[e(191)](g_objNvgBindIndex,g_axisY,t)},g_objNvgCallback[e(190)]=function(){glRunTime[e(203)](g_objNvgBindIndex)},g_objNvgCallback[e(172)]=function(){glRunTime[e(173)](g_objNvgBindIndex)},g_objNvgCallback[e(176)]=function(t){glRunTime[e(191)](g_objNvgBindIndex,g_axisX,t)},g_objNvgCallback[e(169)]=function(){glRunTime[e(203)](g_objNvgBindIndex)},g_objNvgCallback.onNvgMovePlaneXY_Begin=function(t){glRunTime[e(207)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(175)]=function(t){glRunTime[e(171)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(164)]=function(){glRunTime[e(182)]()},g_objNvgCallback[e(178)]=function(t){glRunTime[e(207)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(194)]=function(t){glRunTime[e(171)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(168)]=function(){glRunTime[e(182)]()},g_objNvgCallback[e(177)]=function(t){glRunTime[e(207)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback.onNvgMovePlaneYZ_Update=function(t){glRunTime[e(171)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(181)]=function(){glRunTime[e(182)]()},g_axisNvg[e(158)](g_objNvgBindMat,g_objNvgCallback,this[e(179)]),g_isLocked=!0},this[i(198)]=function(){g_axisNvg[i(157)](),g_isLocked=!1}}var a12_0x5120=["m_arrObjectMatrix","777354cNPyxf","fromCleCamera","fTransparent","6lisOnz","GetAnimTransparent","8237LLvaSN","beginExplode","26783krAADM","log","850280ArRwIV","GetAnimMatrix","26rjwaoc","P3D_OnAnimRefreshCallBack","fAspect","","flush","4115397JHQNdP","86pACpjc","m_arrObjectTransparent","endExplode","9898oINAbX","updateExplode","_uFrameSize","_fFOVY","83tFmGkj","GetAnimCamera","179701AIsoQV"];!function(e){for(var t=a12_0x2551;;)try{if(575999===parseInt(t(243))*-parseInt(t(239))+-parseInt(t(222))*parseInt(t(217))-parseInt(t(219))+-parseInt(t(236))*parseInt(t(224))-parseInt(t(228))+-parseInt(t(230))*-parseInt(t(226))+parseInt(t(235)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a12_0x5120);const ANIMRUN=0,ANIMPAUSE=1,ANIMEND=2,ANIMTERMINAL=3;var animationClock=null,animationStatus=ANIMTERMINAL,uTotalFrame=0,uCurFrame=0,uFrameStep=1,uSleepTime=40,uBaseTime=40,uAnimSpeed=1,g_nAnimationStart=0,g_nAnimationEnd=0,g_animMode=0,g_doObjectAnim=!0,g_doCameraAnim=!0,g_doTransAnim=!0,adfCamera=new ADF_CAMERA;function setAnimType(t,e,a){g_doObjectAnim=t,g_doCameraAnim=e,g_doTransAnim=a}function setAnimSpeed(t){t<.5||10<t||(4<t?(uAnimSpeed=1,uSleepTime=uBaseTime,uFrameStep=Math.ceil(t)):(uFrameStep=1,uSleepTime=uBaseTime/(uAnimSpeed=t)))}function getAnimSpeed(){return uAnimSpeed*uFrameStep}function getTotalFrames(){return g_GLObjectSet._uFrameSize}function setAnimationStart(){var t=a12_0x2551;animTerminal(),uTotalFrame=g_GLObjectSet[t(241)],animationStatus==ANIMTERMINAL&&glRunTime.home(HOME_ALL),uTotalFrame<=uCurFrame&&(uCurFrame=0),animRun(),g_animMode=1}function PlaySceneAnimation(){animTerminal(),(uTotalFrame=g_nAnimationEnd)<=(uCurFrame=g_nAnimationStart)&&(uCurFrame=g_nAnimationStart),animationStatus=ANIMRUN,animRun(),g_animMode=2}function PlayUsrFrameAnimation(t,e){if(e<=t||e>=g_GLObjectSet[a12_0x2551(241)])return-1;animTerminal(),uCurFrame=t,uTotalFrame=e,animationStatus=ANIMRUN,animRun(),g_animMode=2}function animRun(){uCurFrame<uTotalFrame&&setObjectAnim(uCurFrame)?(g_doCameraAnim&&setCameraAnim(uCurFrame),g_doTransAnim&&setAnnotationAnim(uCurFrame),glRunTime.flush(),callback_v3.P3D_OnAnimRefreshCallBack(uCurFrame),uCurFrame+=uFrameStep,animationClock=setTimeout("animRun()",uSleepTime),animationStatus=ANIMRUN):(animPause(),animationStatus=ANIMEND,callback_v3.P3D_OnAnimFinishCallBack(!0))}function animPause(){null!=animationClock&&clearTimeout(animationClock),animationClock=null,animationStatus=ANIMPAUSE}function animTerminal(){var t=a12_0x2551;uCurFrame=0,callback_v3[t(231)](uCurFrame),uTotalFrame=0,setObjectAnim(uCurFrame)&&(g_doCameraAnim&&setCameraAnim(uCurFrame),g_doTransAnim&&setAnnotationAnim(uCurFrame),glRunTime[t(234)]()),animPause(),animationStatus=ANIMTERMINAL,g_animMode=0}function setCurFrame(t){if(1==g_animMode){if(t<0||uTotalFrame<=t)return}else{if(2!=g_animMode)return;if(t<g_nAnimationStart||uTotalFrame<=t)return}setObjectAnim(uCurFrame=t)&&(g_doCameraAnim&&setCameraAnim(uCurFrame),g_doTransAnim)&&setAnnotationAnim(uCurFrame),glRunTime.flush(),animPause(),callback_v3.P3D_OnAnimFinishCallBack(!0)}function setCameraAnim(t){var e=a12_0x2551;return!(t>g_GLObjectSet[e(241)]||t<0||(g_GLCameraSet[e(244)](t,adfCamera),adfCamera[e(242)]<=1e-4||(Common[e(220)](g_cameraDesc,adfCamera),g_cameraDesc[e(232)]=g_camera.desc[e(232)],Camera.updateDesc(g_camera,g_cameraDesc)),0))}function setObjectAnim(e){var a=a12_0x2551;if(e>g_GLObjectSet[a(241)]||e<0)return!1;for(let t=0;t<g_webglControl[a(218)].length;t++)g_GLObjectSet._arrObjectSet[t][a(229)](e,g_webglControl[a(218)][t]),this[a(221)]=g_GLObjectSet._arrObjectSet[t][a(223)](e),g_webglControl[a(237)][t]=this.fTransparent;return!0}function setAnnotationAnim(t){return!(t>g_GLObjectSet[a12_0x2551(241)]||t<0||(g_sceneAnnotation.setAnnotationAnim(t),0))}function a12_0x2551(t,e){return a12_0x5120[t-=217]}var scope=1,totalFrame=0,mode=0,explode=!1;function setExplodeStart(t,e,a,n){return!(a<1||n<0||!g_sceneExploder[a12_0x2551(225)](t))&&(scope=a,totalFrame=n,mode=e,explode=!0)}function updateExplodeFrame(t){var e=a12_0x2551;return explode?!(t<0||totalFrame<t)&&(expRatio=t/totalFrame*(scope-1)+1,g_sceneExploder[e(240)](mode,expRatio)):(console[e(227)](e(233)),!1)}function finishExplode(){return g_sceneExploder[a12_0x2551(238)]()}const a13_0x5ac4=["copy","translate","objectMovematrix","16087PYoCpA","create","_arrObjectSet","21389MkTywl","401xJMnYV","updateExplode","multiply","curMoveVec","flush","push","home","40206mQJvDi","7uNxdAn","m_arrObjectMatrix","m_vExplodedCenter","m_modelBox","endExplode","15RadPbN","getObjectWorldCenterByIndex","length","m_arrObjIndex","m_arrObjectOriWld","47007JXJqwn","getObjectIndexById","12355OaVOIW","9RJiBGt","log","beginExplode","splice","605xgunWu","3738qbkoFw","set","m_arrObjectOriPos"];function a13_0x36e5(t,e){return t-=214,a13_0x5ac4[t]}function SceneExplode(){const _=a13_0x36e5;this[_(221)]=new Array,this[_(215)]=new Point3(0,0,0),this[_(233)]=new Array,this.m_arrObjectOriWld=new Array,this[_(244)]=vec3[_(238)](),this[_(236)]=mat4[_(238)](),this[_(228)]=function(e){var a=_;if(glRunTime[a(247)](HOME_ALL),this.m_arrObjIndex[a(229)](0,this[a(221)][a(220)]),null==e||0==e.length)for(let t=0;t<g_GLObjectSet[a(239)].length;++t)this[a(221)][a(246)](t);else for(let t=0;t<e[a(220)];++t){var n=glRunTime[a(224)](e[t]);if(t<0)return console[a(227)]("The input has invalid object ids"),!1;this[a(221)][a(246)](n)}this[a(233)][a(229)](0,this[a(233)][a(220)]),this.m_arrObjectOriWld.splice(0,this[a(222)][a(220)]),getModelBoxCenter(glRunTime[a(216)],this.m_vExplodedCenter);for(let t=0;t<this[a(221)][a(220)];t++){this[a(233)][t]=glRunTime[a(219)](this[a(221)][t]);var i=mat4[a(238)]();mat4[a(234)](i,g_webglControl[a(214)][this[a(221)][t]]),this.m_arrObjectOriWld[t]=i}return!0},this[_(242)]=function(t,e){var a=_;let n,i,s;switch(t){case P3D_EXPLODE_MODE_X:n=e,i=1,s=1;break;case P3D_EXPLODE_MODE_Y:n=1,i=e,s=1;break;case P3D_EXPLODE_MODE_Z:n=1,i=1,s=e;break;default:P3D_EXPLODE_MODE_FREE;n=e,i=e,s=e}var r,l,o;for(let t=0;t<this[a(221)][a(220)];t++)r=(this[a(233)][t].x-this[a(215)].x)*n,l=(this.m_arrObjectOriPos[t].y-this[a(215)].y)*i,o=(this[a(233)][t].z-this[a(215)].z)*s,vec3[a(232)](this[a(244)],this.m_vExplodedCenter.x+r-this.m_arrObjectOriPos[t].x,this.m_vExplodedCenter.y+l-this[a(233)][t].y,this[a(215)].z+o-this[a(233)][t].z),mat4[a(235)](this[a(236)],IDENTITY_MATRIX,this.curMoveVec),mat4[a(243)](g_webglControl[a(214)][this[a(221)][t]],this.objectMovematrix,this[a(222)][t]);return glRunTime[a(245)](),!0},this[_(217)]=function(){var e=_;for(let t=0;t<this[e(221)][e(220)];t++)mat4[e(234)](g_webglControl[e(214)][this[e(221)][t]],this[e(222)][t]);return glRunTime.flush(),!0}}!function(e){for(var t=a13_0x36e5;;)try{if(165675==-parseInt(t(225))-parseInt(t(223))+-parseInt(t(230))*-parseInt(t(241))-parseInt(t(248))+-parseInt(t(218))*-parseInt(t(237))+-parseInt(t(226))*parseInt(t(240))+parseInt(t(249))*-parseInt(t(231)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a13_0x5ac4);