var a19_0x5c9c=["_fInterocularDistance","546300Gammvf","fFOVInRadian","isCompleted","fAspect","setControl","tick","updateDesc","253TYAPsL","ePan","175299dTQBKz","428011TXcNfD","eRotPos","flush","_onTick","2713WfrhfZ","max","desc","_upAxis","selfRotateAnimRun()","2323LqqElt","289758jTVbbc","1KcUHQh","exportToCleCamera","36pomvCo","eRotDir","49310wrdjDG","fromCleCamera"],g_camera=(!function(e){for(var t=a19_0x4b41;;)try{if(306613===parseInt(t(110))*parseInt(t(127))-parseInt(t(117))+parseInt(t(126))+-parseInt(t(109))+parseInt(t(124))*parseInt(t(108))+-parseInt(t(112))*parseInt(t(131))+parseInt(t(114)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a19_0x5c9c),null),g_cameraController=null,g_cameraDesc=null,g_cameraTweener=null,g_fElapseTimeInSeconds=null,g_selfRotateHandle=null,g_selfRotateElapse=30,g_selfRotateDelta=float2.from(-1,0);function shiftViewOnTick(e){var a=a19_0x4b41;if(null==g_cameraTweener)g_render._onTick=null,g_fElapseTimeInSeconds=null;else{let t=0;null!=g_fElapseTimeInSeconds&&(t=e-g_fElapseTimeInSeconds,t=Math[a(104)](t,0),t*=.001),g_fElapseTimeInSeconds=e,0==CameraTweener[a(119)](g_cameraTweener)&&(CameraTweener[a(122)](g_cameraTweener,t),Camera.updateDesc(g_camera,g_cameraTweener.desc),glRunTime.flush()),0==CameraTweener.isCompleted(g_cameraTweener)?window.requestAnimationFrame(function(t){shiftViewOnTick(t)}):g_cameraTweener=null}}function shiftViewAnim(t,e){var a=a19_0x4b41;g_cameraTweener=CameraTweener.make(g_camera[a(105)],t,e),g_fElapseTimeInSeconds=null,g_render[a(130)]=shiftViewOnTick,glRunTime[a(129)]()}function selfRotateAnimRun(){var t=a19_0x4b41;CameraController.rotPos(g_cameraController,g_camera,g_selfRotateDelta),glRunTime[t(129)](),g_selfRotateHandle=setTimeout(t(107),g_selfRotateElapse)}function selfRotateAnimStop(){null!=g_selfRotateHandle&&clearTimeout(g_selfRotateHandle),g_selfRotateHandle=null}function setCameraControlMode(t){var e=a19_0x4b41;0==t?(selfRotateAnimStop(),CameraController[e(121)](g_cameraController,CameraController.eRotPos)):1==t?(CameraController.lockUpAxis(g_cameraController,g_sceneConfig[e(106)]),CameraController.setControl(g_cameraController,CameraController[e(128)]),selfRotateAnimRun()):2==t?(selfRotateAnimStop(),CameraController[e(121)](g_cameraController,CameraController[e(125)])):3==t?(selfRotateAnimStop(),CameraController[e(121)](g_cameraController,CameraController.eRotDir)):4!=t&&5!=t||(selfRotateAnimStop(),CameraController[e(121)](g_cameraController,CameraController[e(113)]))}function a19_0x4b41(t,e){return a19_0x5c9c[t-=104]}function getCameraCurView(t){var e=a19_0x4b41;return Common[e(111)](t,g_camera[e(105)]),t._fFOVY=g_camera.desc[e(118)],t._fAspect=g_camera.desc.fAspect,!(t[e(116)]=0)}function setCameraCurView(t){var e=a19_0x4b41;return Common[e(115)](g_cameraDesc,t),g_cameraDesc[e(120)]=g_camera[e(105)][e(120)],Camera[e(123)](g_camera,g_cameraDesc),!0}const a71_0x54ea=["mViewProjI","getObjectVisible","viewMatInverse","338961miCqvU","setObjectMaterialTextureBasis","top","vUp","tcFormat","renderPixelMSAA","_oPickUnit","GLAnnotData","getObjectModelId","setSubObjectMoveByTreeId","setObjectSurfaceMaterialIndex","setObjectTransparent","getObjectCurWorldMatrix","left","_strName","geomSurfaceIndex","draw2D","multiply","m_BgColor","cvtScreenPtToWebGL","ray_clip_far","initBuffers","onload","ray_nds_far","pickObjectSurfaceByIndex","getObjectModelMatrix","ray_world_near","ClearCache","ObjectStartFlag","fFar","updateScleModel","_uIsUV","_DefaultCamera","importSecToolData","endLoadModel","transformMat4","314219lUnhkG","current loader is not slice mode","high","PARTSURFACEDATA","intersectRayScene","_Vertex","move","_arrNodeParameters","m_arrObjectMatrix","_uElapseTimeMillSec","getObjectMetialList","splice","_arrObjectSet","cvtWebGLPtToScreen","min","ObjectMoveCenterEnd","getCanvasPosByModelPos","_fFOVY","push","objectRotateWorldStart","setSceneLightPower","desc","cvtScreenToWorld","digitalWorldMat","setSurfaceMaterialMode","vecLightType","46876BsWoGd","initViewPort","getObjectWindowCenterByIndex","_matLocal","setBoxShow","_uRequestRender","init","GLModelTreeNode","length","curPickUnit","isOnceLoad","setObjectMatrixTranslate","_uPartIndex","width","getSubObjectsByTreeId","vEye","setPickType","206122HMDtea","pickNone","ObjectMoveCenterStart","resetScene","pickUnit","pcLightPower","initOperationParams","getTreeNodeSubObjectID","initSurfaceGLData","setObjectSurfaceMaterial","reset","captureGeomtry","setObjectMaterial","isContainsGeom","_upAxis","getPickUnit","WIDTH","projectionMatInverse","log","setHighlight","clearScene","digitalMultiplyMat","src","objectRotateWorldFinish","assignDesc","getObjectWorldCenterByIndex","getPickObjectIds","getPickObjectIdByIndex","getObjectBoxById","cvtCMOnlineToWorld","mViewProj","setObjectSurfaceMaterialByIndex","clearPmi","fSensRot","m_defFocus","max","make","clearGLData","wasmInit","pickMeasureUintByRay","normalize","_arrSubNode","isDuringRectSel","doMeasureAction","_SurfaceShape","set","objectMoveWorld","_arrSurfaceMaterialIndex","PointNDCCenter","initGLData","clear","initSceneBox","create","_uPrimitType","184674PVkfET","fNear","getPickObjectIndexs","requestAnimationFrame","draw","ObjectStartmatrix","height","moveModelCenter","VPMatrix","msaaChangeed","cvtWorldToCMOnline","objectSetMoveWorld","ray_world_far","uninit","_uMtlID","ObjectOriginalCenter","getObjectNameByID","webglRect","uninitRender","GLCamera","setSceneLightOn","setBackground","curRotateVec","updateDesc","_boxset","setSurfaceMaterial","setFocusOnObject","initCanvasView","m_fOperateSensitivity","objectRotateWorldUpdate","SCALE_STEP","pick","captureUnit","_MtlData","vAt","Clear","resetGLData","setObjectEnhancedDisplayByTreeId","Center2D","_ObjectBox","SCALE_MAX","getObjectModelIndex","setObjectMatrixByIndex","getObjectIndexById","_vFocus","cos","setSelectedShow","dst","_uPartID","canvas","pickModelByIndexs","setObjectEnhancedDisplayByIndex","copy","getBoundingClientRect","GLSceneConfig","selRect","pickIndexs","isObjectInRect","pickModelByIDs","setObjectVisibleByIndexs","curRuntimeMode","MMatrix","_uObjectIndex","_uPickType","curModelCenter","onceLoadScleModel","setObjectMaterialById","getTreeNodeSubObjectIndex","distance","initRuntimeParams","setObjectVisible","identity","draw3D","setMultObjectVisible","getMaterialIndexById","setViewport","clearObjectSurfaceMaterial","curMoveVec","fAspect","digitalLocalMat","initScene","setBackgroundColor","addBackground","m_modelBox","mapMaterialIDIndex","getPickStatus","_SurfaceBoxes","eRotPos","fromValues","_arrTexID","setObjectModelMatrixPicked","ObjectMovematrix","setObjectMeshMaterialUnitByPart","updatePartData","GLObjectSet","geomCurveIndex","initMap","PARTLODDATA","_eMtlType","getMaterialById","setObjectOriWorldMatrix","_arrMaterialSet","startScelModel","HEIGHT","_arrVertex","translate","1lZJIoB","objectMoveWorldStart","m_bgIndex","_arrPartSet","getObjectSurfacesNum","getRectSelectionStatus","m_arrBgTexId","captureType","1079155cyZUzM","RayPoint1","fromCleVec3","m_fModelLength","fromCleCamera","initCamera","getObjectTransparent","getTreeNodeById","isShowImageBk","mapObjectIDIndex","Copy","clearBuffers","RayPoint2","surfaceIndex","getObjectIdByIndex","objectMoveWorldUpdate","home","setHighlightShow","objectIndex","setObjectTransparentByIndex","resetWindow","setMutiSample","getPickedIndex","_onTick","m_defEyePos","add","setRectSelection","ray_nds_near","geomPointIndex","SCALE_MIN","m_defUpAxis","clientHeight","mapMeshIDIndex","pickObjectIndex","flush2D","ObjectRotatematrix","clearCommon","render","clientWidth","getObjectTreeIDByID","pickModelByRect","18244hcbiqv","computeSafeMinDistance","MVPMatrix","normal","pickMultObjectByIndexs","_arrPartLODData","ray_clip_near","initRender","arrModelData","flush","9USIjle","_uObjectID"];function a71_0x5aed(t,e){return t-=155,a71_0x54ea[t]}!function(e){for(var t=a71_0x5aed;;)try{if(175893===-parseInt(t(439))*-parseInt(t(339))+parseInt(t(398))*parseInt(t(388))+parseInt(t(179))+parseInt(t(162))+parseInt(t(403))+parseInt(t(233))+-parseInt(t(347)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a71_0x54ea);var g_GLData=null,g_GLObjectSet=null,g_GLPartSet=null,g_GLMaterialSet=null,g_GLAnnoSet=null,g_GLCameraSet=null,g_GLPmiSet=null,g_glprogram=null,g_webgl=null,g_buffers=null,g_webglControl=null,g_canvas=null,g_xmlTool=null,g_materialData=new MeshMaterialData,g_lineMtlData=new LineMaterialData,g_pureColor=new PureColor,g_sceneConfig=null,g_sceneMeasure=null,g_sceneAnnotation=null,g_sceneSection=null,g_scenePmiManager=null,g_texBasisu=null,g_texturer=new Texturer,g_render=null,g_axisNvg=null,g_objectAxisNvg=null,g_sceneExploder=null;const RUNTIME_MODE_NORMAL=-1,RUNTIME_MODE_ANNOTATION=0,RUNTIME_MODE_MEASURE=1,RUNTIME_MODE_SECTION=2,RUNTIME_MODE_PMI=3,RUNTIME_RENDER_STOP=0,RUNTIME_RENDER_GO=1,ANIM_FRAME_STEP=30,SCENE_DEFAULT_ROT_SENS=3;function RunTimePickUnit(){const e=a71_0x5aed;this[e(296)]=-2,this._oPickUnit=null,this[e(268)]=function(){var t=e;this[t(296)]=-2,this[t(409)]=null}}function RunTimeRender(){const e=a71_0x5aed;this._uRequestRender=!1,this[e(448)]=0,this[e(370)]=null,this[e(268)]=function(){var t=e;this._uRequestRender=!1,this[t(448)]=0}}function GLRunTime(){const c=a71_0x5aed;this[c(195)]=0,this.HEIGHT=0,this[c(263)]=10,this[c(376)]=10,this[c(273)]=2e3,this[c(350)]=1,this[c(261)]=1,this[c(316)]=new Box3D,this.m_defFocus=new Point3(0,0,0),this[c(371)]=new Point3(0,0,0),this[c(377)]=new Point3(0,0,0),this.ray_nds_near=vec3[c(231)](),this.ray_nds_far=vec3[c(231)](),this.ray_clip_near=vec4[c(231)](),this[c(423)]=vec4.create(),this[c(402)]=mat4[c(231)](),this[c(196)]=mat4[c(231)](),this[c(294)]=mat4.create(),this[c(241)]=mat4[c(231)](),this.MVPMatrix=mat4[c(231)](),this.inverseMVPMatrix=mat4[c(231)](),this[c(429)]=vec4[c(231)](),this[c(245)]=vec4[c(231)](),this[c(348)]=new Point3(0,0,0),this.RayPoint2=new Point3(0,0,0),this[c(248)]=new Point3(0,0,0),this[c(227)]=new Point3(0,0,0),this[c(181)]=new Point3(0,0,0),this[c(454)]=new Point3(0,0,0),this[c(324)]=mat4.create(),this[c(382)]=mat4[c(231)](),this[c(238)]=mat4[c(231)](),this[c(431)]=0,this[c(310)]=vec3[c(231)](),this[c(255)]=vec3[c(231)](),this.curModelCenter=new Point3(0,0,0),this.curObjectCenter=new Point3(0,0,0),this[c(289)]=new Array,this[c(250)]=new Rect2D(0,0,0,0),this.isCaptureGeomtry=!0,this.captureType=CAPTURE_NONE,this[c(265)]=new GL_PICK_UNIT,this[c(312)]=mat4.create(),this[c(159)]=mat4[c(231)](),this[c(200)]=mat4[c(231)](),this[c(172)]=!1,this.curRuntimeMode=-1,this.curPickUnit=new RunTimePickUnit,this[c(356)]=null,this[c(379)]=null,this[c(317)]=null,this[c(395)]=function(){var t=c;"4"==g_product&&(g_webgl=new(g_isWebgl2?(g_buffers=new WebGL2Buffer(gl),WebGL2):(g_buffers=new WebGL1Buffer(gl),WebGL1))(gl),g_glprogram=new GLProgram,g_canvas=new Canvas2D,g_webglControl=new WebGLControl(gl),g_sceneMeasure=new SceneMeasure,g_sceneAnnotation=new SceneAnnotation,g_sceneSection=new SceneSection,g_scenePmiManager=new ScenePmiManager,g_render=new RunTimeRender,(g_texBasisu=new TexturerBasisu).getWebglExtension(),g_sceneExploder=new SceneExplode,g_camera=Camera[t(215)](),g_cameraController=CameraController[t(215)](),g_cameraDesc=Camera.makeDesc(),g_cameraController[t(212)]=SCENE_DEFAULT_ROT_SENS,this[t(302)](),this.initMap(),g_glprogram[t(228)](),g_webgl[t(313)](),g_buffers[t(424)](),g_canvas[t(260)](this[t(195)],this.HEIGHT))},this[c(251)]=function(){var t=c;null!=g_glprogram&&g_glprogram.uninitGLData(),null!=g_sceneSection&&g_sceneSection.uninitSection(),null!=g_scenePmiManager&&g_scenePmiManager.uninit(),null!=g_webgl&&g_webgl.uninitScene(),null!=g_buffers&&g_buffers[t(358)](),this[t(383)]()},this[c(229)]=function(){var t=c;null!=g_glprogram&&g_glprogram[t(216)](),null!=g_scenePmiManager&&g_scenePmiManager[t(211)](),null!=g_webgl&&g_webgl[t(199)](),null!=g_buffers&&g_buffers.clearBuffers(),this[t(383)]()},this[c(383)]=function(){var t=c;null!=g_sceneAnnotation&&g_sceneAnnotation.uninit(),null!=g_sceneMeasure&&g_sceneMeasure[t(246)](),null!=g_GLObjectSet&&g_GLObjectSet[t(268)](),null!=g_GLPartSet&&g_GLPartSet[t(268)](),null!=g_GLMaterialSet&&g_GLMaterialSet[t(268)](),null!=g_GLAnnoSet&&g_GLAnnoSet[t(268)](),null!=g_GLCameraSet&&g_GLCameraSet.Clear(),(g_GLData=null)!=g_sceneSection&&g_sceneSection.clearSection(),this.clearMap()},this.clearMap=function(){var t=c;null!=this[t(356)]&&this[t(356)][t(450)](0,this.mapObjectIDIndex[t(170)]),null!=this[t(379)]&&this[t(379)][t(450)](0,this.mapMeshIDIndex.length),null!=this[t(317)]&&this[t(317)].splice(0,this[t(317)][t(170)])},this[c(189)]=function(){var t=c;this[t(302)](),g_glprogram[t(269)](),g_webgl[t(182)](),g_canvas[t(260)](this.WIDTH,this[t(336)])},this[c(302)]=function(){var t=c;this[t(195)]=gl.canvas[t(385)],this[t(336)]=gl[t(282)][t(378)],null==g_GLData&&(g_GLData=Cle2Data(),g_GLObjectSet=g_GLData[t(327)],g_GLMaterialSet=g_GLData.GLMatertalSet,g_GLAnnoSet=g_GLData[t(410)],g_sceneConfig=g_GLData[t(287)],g_GLCameraSet=g_GLData[t(252)],g_GLPmiSet=g_GLData.GLPmiSet),null==g_webglControl.m_arrBgTexId&&(g_webglControl[t(341)]=g_bgImageIndex,g_webglControl[t(345)]=new Array(g_bgImage[t(170)]),GetDefaultBgImg(g_webglControl[t(345)],g_bgImage[t(170)])),this[t(253)](g_sceneLightOn)},this[c(329)]=function(){var t,e,a=c;for(t in this.mapObjectIDIndex=new Array,g_GLObjectSet._arrObjectSet)this[a(356)][g_GLObjectSet[a(451)][t]._uObjectID]=t;for(e in this[a(317)]=new Array,g_GLMaterialSet[a(334)])this[a(317)][g_GLMaterialSet._arrMaterialSet[e]._uMtlID]=e},this.initCamera=function(){var t=c,e=web3dCanvas[t(286)]();this[t(195)]=e[t(175)],this[t(336)]=e[t(239)],1e-4<g_GLCameraSet[t(435)][t(456)]?(this.ObjectOriginalCenter.x=g_GLCameraSet._DefaultCamera[t(277)].x,this.ObjectOriginalCenter.y=g_GLCameraSet._DefaultCamera[t(277)].y,this.ObjectOriginalCenter.z=g_GLCameraSet[t(435)][t(277)].z,Common[t(351)](g_cameraDesc,g_GLCameraSet._DefaultCamera),g_cameraDesc.fAspect=this[t(195)]/this.HEIGHT,Camera[t(256)](g_camera,g_cameraDesc),Camera[t(308)](g_camera,this[t(195)],this[t(336)],web3dCanvas[t(416)],web3dCanvas[t(405)])):(getModelBoxCenter(this[t(316)],this[t(248)]),g_glprogram.setModelCenter(this[t(248)]),getModelDefEyePos(this[t(316)],this[t(371)],this[t(213)],this[t(377)]),Common[t(349)](g_cameraDesc.vEye,this[t(371)]),Common[t(349)](g_cameraDesc[t(267)],this.m_defFocus),Common[t(349)](g_cameraDesc[t(406)],this[t(377)]),g_cameraDesc[t(311)]=this[t(195)]/this[t(336)],e=float3[t(301)](g_cameraDesc[t(177)],g_cameraDesc[t(267)]),g_cameraDesc[t(234)]=.02*e,g_cameraDesc[t(432)]=200*e,g_cameraDesc.fFOVInRadian=45*Math.PI/180,Camera[t(256)](g_camera,g_cameraDesc),Camera.setViewport(g_camera,this.WIDTH,this[t(336)],web3dCanvas.left,web3dCanvas[t(405)])),CameraController.lockUpAxis(g_cameraController,g_sceneConfig[t(193)]),CameraController.setControl(g_cameraController,CameraController[t(320)])},this[c(230)]=function(){var t=c;this[t(172)]?this[t(316)]=getModelBox(g_GLObjectSet,g_GLPartSet):this[t(316)]=getSliceScleBox(g_GLObjectSet,g_sceneData[t(396)])},this[c(185)]=function(){var t=c;this[t(350)]=getModelBoxLength(this.m_modelBox),this[t(376)]=this[t(350)]/20,this[t(273)]=2*this.m_fModelLength,this[t(263)]=this[t(376)]},this[c(397)]=function(){const a=c;0==g_render[a(167)]&&(window[a(236)](function(t){var e=a;null!=gl&&g_webgl[e(384)](),null!=gl2d&&g_canvas.draw(),updateNvgCamera(g_camera),null!=g_render[e(370)]&&g_render[e(370)](t),g_render[e(167)]=!1}),g_render._uRequestRender=!0)},this[c(381)]=function(){const a=c;0==g_render[a(167)]&&(window.requestAnimationFrame(function(t){var e=a;null!=gl2d&&g_canvas[e(237)](),null!=g_render[e(370)]&&g_render._onTick(t),g_render[e(167)]=!1}),g_render[a(167)]=!0)},this[c(305)]=function(){var t=c;null!=gl&&g_webgl[t(384)]()},this[c(419)]=function(){null!=gl2d&&g_canvas.draw()},this[c(367)]=function(t,e){var a=c;this[a(195)]=t,this[a(336)]=e,Camera.setViewport(g_camera,t,e,web3dCanvas[a(416)],web3dCanvas[a(405)]),g_webgl[a(163)](),g_canvas[a(260)](this[a(195)],this[a(336)]),this.flush()},this[c(445)]=function(t,e){var a=c,t=(getModelBoxCenter(this[a(316)],this[a(297)]),CalTranslatePoint(this[a(297)].x,this.curModelCenter.y,this[a(297)].z,g_camera[a(209)],this.PointNDCCenter),-t/this[a(195)]),e=-e/this[a(336)],t=(CalTranslatePoint(0,0,this.PointNDCCenter.z,g_camera[a(400)],this[a(181)]),CalTranslatePoint(t,e,this[a(227)].z,g_camera[a(400)],this.ObjectMoveCenterEnd),this[a(297)].x=this.ObjectMoveCenterEnd.x-this[a(181)].x,this[a(297)].y=this.ObjectMoveCenterEnd.y-this[a(181)].y,this[a(297)].z=this[a(454)].z-this[a(181)].z,g_glprogram[a(240)](this[a(297)]),float3[a(215)]()),e=(float3[a(224)](t,this[a(297)].x,this[a(297)].y,this[a(297)].z),float3[a(372)](null,g_camera[a(157)][a(177)],t)),t=float3[a(372)](null,g_camera.desc.vAt,t);Camera.setViewParam(g_camera,e,t,null),this[a(397)]()},this.objectMoveWindow=function(t,e,a){var n=c,i=g_glprogram[n(428)](t),t=g_GLObjectSet[n(451)][t][n(174)],t=(getModelBoxCenter(g_GLPartSet[n(342)][t][n(393)][0][n(257)][n(272)],this[n(297)]),mat4[n(420)](this[n(390)],g_camera[n(209)],i),CalTranslatePoint(this[n(297)].x,this[n(297)].y,this.curModelCenter.z,this[n(390)],this[n(227)]),e/this.WIDTH),i=a/this[n(336)];CalTranslatePoint(0,0,this.PointNDCCenter.z,g_camera[n(400)],this[n(181)]),CalTranslatePoint(t,i,this[n(227)].z,g_camera[n(400)],this[n(454)]),mat4[n(304)](this.ObjectMovematrix),mat4.translate(this.ObjectMovematrix,this[n(324)],vec3[n(321)](this.ObjectMoveCenterEnd.x-this[n(181)].x,this.ObjectMoveCenterEnd.y-this[n(181)].y,this[n(454)].z-this[n(181)].z)),g_glprogram[n(323)](this[n(324)]),this[n(397)]()},this[c(225)]=function(t,e,a,n){var i=c;vec3.set(this[i(310)],e,a,n),this.ObjectStartmatrix=g_webglControl[i(447)][t],mat4[i(338)](this[i(324)],IDENTITY_MATRIX,this.curMoveVec),mat4.multiply(g_webglControl[i(447)][t],this[i(324)],this[i(238)]),this[i(397)]()},this[c(340)]=function(t,e,a,n){var i=c;this.ObjectMoveCenterStart[i(224)](e,a,n),mat4[i(285)](this.ObjectStartmatrix,g_webglControl.m_arrObjectMatrix[t]),this[i(431)]=1},this[c(362)]=function(t,e,a,n){var i=c;0!=this.ObjectStartFlag&&(vec3[i(224)](this.curMoveVec,e-this.ObjectMoveCenterStart.x,a-this[i(181)].y,n-this.ObjectMoveCenterStart.z),mat4.translate(this.ObjectMovematrix,IDENTITY_MATRIX,this.curMoveVec),mat4.multiply(g_webglControl[i(447)][t],this[i(324)],this[i(238)]),this.flush())},this.objectMoveWorldFinish=function(){var t=c;mat4[t(304)](this.ObjectStartmatrix),this[t(431)]=0,this.flush2D()},this[c(155)]=function(t){var e=c;mat4.copy(this[e(238)],g_webglControl[e(447)][t]),this[e(431)]=1},this[c(262)]=function(t,e,a){var n=c;0!=this.ObjectStartFlag&&(vec3[n(224)](this.curRotateVec,e.x,e.y,e.z),mat4.rotate(g_webglControl[n(447)][t],this.ObjectStartmatrix,a,this[n(255)]),this.flush())},this[c(202)]=function(){var t=c;mat4[t(304)](this[t(238)]),this[t(431)]=0,this[t(381)]()},this[c(244)]=function(t,e,a,n){var i=c,s=getPublicModelBox(g_GLObjectSet,g_GLPartSet,t,g_webglControl[i(447)]);getModelBoxCenter(s,this[i(297)]),mat4[i(304)](this[i(324)]),mat4[i(338)](this[i(324)],this.ObjectMovematrix,vec3[i(321)](e,a,n)),g_glprogram[i(173)](t,this.ObjectMovematrix),this[i(397)]()},this[c(166)]=function(t){var e=c;g_glprogram.setBoxShow(t),this[e(397)]()},this[c(198)]=function(t){var e=c;g_glprogram[e(364)](t),this.flush()},this[c(279)]=function(t){var e=c;g_glprogram.setBoxShow(t),g_glprogram[e(364)](t),this[e(397)]()},this[c(158)]=function(t,e,a,n){var i=c,t=2*t/this[i(195)]-1,e=1-2*e/this[i(336)];this[i(374)][0]=t,this[i(374)][1]=e,this[i(374)][2]=-1,this[i(426)][0]=t,this[i(426)][1]=e,this[i(426)][2]=1,this[i(394)][0]=this[i(374)][0],this.ray_clip_near[1]=this[i(374)][1],this[i(394)][2]=this[i(374)][2],this[i(394)][3]=1,this[i(423)][0]=this[i(426)][0],this.ray_clip_far[1]=this.ray_nds_far[1],this[i(423)][2]=this[i(426)][2],this.ray_clip_far[3]=1,vec4.transformMat4(this[i(429)],this[i(394)],g_camera[i(400)]),vec4[i(438)](this.ray_world_far,this[i(423)],g_camera[i(400)]),0!=this.ray_world_near[3]&&(this[i(429)][0]/=this[i(429)][3],this[i(429)][1]/=this[i(429)][3],this[i(429)][2]/=this.ray_world_near[3]),0!=this[i(245)][3]&&(this[i(245)][0]/=this[i(245)][3],this[i(245)][1]/=this.ray_world_far[3],this[i(245)][2]/=this[i(245)][3]),a.x=this[i(429)][0],a.y=this[i(429)][1],a.z=this[i(429)][2],n.x=this[i(245)][0],n.y=this.ray_world_far[1],n.z=this.ray_world_far[2]},this[c(208)]=function(t,e){var a=c;CalTranslatePoint(t.x,t.y,t.z,g_webglControl[a(447)][e],t)},this[c(243)]=function(t,e){var a;-1<e&&(a=new Point3(t.x,t.y,t.z),CalInversePoint(a,g_webglControl.m_arrObjectMatrix[e],t))},this[c(452)]=function(t,e){var a=c;e.x=(t.x+1)/2*this[a(195)],e.y=(1-t.y)/2*this[a(336)]},this[c(422)]=function(t,e){var a=c;e.x=t.x/this.WIDTH*2-1,e.y=1-t.y/this[a(336)]*2},this[c(455)]=function(t,e){t=g_canvas.cvtModelToScreen(t,e);return{x:(t.x+1)/2,y:(1-t.y)/2}},this[c(264)]=function(t,e,a,n){var i=c;if(this[i(293)]==RUNTIME_MODE_MEASURE){this[i(171)][i(296)]=RUNTIME_MODE_MEASURE;var s=g_sceneMeasure.doGetPickMeasureIndex(t,e);if(-1<s)return g_glprogram[i(180)](),this[i(171)][i(409)]=s,this[i(171)]}return this[i(293)]==RUNTIME_MODE_PMI&&(this.curPickUnit[i(296)]=RUNTIME_MODE_PMI,this[i(171)][i(409)]=g_scenePmiManager.pickPmi(t,e,a,n),null!=this[i(171)][i(409)])?(g_glprogram[i(180)](),this[i(171)]):(this[i(158)](t,e,this[i(348)],this[i(359)]),this[i(293)]!=RUNTIME_MODE_SECTION?(this[i(171)][i(409)]=g_glprogram.pickByRay(this[i(348)],this[i(359)],a,n),-1<this[i(171)][i(409)][i(365)]?(this.curPickUnit[i(296)]=RUNTIME_MODE_NORMAL,1==g_sceneMeasure.pickMeasureMode&&1==g_webglControl[i(192)]&&(this.curPickUnit[i(296)]=RUNTIME_MODE_MEASURE,g_sceneMeasure[i(222)](this[i(171)][i(409)]))):this.curPickUnit[i(268)](),this.flush(),this.curPickUnit):void this[i(171)][i(268)]())},this[c(380)]=function(t,e,a,n){var i=c,t=this[i(264)](t,e,a,n);return null==t||null==t[i(409)]?-1:t[i(409)][i(365)]},this[c(283)]=function(t){var e=c;null==t||t[e(170)]<1||(g_glprogram[e(392)](t),this[e(397)]())},this[c(291)]=function(a){var n=c;if(null==a||a[n(170)]<1)g_glprogram[n(180)](),this[n(397)]();else{var i=new Array;for(let e=0;e<a[n(170)];++e)for(let t=0;t<g_GLObjectSet[n(451)][n(170)];++t)if(g_GLObjectSet[n(451)][t][n(399)]==a[e]){i.push(t);break}this.pickModelByIndexs(i),this.flush()}},this[c(318)]=function(){var t=c;return g_glprogram[t(318)]()},this[c(235)]=function(){return g_glprogram.getPickedIndex()},this[c(205)]=function(){var e=c,a=new Array,n=g_glprogram[e(369)]();for(let t=0;t<n[e(170)];t++)a[e(457)](g_GLObjectSet._arrObjectSet[n[t]][e(399)]);return a},this[c(206)]=function(t){var e=c;return t<0||t>=g_GLObjectSet[e(451)][e(170)]?null:g_GLObjectSet[e(451)][t][e(399)]},this[c(387)]=function(t){var e=c,a=(t.normalize(),this[e(422)](t[e(453)],this[e(250)][e(453)]),this[e(422)](t[e(214)],this[e(250)][e(214)]),this[e(250)][e(219)](),new Array);for(let t=0;t<g_GLObjectSet._arrObjectSet[e(170)];++t){var n=g_GLObjectSet[e(451)][t][e(174)];mat4[e(420)](this[e(390)],g_camera[e(209)],g_glprogram[e(428)](t)),g_glprogram[e(290)](g_GLPartSet._arrPartSet[n][e(393)][0],this[e(390)],this[e(250)])&&a[e(457)](t)}return this[e(283)](a)},this[c(194)]=function(){var t=c;return g_glprogram[t(183)]},this[c(276)]=function(t){t=this[c(356)][t];return null==t?-1:t},this[c(361)]=function(t){var e=c;return t<0||t>=g_GLObjectSet[e(451)][e(170)]?-1:g_GLObjectSet[e(451)][t][e(399)]},this.getObjectNameByID=function(e,a){var n=c;if(a[n(399)]==e)return a[n(417)];var i;for(let t=0;t<a[n(220)][n(170)];++t)if(null!=(i=this[n(249)](e,a[n(220)][t])))return i;return null},this[c(386)]=function(e,a){var n=c;if(a._uObjectID==e)return a._uTreeNodeID;var i;for(let t=0;t<a[n(220)][n(170)];++t)if(null!=(i=this.getObjectTreeIDByID(e,a._arrSubNode[t])))return i;return null},this.getObjectParamsByID=function(e,a){var n=c;if(a[n(399)]==e)return a[n(446)];var i;for(let t=0;t<a[n(220)].length;++t)if(null!=(i=this.getObjectParamsByID(e,a[n(220)][t])))return i;return null},this.getObjectCenterById=function(t){var e=c;let a=this[e(276)](t),n=null;return 0<=a&&(t=this.getObjectCenterByIndex(a)[e(271)],(n=new Point2(0,0)).x=(t.x+1)*this[e(195)]/2,n.y=(1-t.y)*this[e(336)]/2),n},this.getObjectCenterByIndex=function(t){var e=c;return{Center2D:this[e(164)](t),Center3D:this[e(204)](t)}},this[c(204)]=function(t){var e,a=c,n=g_GLObjectSet[a(451)][t][a(174)];return null==g_GLPartSet[a(342)][n]?null:(e=new Point3(0,0,0),t=g_webglControl[a(447)][t],getModelBoxCenter(g_GLPartSet[a(342)][n]._arrPartLODData[0][a(257)][a(272)],this[a(297)]),CalTranslatePoint(this[a(297)].x,this[a(297)].y,this[a(297)].z,t,e),e)},this[c(164)]=function(t){var e,a=c,n=g_GLObjectSet[a(451)][t][a(174)];return null==g_GLPartSet[a(342)][n]?null:(e=new Point3(0,0,0),t=g_webglControl.m_arrObjectMatrix[t],getModelBoxCenter(g_GLPartSet[a(342)][n][a(393)][0]._boxset[a(272)],this[a(297)]),mat4[a(420)](this[a(390)],g_camera[a(209)],t),CalTranslatePoint(this.curModelCenter.x,this[a(297)].y,this.curModelCenter.z,this[a(390)],e),e)},this.getObjectSurfacesNum=function(t){var e=c,t=g_GLObjectSet[e(451)][t][e(174)];return null==g_GLPartSet._arrPartSet[t]?0:g_GLPartSet._arrPartSet[t][e(393)][0][e(257)][e(319)][e(170)]},this.getObjectModelIndex=function(t){var e=c,t=this[e(276)](t);return t<0?-1:g_GLObjectSet[e(451)][t][e(174)]},this[c(411)]=function(t){var e=c,t=this[e(274)](t);return t<0?-1:g_GLPartSet[e(342)][t][e(281)]},this[c(259)]=function(){var e=c;if(this[e(289)][e(450)](0,this.pickIndexs[e(170)]),this[e(289)]=g_glprogram[e(369)](),null==this.pickIndexs||0==this[e(289)][e(170)])for(let t=0;t<g_webglControl[e(447)][e(170)];t++)this[e(289)][e(457)](t);var t=getPublicModelBox(g_GLObjectSet,g_GLPartSet,this.pickIndexs,g_webglControl[e(447)]);getModelBoxCenter(t,this[e(297)]);let a=getModelBoxLength(t),n=Camera[e(389)](g_camera),i=.5*a,s=0;s=i<n?n:1.5*a;t=new Vector3(g_camera[e(157)][e(177)][0]-g_camera[e(157)][e(267)][0],g_camera[e(157)][e(177)][1]-g_camera.desc[e(267)][1],g_camera[e(157)][e(177)][2]-g_camera[e(157)][e(267)][2]);t[e(219)](),Camera[e(203)](g_cameraDesc,g_camera[e(157)]),float3[e(224)](g_cameraDesc[e(267)],this.curModelCenter.x,this[e(297)].y,this[e(297)].z),float3[e(224)](g_cameraDesc[e(177)],g_cameraDesc[e(267)][0]+t.x*s,g_cameraDesc.vAt[1]+t.y*s,g_cameraDesc[e(267)][2]+t.z*s),shiftViewAnim(g_cameraDesc,.5)},this.pickModelTreeNode=function(t){var e=c;return g_glprogram[e(392)](t)},this[c(254)]=function(t){var e=c;g_glprogram[e(254)](t),g_webglControl[e(355)]=!0,this[e(397)]()},this.addUsrBackground=function(t){const e=c;let a=new Image,n=void(a[e(201)]=t);a.onload=function(){var t=e;null!=(n=g_texturer.createUrlRgbaTexture(gl,a,g_isWebgl2))&&g_glprogram[t(315)](n)},g_webglControl.isShowImageBk=!0,this[e(397)]()},this[c(314)]=function(t,e,a){var n=c;float4[n(224)](g_webglControl.m_BgColor,t,e,a,1),g_webglControl[n(355)]=!1,this[n(397)]()},this.getBackgroundColor=function(){var t,e=c;return null!=g_webglControl[e(345)]&&0<g_webglControl.m_arrBgTexId.length&&g_webglControl[e(355)]?null:((t=new Array).push(g_webglControl[e(421)][0]),t[e(457)](g_webglControl.m_BgColor[1]),t[e(457)](g_webglControl[e(421)][2]),t)},this.shiftView=function(t){var e=c;if(null!=g_cameraDesc&&null!=g_camera){Camera.assignDesc(g_cameraDesc,g_camera.desc);var a=float3[e(215)]();switch(t){case 0:float3[e(224)](a,0,0,this[e(350)]),float3.set(g_cameraDesc[e(406)],0,1,0);break;case 1:float3[e(224)](a,0,0,-this[e(350)]),float3[e(224)](g_cameraDesc[e(406)],0,1,0);break;case 2:float3[e(224)](a,-this[e(350)],0,0),float3[e(224)](g_cameraDesc[e(406)],0,1,0);break;case 3:float3[e(224)](a,this[e(350)],0,0),float3[e(224)](g_cameraDesc[e(406)],0,1,0);break;case 4:float3.set(a,0,this[e(350)],0),float3[e(224)](g_cameraDesc[e(406)],0,0,-1);break;case 5:float3[e(224)](a,0,-this[e(350)],0),float3[e(224)](g_cameraDesc[e(406)],0,0,1);break;case 6:float3[e(224)](a,this[e(350)]/2,this[e(350)]/Math[e(278)](45*Math.PI/180),this[e(350)]/2),float3[e(224)](g_cameraDesc[e(406)],0,0,1)}g_glprogram[e(180)](),float3[e(372)](g_cameraDesc[e(177)],g_camera[e(157)].vAt,a),shiftViewAnim(g_cameraDesc,.5)}},this[c(414)]=function(e,a){var n=c;if(null==e||0==e[n(170)])g_glprogram.setObjectTransparent(-1,a);else{var i;for(let t=0;t<e[n(170)];++t)0<=(i=this[n(276)](e[t]))&&g_glprogram[n(414)](i,a)}this[n(397)]()},this[c(353)]=function(t){return g_glprogram.getObjectTransparent(t)},this.setObjectVisible=function(t,e){var a=c;g_glprogram[a(303)](t,e),this.flush()},this.getObjectVisible=function(t){var e=c;return g_glprogram[e(401)](t)},this[c(306)]=function(t,e){var a=c;null==t||t[a(170)]<1||(g_glprogram[a(292)](t,e),this[a(397)]())},this[c(191)]=function(t,e,a,n,i){var s=c,e=ConvertColorToMaterial(e,a,n,i),a=this.getObjectIndexById(t);return!(a<0||(g_glprogram[s(191)](a,e),this[s(397)](),0))},this[c(299)]=function(t,e){e=this[c(332)](e);null!=e&&(g_glprogram.setObjectMaterial(t,e),this.flush())},this.setObjectMaterialTexture2D=function(t,e,a,n){const i=c;t=this[i(276)](t);if(t<0)return-1;var s=g_GLObjectSet[i(451)][t][i(174)];if(null==g_GLPartSet[i(342)][s]||1!=g_GLPartSet[i(342)][s][i(393)][0]._uIsUV)return-1;s=this.getMaterialById(a);if(null==s)return-1;let r=s.Clone(),l=(r[i(247)]=g_newMaterialID++,r[i(266)][i(331)]=ADFMTLTYPE_PICTURE,t),o=e,_=new Image;_[i(425)]=function(){var e=i;if(r[e(266)][e(322)][0]=g_texturer.createUrlRgbaTexture(gl,_,g_isWebgl2),null==o||0==o.length)g_glprogram.setObjectMaterial(l,r);else for(let t=0;t<o.length;++t)g_glprogram[e(188)](l,o[t],r);this[e(397)]()},_[i(201)]=n},this[c(404)]=function(t,e,a,n){var i=c,s=this[i(276)](t);if(s<0)return-1;t=g_GLObjectSet._arrObjectSet[s][i(174)];if(null==g_GLPartSet[i(342)][t]||1!=g_GLPartSet[i(342)][t][i(393)][0][i(434)])return-1;t=this[i(332)](a);if(null==t)return-1;var r=t.Clone();if(r._uMtlID=g_newMaterialID++,r[i(266)][i(331)]=ADFMTLTYPE_PICTURE,null==g_texBasisu||!g_texBasisu[i(217)])return console[i(197)]("basis unversal not support"),-1;a=g_texBasisu.loadBasisData(n);if(null==a)return-1;if(r._MtlData[i(322)][0]=g_texBasisu.createCompressedTexture(a[i(280)],a[i(175)],a[i(239)],a[i(407)]),null==e||0==e[i(170)])g_glprogram[i(191)](s,r);else for(let t=0;t<e.length;++t)g_glprogram[i(188)](s,e[t],r)},this[c(188)]=function(t,e,a,n,i,s){var r=c,a=ConvertColorToMaterial(a,n,i,1);g_glprogram[r(188)](t,e,a),this.flush()},this.setObjectSurfaceMaterialById=function(t,e,a){var n=c,i=this[n(276)](t);if(0<=i){if(null==e||0==e[n(170)]){var s=this[n(343)](i);for(let t=0;t<s;++t)this[n(210)](i,t,a)}else for(let t=0;t<e[n(170)];++t)this.setObjectSurfaceMaterialByIndex(i,e[t],a);return 0}return-1},this.setObjectSurfaceMaterialByIndex=function(t,e,a){var n=c;t<0||e<0||(a=this[n(307)](a))<0||(g_glprogram[n(413)](t,e,a),this[n(397)]())},this[c(309)]=function(t){var e=c,t=this[e(276)](t);if(0<=t)return g_glprogram[e(188)](t,-1,null);this[e(397)]()},this[c(449)]=function(t){var e=c;if(-1==t)return g_GLMaterialSet[e(357)]();var a=this.getObjectIndexById(t);if(0<=a){var n=new Array;for(i=0;i<g_GLObjectSet[e(451)][a][e(226)][e(170)];++i){var s=g_GLMaterialSet.GetMaterialInfo(g_GLObjectSet[e(451)][a][e(226)][i]);n[e(457)](s)}return n}return null},this.getMaterialById=function(t){var e=c;return 0<=this[e(307)](t)?g_GLMaterialSet[e(334)][i]:null},this[c(307)]=function(t){t=this[c(317)][t];return null==t?-1:t},this[c(207)]=function(t){var e=c,a=this.getObjectIndexById(t);if(a<0)return null;t=g_GLObjectSet._arrObjectSet[a][e(174)];if(null==g_GLPartSet._arrPartSet[t])return null;var n=g_GLPartSet._arrPartSet[t][e(393)][0][e(257)][e(272)],i=new P3D_BOX;for(let t=0;t<n[e(444)][e(170)];++t){var s=new Point3;CalTranslatePoint(n[e(444)][t].x,n[e(444)][t].y,n[e(444)][t].z,g_glprogram[e(428)](a),s),i[e(337)].push(s)}return i},this[c(176)]=function(t){var e,a=c,t=this[a(354)](t,g_GLData[a(169)]);return null==t?null:(e=new Array,this[a(186)](t,e),e)},this[c(412)]=function(t,e,a,n){var i,s=c,t=this.getTreeNodeById(t,g_GLData[s(169)]);return null!=t&&(i=new Array,this.getTreeNodeSubObjectIndex(t,i),!(i[s(170)]<=0||(this[s(244)](i,e,a,n),0)))},this[c(354)]=function(e,a){var n=c;if(a._uTreeNodeID==e)return a;var i;for(let t=0;t<a[n(220)].length;++t)if(null!=(i=this[n(354)](e,a._arrSubNode[t])))return i;return null},this[c(300)]=function(e,a){var n=c;if(0<=e[n(295)])a[n(457)](e._uObjectIndex);else for(let t=0;t<e._arrSubNode[n(170)];++t)this.getTreeNodeSubObjectIndex(e[n(220)][t],a)},this[c(186)]=function(e,a){var n=c;if(0<=e[n(295)])a[n(457)](e[n(399)]);else for(let t=0;t<e[n(220)][n(170)];++t)this.getTreeNodeSubObjectID(e[n(220)][t],a)},this[c(270)]=function(t){var e,a=c,t=this[a(354)](t,g_GLData[a(169)]);if(null!=t)return e=new Array,this[a(300)](t,e),this[a(284)](e)},this.setObjectEnhancedDisplayById=function(n){var i=c,s=new Array;for(let t=0;t<g_GLObjectSet._arrObjectSet[i(170)];t++){let e=!1,a=g_GLObjectSet[i(451)][t][i(399)];for(let t=0;t<n[i(170)];++t)if(a==n[t]){e=!0;break}e||s.push(t)}g_glprogram[i(366)](s,.2),this[i(397)]()},this[c(284)]=function(n){var i=c,t=new Array;for(let a=0;a<g_GLObjectSet[i(451)][i(170)];a++){let e=!1;for(let t=0;t<n[i(170)];++t)if(a==n[t]){e=!0;break}e||t[i(457)](a)}g_glprogram[i(366)](t,.2),this.flush()},this[c(160)]=function(t){var e=c;1==t?g_glprogram.setPickType(PICK_GEOM_SURFACE):g_glprogram[e(178)](PICK_OBJECT),g_sceneGeomtryOn&&g_glprogram[e(187)]()},this[c(258)]=function(t,e,a,n){var i=c,s=glRunTime.getPickUnit();this[i(188)](s[i(365)],s[i(360)],t,e,a,n)},this.home=function(t){var e=c;switch(t){case HOME_ALL:case HOME_TYPE_CAMERA:this.initCamera()}g_glprogram[e(363)](t),g_sceneAnnotation[e(363)](t),this[e(397)]()},this[c(333)]=function(t,e){var a=c,t=this[a(276)](t);t<0||(CalMat4(g_GLObjectSet[a(451)][t][a(165)],this[a(312)]),CalMat4(e,this[a(159)]),mat4[a(420)](this[a(200)],this.digitalWorldMat,this.digitalLocalMat),g_glprogram[a(275)](t,this[a(200)]),this[a(397)]())},this.getObjectOriWorldMatrix=function(t){var e=c,t=this[e(276)](t);if(!(t<0))return g_GLObjectSet[e(451)][t]._matWorld},this[c(415)]=function(t){var t=this[c(276)](t);if(!(t<0))return t=g_glprogram.getObjectWorldMatrix(t),CalADFMat(t)},this.setObjectsPickedByIds=function(a){var n=c;if(null!=a){var i=new Array;for(let e=0;e<a[n(170)];++e)for(let t=0;t<g_GLObjectSet._arrObjectSet[n(170)];t++)if(g_GLObjectSet[n(451)][t][n(399)]==a[e]){i.push(t);break}g_glprogram.pickMultObjectByIndexs(i),this.flush()}},this[c(344)]=function(){var t=c;return g_canvas[t(221)]},this[c(373)]=function(t,e){var a=c;g_canvas.isDuringRectSel=t,g_canvas[a(288)][a(285)](e),this[a(419)]()},this.setCaptureMode=function(t){this.captureType=t},this.setCaptureModeByMeasure=function(t){var e=c;g_webglControl.isContainsGeom&&(t==MEASURE_NONE?this[e(346)]=CAPTURE_NONE:t==MEASURE_OBJECT?this.captureType=CAPTURE_OBJECT:t==MEASURE_SURFACE?this[e(346)]=CAPTURE_GEOM_SURFACE:t==MEASURE_CURVE?this[e(346)]=CAPTURE_GEOM_CURVE:t==MEASURE_POINT?this[e(346)]=CAPTURE_GEOM_POINT:t==MEASURE_TWO_CURVES?this[e(346)]=CAPTURE_GEOM_CURVE:t==MEASURE_TWO_POINTS&&(this[e(346)]=CAPTURE_GEOM_POINT))},this[c(190)]=function(t,e){var a=c;if(this[a(346)]==CAPTURE_NONE)return g_canvas[a(265)]=null;if(-1<g_sceneMeasure[a(218)](t,e,!1))return null;this[a(158)](t,e,this[a(348)],this[a(359)]);t=g_glprogram[a(443)](this.RayPoint1,this[a(359)],this[a(265)]);if(this[a(346)]==CAPTURE_OBJECT){if((g_canvas[a(265)]=null)==t||-1==this[a(265)].objectIndex)return null}else if(this.captureType==CAPTURE_GEOM_SURFACE){if((g_canvas[a(265)]=null)==t||-1==this[a(265)][a(365)]||this.captureUnit[a(418)]<0)return g_glprogram.clearPickSurfaceIndex(),null;g_glprogram[a(427)](this.captureUnit[a(365)],this[a(265)][a(360)],!1),this[a(397)]()}else if(this[a(346)]==CAPTURE_GEOM_CURVE){if(null==t||-1==this[a(265)][a(365)]||this.captureUnit[a(328)]<0)return g_canvas[a(265)]=null;g_canvas[a(265)]=this.captureUnit,this[a(397)]()}else{if(this[a(346)]!=CAPTURE_GEOM_POINT)return null;if(null==t||-1==this[a(265)][a(365)]||this[a(265)][a(375)]<0)return g_canvas.captureUnit=null;g_canvas[a(265)]=this[a(265)],this.flush()}return this[a(265)]},this.setSceneLightOn=function(t){var e=c;g_webglControl[e(161)][0]=t?1:0},this.setSceneLightPosition=function(t,e,a){},this[c(156)]=function(t,e,a){var n=c;0!=g_webglControl.vecLightType[0]&&(1<(e=e<0?0:e)&&(e=1),1<(a=a<0?0:a)&&(a=1),g_webglControl.pcLightPower[0]=t=1<(t=t<0?0:t)?1:t,g_webglControl[n(184)][1]=e,g_webglControl[n(184)][2]=a,this.flush())},this[c(298)]=function(){var e=c;this[e(172)]=!0,g_GLPartSet=GetSVZPartSet(),this[e(230)](),this[e(352)](),this[e(185)]();for(let t=0;t<g_GLPartSet._arrPartSet[e(170)];++t)g_glprogram[e(325)](t,g_GLPartSet[e(342)][t]),g_buffers[e(326)](t);g_GLPartSet[e(430)](),this.flush()},this[c(335)]=function(){var t=c;this[t(172)]=!1,(g_GLPartSet=new GL_PARTSET)._arrPartSet=new Array(g_sceneData[t(396)][t(170)]),this[t(230)](),this[t(352)](),this[t(185)]()},this[c(433)]=function(t,e){var a,n,i=c;t<0||t>g_GLPartSet[i(342)][i(170)]||(this[i(172)]?console[i(197)](i(440)):(a=new GL_PART,n=GetSVZPartData(e,0,0),a[i(393)][0]=n[i(330)],a[i(223)]=n[i(442)],a._CurveShape=n.PARTCURVEDATA,a[i(232)]=e._arrSubset[0]._nPrimitType,g_GLPartSet[i(342)][t]=a,g_glprogram[i(325)](t,a),g_buffers[i(326)](t),g_GLPartSet[i(342)][t].ClearCache(),this[i(397)]()))},this[c(437)]=function(){var t=c;g_sceneAnnotation[t(168)](),g_sceneData.Clear(),this[t(397)]()},this[c(436)]=function(t){var e=c;Cle2Data()[e(327)],GetSVZPartSet();g_sceneData[e(268)](),this.flush()},this[c(242)]=function(t){var e=c;2==t||4==t||8==t?g_webgl[e(368)](t):g_webgl[e(368)](0),this[e(397)]()},this.recorderViewImage=function(t,e,a){var n=c;let i=null,s="";return s=0==a?(i=g_webgl.renderPixel(t,e),n(391)):(i=g_webgl[n(408)](t,e),n(441)),this[n(397)](),{type:0,desc:s,width:t,height:e,pixels:i}}}var a109_0x3738=["isHide","1tHoJHH","fFar","2OBvuJK","getContext","initNvgNodePt","fSensRot","makeDesc","initNvgCamera","Navigator/navigator_circle_x_focus.png","Navigator/navigator_circle_x_light.png","width","419621mXZoWg","clientX","getBoundingClientRect","sub","Navigator/navigator_circle_ey_light.png","Navigator/navigator_circle_ex_dark.png","fWidth","webgl2","mViewProj","fAspect","onmouseout","rgba(222,222,222,0.2)","vEye","drag","fillStyle","onmousemove","closePath","411650FxvVwk","vAt","shiftView","94693mPTCml","364069WszlBh","onmousewheel","fFOVInRadian","28481CXWOAW","mul","arc","length","Navigator/navigator_circle_ex_light.png","clientY","flush","set","oncontextmenu","left","onmousedown","bottom","desc","top","height","Navigator/navigator_circle_z_focus.png","from","right","fill","setViewport","3491TpAmaM","button","570871AQVcep","clearRect","Navigator/navigator_circle_ez_light.png","isPointInside","2iSWYtW","beginPath","make","style","dot","setFocus","requestAnimationFrame","vUp","onmouseover","Navigator/navigator_circle_x_dark.png","Navigator/navigator_circle_z_light.png","123vwlawg","Navigator/navigator_circle_y_light.png","5px","Navigator/navigator_circle_z_dark.png","calFront","beginDrag","Navigator/navigator_circle_ez_dark.png","fNear","initNavigator"],a109_0xa0f89d=a109_0x4e63;!function(e){for(var t=a109_0x4e63;;)try{if(224140==parseInt(t(199))*parseInt(t(216))-parseInt(t(257))-parseInt(t(254))+-parseInt(t(261))*parseInt(t(228))+parseInt(t(226))*-parseInt(t(258))-parseInt(t(237))+parseInt(t(201))*parseInt(t(205)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a109_0x3738);const NVG_CAMERA_DISTANCE=4,NVG_NODE_RADIUS=.13,NVG_LAYOUT_TOP_LEFT=0,NVG_LAYOUT_TOP_RIGHT=1,NVG_LAYOUT_BOTTOM_LEFT=2,NVG_LAYOUT_BOTTOM_RIGHT=3;var nvgController=null,nvg2dCanvas=null,nvg3dCanvas=null,nvgGl=null,nvg2d=null,nvgCamera=Camera[a109_0xa0f89d(207)](),nvgCameraController=CameraController[a109_0xa0f89d(207)](),nvgCameraDesc=Camera[a109_0xa0f89d(232)](),nvgEyeDir=float3[a109_0xa0f89d(207)](),nvgVertex=[0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1];const nvgAxisCount=[2,2,2],nvgBillbordList=[a109_0xa0f89d(214),a109_0xa0f89d(234),a109_0xa0f89d(235),a109_0xa0f89d(242),a109_0xa0f89d(183),"Navigator/navigator_circle_y_dark.png","Navigator/navigator_circle_y_focus.png",a109_0xa0f89d(217),"Navigator/navigator_circle_ey_dark.png",a109_0xa0f89d(241),a109_0xa0f89d(219),a109_0xa0f89d(194),a109_0xa0f89d(215),a109_0xa0f89d(222),a109_0xa0f89d(203),"Navigator/navigator_circle_e_focus.png"];var nvgBillboardPt=[float3[a109_0xa0f89d(207)](),float3[a109_0xa0f89d(207)](),float3[a109_0xa0f89d(207)](),float3[a109_0xa0f89d(207)](),float3[a109_0xa0f89d(207)](),float3.make()];const nvgBillboardVertex=[1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1],nvgBillboardSize=[-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS],nvgBillboardUV=[0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1];var nodeCircle=new Circle2D(0,0,0),nodeProjPt=new Point3(0,0,0),pickScreenPt=new Point3(0,0,0),pickProjPt=new Point3(0,0,0),pickNodeArray=new Array,isNvgReqRender=!1;const NVG_DEFAULT_ROT_SENS=6;function initNavigatorCanvas(){var t=a109_0xa0f89d;null!=nvg2dCanvas&&null!=nvg3dCanvas&&(nvg2d=nvg2dCanvas[t(229)]("2d",{alpha:!0}),addNvgMouseListener(nvg2dCanvas),nvgGl=nvg3dCanvas[t(229)](t(244),{alpha:!0,antialias:!0,preserveDrawingBuffer:!0}),(nvgController=new GLNavigator(nvgGl))[t(224)](),this[t(230)](),this[t(233)](),LoadNvgBillBoardTexture(nvgGl,flushNavigator))}function uninitNavigatorCanvas(){null!=nvgController&&nvgController.uninitNavigator(),DeleteNvgBillBoardTexture(nvgGl),nvgController=null}function clearNavigatorCanvas(){}function initNvgCamera(){var t=a109_0xa0f89d,e=(float3.set(nvgCameraDesc.vEye,0,0,NVG_CAMERA_DISTANCE),float3.set(nvgCameraDesc[t(255)],0,0,0),float3.set(nvgCameraDesc[t(212)],0,1,0),nvgCameraDesc[t(243)]=nvg3dCanvas[t(236)],nvgCameraDesc[t(246)]=nvg3dCanvas[t(236)]/nvg3dCanvas[t(193)],float3.distance(nvgCameraDesc[t(249)],nvgCameraDesc[t(255)]));nvgCameraDesc[t(223)]=.02*e,nvgCameraDesc[t(227)]=200*e,nvgCameraDesc[t(260)]=45*Math.PI/180,Camera.updateDesc(nvgCamera,nvgCameraDesc),Camera[t(198)](nvgCamera,nvg3dCanvas[t(236)],nvg3dCanvas[t(193)],0,0)}function updateNvgCamera(t){var e=a109_0xa0f89d;float3[e(240)](nvgEyeDir,t[e(191)][e(249)],t[e(191)][e(255)]),float3.normalize(nvgEyeDir,nvgEyeDir),float3[e(262)](nvgCameraDesc.vEye,NVG_CAMERA_DISTANCE,nvgEyeDir),float3.assign(nvgCameraDesc[e(212)],t[e(191)][e(212)]),Camera.updateDesc(nvgCamera,nvgCameraDesc),flushNavigator()}function a109_0x4e63(t,e){return a109_0x3738[t-=183]}function addNvgMouseListener(e){var t=a109_0xa0f89d;e[t(189)]=function(t){webNvgKeyDown(t,e)},e.onmouseup=function(t){webNvgKeyUp(t,e)},e[t(259)]=function(t){webNvgWheel(t,e)},e[t(252)]=function(t){webNvgKeyMove(t,e)},e[t(213)]=function(t){webNvgMouseOver(t,e)},e[t(247)]=function(t){webNvgMouseOut(t,e)}}var isNvgMove=!1,isNvgDragLeft=!1;function webNvgKeyDown(t,e){var a=a109_0xa0f89d;switch(getNvgScreenPt(t[a(238)],t[a(184)],pickScreenPt),t[a(200)]){case 0:isNvgDragLeft=!0,null!=g_cameraController&&CameraController[a(221)](g_cameraController,g_camera,float2[a(195)](pickScreenPt.x,pickScreenPt.y),null);break;case 1:break;case 2:e[a(187)]=function(){return!1}}lastX=pickScreenPt.x,lastY=pickScreenPt.y}function webNvgKeyUp(t,e){var a=a109_0xa0f89d;getNvgScreenPt(t[a(238)],t.clientY,pickScreenPt),0===t[a(200)]&&(isNvgDragLeft=!1,isNvgMove||doPickNvgNode(pickNvgNode(pickScreenPt.x,pickScreenPt.y))),isNvgMove=!1}function webNvgKeyMove(t,e){var a=a109_0xa0f89d;getNvgScreenPt(t[a(238)],t[a(184)],pickScreenPt),isNvgDragLeft&&(isNvgMove=!0,null!=g_cameraController)&&(CameraController[a(250)](g_cameraController,float2[a(195)](pickScreenPt.x,pickScreenPt.y)),glRunTime[a(185)]())}function webNvgWheel(t,e){}function webNvgMouseOver(t,e){isMoveIn=!0,null!=g_cameraController&&(g_cameraController[a109_0xa0f89d(231)]=NVG_DEFAULT_ROT_SENS),drawNvg()}function webNvgMouseOut(t,e){isMoveIn=!1,isNvgDragLeft=isNvgMove=!1,null!=g_cameraController&&(g_cameraController[a109_0xa0f89d(231)]=SCENE_DEFAULT_ROT_SENS),nvgController.setFocus(-1),flushNavigator(),drawNvg()}function drawNvg(){var t=a109_0xa0f89d;nvg2d[t(202)](0,0,nvg2dCanvas.width,nvg2dCanvas[t(193)]),isMoveIn&&!nvgController.isHide&&(nvg2d[t(206)](),nvg2d[t(263)](nvg2dCanvas[t(236)]/2,nvg2dCanvas[t(193)]/2,nvg2dCanvas[t(236)]/2,0,2*Math.PI),nvg2d[t(253)](),nvg2d[t(251)]=t(248),nvg2d[t(197)]())}function initNvgNodePt(){var t=a109_0xa0f89d;float3[t(186)](nvgBillboardPt[0],1,0,0),float3[t(186)](nvgBillboardPt[1],-1,0,0),float3[t(186)](nvgBillboardPt[2],0,1,0),float3[t(186)](nvgBillboardPt[3],0,-1,0),float3.set(nvgBillboardPt[4],0,0,1),float3[t(186)](nvgBillboardPt[5],0,0,-1)}function getNvgScreenPt(t,e,a){var n=a109_0xa0f89d,i=nvg2dCanvas[n(239)]();a.x=t-i[n(188)],a.y=e-i[n(192)]}function isNodeFront(t){var e=a109_0xa0f89d;return 0<float3[e(209)](nvgBillboardPt[t],nvgCamera[e(191)].vEye)}function pickNvgNode(t,e){var a=a109_0xa0f89d;pickNodeArray.splice(0,pickNodeArray[a(264)]),pickProjPt.x=2*t/nvg2dCanvas[a(236)]-1,pickProjPt.y=1-2*e/nvg2dCanvas[a(193)];for(let t=0;t<nvgBillboardPt[a(264)];++t)CalTranslatePoint(nvgBillboardPt[t][0],nvgBillboardPt[t][1],nvgBillboardPt[t][2],nvgCamera[a(245)],nodeProjPt),nodeCircle[a(186)](nodeProjPt.x,nodeProjPt.y,NVG_NODE_RADIUS),nodeCircle[a(204)](pickProjPt)&&pickNodeArray.push(t);return 1==pickNodeArray[a(264)]?pickNodeArray[0]:1<pickNodeArray[a(264)]?isNodeFront(pickNodeArray[0])?pickNodeArray[0]:pickNodeArray[1]:-1}function doPickNvgNode(t){var e=a109_0xa0f89d;nvgController[e(210)](t),0==t?glRunTime.shiftView(3):1==t?glRunTime[e(256)](2):2==t?glRunTime[e(256)](1):3==t?glRunTime[e(256)](0):4==t?glRunTime.shiftView(5):5==t?glRunTime[e(256)](4):flushNavigator()}function flushNavigator(){var e=a109_0xa0f89d;0==isNvgReqRender&&(window[e(211)](function(t){nvgController[e(220)](),nvgController.drawNavigator(),isNvgReqRender=!1}),isNvgReqRender=!0)}function hideNavigator(t){var e=a109_0xa0f89d;nvgController[e(225)]=!!t,flushNavigator()}function setNavigatorLayout(t){var e=a109_0xa0f89d;switch(t){case NVG_LAYOUT_TOP_LEFT:nvg3dCanvas[e(208)].top=e(218),nvg3dCanvas[e(208)][e(188)]=e(218),nvg3dCanvas.style.bottom="",nvg3dCanvas.style[e(196)]="",nvg2dCanvas[e(208)][e(192)]=e(218),nvg2dCanvas.style.left=e(218),nvg2dCanvas[e(208)][e(190)]="",nvg2dCanvas[e(208)].right="";break;case NVG_LAYOUT_TOP_RIGHT:nvg3dCanvas[e(208)].top=e(218),nvg3dCanvas[e(208)][e(196)]=e(218),nvg3dCanvas[e(208)].bottom="",nvg3dCanvas[e(208)][e(188)]="",nvg2dCanvas[e(208)][e(192)]=e(218),nvg2dCanvas.style[e(196)]=e(218),nvg2dCanvas[e(208)][e(190)]="",nvg2dCanvas[e(208)].left="";break;case NVG_LAYOUT_BOTTOM_LEFT:nvg3dCanvas[e(208)].bottom=e(218),nvg3dCanvas[e(208)].left=e(218),nvg3dCanvas[e(208)][e(192)]="",nvg3dCanvas[e(208)][e(196)]="",nvg2dCanvas.style[e(190)]=e(218),nvg2dCanvas[e(208)][e(188)]=e(218),nvg2dCanvas.style[e(192)]="",nvg2dCanvas[e(208)].right="";break;case NVG_LAYOUT_BOTTOM_RIGHT:nvg3dCanvas[e(208)][e(190)]=e(218),nvg3dCanvas[e(208)][e(196)]=e(218),nvg3dCanvas[e(208)][e(192)]="",nvg3dCanvas[e(208)][e(188)]="",nvg2dCanvas[e(208)][e(190)]=e(218),nvg2dCanvas[e(208)][e(196)]="5px",nvg2dCanvas[e(208)][e(192)]="",nvg2dCanvas.style.left=""}}var a68_0x20c2=["initRender","P3D_OnMouseDownCallBack","5px","onmousedown","_Loaded","abs","fill","endDrag","byteLength","onunload","top","endLoadModel","mousePt","P3D_OnCommentCreateCallback","move","splice","nvg2dCanvas","button","_arrPickElements","getTime","preventDefault","webgl2.0 is not supported by this browser!","zoomWithMouseWheel","setFocusOnObject","P3D_OnTouchStartCallBack","getObjectIdByIndex","pmiIndex","log","17lcCGgx","P3D_OnMouseUpCallBack","push","182508szjEtd","clientY","defaultCanvasTransparency","P3D_OnSectionFinishCallback","showCommentInput","clear","isBind","set","offsetWidth","P3D_OnUpdateUICallBack","./P3DToolkit/Resource/","defaultLightOn","data","defaultBgUrl","Clear","P3D_OnLoadModelEndCallback","15067CwkgoA","defaultGeomtryOn","_arrayCleBuffer","P3D_OnKeyboardUpCallBack","length","intersectUnit","webgl2","resetWindow","pickMeasureUnitIndex","_strModelName","onMouseOver","updateScleModel","onMouseKeyDown","setActiveByIndex","clientWidth","rect","commentOnSubmit","removeEventListener","nvg3dCanvas","addEventListener","isDuringComment","getContext","onMouseKeyUp","onmousemove","max","setFocusOnPmiItemByIndex","drag","oncontextmenu","keyup","_uRequestRender","min","_ModelInfo","requestAnimationFrame","_arrayByteBuffer","deleteCommentInput","212848jcFdpg","keydown","P3D_OnMouseWheelCallBack","itemIndex","_uPickType","beginDrag","CleStreamModelDataParser","objectIndex","clientHeight","deltaY","objectMoveWindow","clientX","onceLoadScleModel","from","height","keyCode","style","onmouseout","text2dCanvas","createMeasureCancel","./P3DToolkit/Resource/Background/","onmouseup","onmouseover","163547XgoBnK","commentOnClick","captureGeomtry","right","arrModelData","appendChild","blue.jpg","web3dCanvas","100%","onmousewheel","curRuntimeMode","onMouseKeyMove","getItemIdByIndex","P3D_OnSectionUpdateCallback","_oPickUnit","adapterLocalToScreen","fillStyle","createElement","experimental-webgl","pick","setRectSelection","P3D_OnMouseMoveCallBack","curPickUnit","init","ctrlKey","createCommentCancel","54902FRgDma","41241dBEHkE","4MNgJlo","P3D_OnCameraChangeCallback","getBoundingClientRect","189713pJljAK","P3D_OnAnimRefreshCallBack","createCommentUpdate","P3D_OnKeyboardDownCallBack","position","pickModelByIDs","absolute","moveCommentInput","flush","canvas","width","uninitRender","3wRbCgv"],a68_0x5a84b5=a68_0x1974;function CALLBACK_V2(){var t=a68_0x1974;this.refreshNotation=function(){},this[t(399)]=function(t){},this[t(306)]=function(t){},this[t(334)]=function(t,e,a,n){},this.commentOnChange=function(t,e,a,n){},this.commentOnClick=function(t,e,a,n){},this[t(352)]=function(){},this[t(414)]=function(t,e,a,n){},this[t(331)]=null}function CALLBACK_V3(){var t=a68_0x1974;this[t(311)]=function(){},this[t(408)]=function(t){},this.P3D_OnAnimFinishCallBack=function(t){},this[t(410)]=function(t){},this[t(321)]=function(t){},this.P3D_OnMouseDownCallBack=function(t){},this.P3D_OnMouseUpCallBack=function(t){},this.P3D_OnMouseMoveCallBack=function(t){},this[t(355)]=function(t){},this[t(444)]=function(t){},this.P3D_OnTouchMoveCallBack=function(t){},this.P3D_OnTouchEndCallBack=function(t){},this[t(405)]=function(){},this[t(317)]=function(){},this[t(389)]=function(){},this[t(305)]=function(){},this[t(433)]=function(t){},this.P3D_OnCommentDeleteCallback=function(t){}}!function(e){for(var t=a68_0x1974;;)try{if(250141==-parseInt(t(403))+-parseInt(t(299))*-parseInt(t(318))+-parseInt(t(419))*parseInt(t(402))-parseInt(t(302))-parseInt(t(353))-parseInt(t(376))+parseInt(t(404))*parseInt(t(407)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a68_0x20c2);var container=null,web3dCanvas=null,gl=null,g_isWebgl2=!0,text2dCanvas=null,gl2d=null,callback_v2=new CALLBACK_V2,callback_v3=new CALLBACK_V3,g_bTestMode=!0;const g_resFoder=a68_0x5a84b5(312),g_bgFoder=a68_0x5a84b5(373);var g_bgImage=[a68_0x5a84b5(382),"white.jpg","grey.jpg"],g_bgImageUrl=[],g_bgImageIndex=0,g_sceneLightOn=!0,g_sceneGeomtryOn=!0,g_canvasTransparency=!1,glRunTime=new GLRunTime,isLockCavans=!1,isShiftDown=!1,lastPickType=-2,curPickType=-2,g_operationMode=MOUSE_OPERATION_MODE_DEFAULT,doubleClickTimeMS=300,isMove=!1,curDate=null,lastTime=0,curTime=0,isDigitalTwinMode=!1,isMultPick=!1,isMotionCapture=!1,motionCaptureObjID=null,scrollLeft=0,scrollTop=0,originPt=new Point2(0,0),selRect=new Rect2D(0,0,0,0),isKeyTap=!1,dragLeft=!1,dragMid=!1,dragRight=!1,lastX=-1,lastY=-1;function initComponet(t){var e=a68_0x5a84b5;void 0!==t&&null!=t&&(container=t,(web3dCanvas=document.createElement(e(416))).id=e(383),web3dCanvas[e(369)].position=e(413),web3dCanvas[e(369)][e(417)]=e(384),web3dCanvas[e(369)][e(367)]=e(384),container.appendChild(web3dCanvas),initSceneCanvas(),(text2dCanvas=document[e(393)]("canvas")).id=e(371),text2dCanvas[e(369)][e(411)]=e(413),text2dCanvas[e(369)][e(417)]="100%",text2dCanvas[e(369)][e(367)]=e(384),container[e(381)](text2dCanvas),init2dCanvas(),(nvg3dCanvas=document[e(393)]("canvas")).id=e(336),nvg3dCanvas.style[e(411)]="absolute",nvg3dCanvas[e(417)]=150,nvg3dCanvas[e(367)]=150,nvg3dCanvas[e(369)][e(430)]=e(422),nvg3dCanvas.style[e(379)]=e(422),container.appendChild(nvg3dCanvas),(nvg2dCanvas=document[e(393)]("canvas")).id=e(436),nvg2dCanvas[e(369)][e(411)]=e(413),nvg2dCanvas.width=150,nvg2dCanvas[e(367)]=150,nvg2dCanvas[e(369)][e(430)]="5px",nvg2dCanvas[e(369)][e(379)]=e(422),container.appendChild(nvg2dCanvas),initNavigatorCanvas())}function destoryComponet(){glRunTime[a68_0x5a84b5(418)](),commentDataClear(),uninitNavigatorCanvas()}function initModuleCallbacks(t){callback_v3=t}function initSettings(e){var a=a68_0x5a84b5;if(void 0!==e&&null!=e){if(null!=e[a(315)]&&0<e[a(315)][a(322)])g_bgImage[a(301)](e.defaultBgUrl),g_bgImageIndex=g_bgImage[a(322)];else for(let t=0;t<g_bgImage[a(322)];++t)if(e.defaultBgImage==g_bgImage[t]){g_bgImageIndex=t;break}g_sceneLightOn=e[a(313)],g_sceneGeomtryOn=e[a(319)],g_bParsejq=g_sceneGeomtryOn,g_operationMode=e.defaultBaseOptMode,g_canvasTransparency=e[a(304)]}}function initP3DUIAPI(){var t=a68_0x5a84b5;(callback_v2=P3DUIAPI).init(container),callback_v2.commentOnSubmit=commentOnSubmit,callback_v2.commentOnChange=commentOnChange,callback_v2[t(377)]=commentOnClick,callback_v2[t(352)]=deleteCommentInput,callback_v2.moveCommentInput=moveCommentInput}function initSceneCanvas(){var t=a68_0x5a84b5;web3dCanvas.width=container[t(310)],web3dCanvas[t(367)]=container.offsetHeight,(gl=web3dCanvas[t(339)](t(324),{alpha:g_canvasTransparency,preserveDrawingBuffer:!0}))||(console[t(447)](t(441)),(gl=web3dCanvas.getContext("webgl",{alpha:g_canvasTransparency,antialias:!0,preserveDrawingBuffer:!0}))||(gl=web3dCanvas.getContext(t(394),{alpha:g_canvasTransparency,antialias:!0,preserveDrawingBuffer:!0})),g_isWebgl2=!1)}function init2dCanvas(){var t=a68_0x5a84b5;text2dCanvas[t(417)]=container.offsetWidth,text2dCanvas[t(367)]=container.offsetHeight,(gl2d=text2dCanvas[t(339)]("2d",{alpha:!0}))[t(333)](0,0,text2dCanvas[t(417)],text2dCanvas.height),gl2d[t(392)]="rgb(80,91,119,1.0)",gl2d[t(426)]()}function startRender(){var t=a68_0x5a84b5;gl&&gl2d&&(initP3DUIAPI(),glRunTime[t(420)](),addMouseListener(text2dCanvas),text2dCanvas[t(337)]("DOMMouseScroll",fireFoxScollFun,!1),window[t(429)]=addCloseListenser,window.onresize=onCanvasResize,0==g_sceneData.arrModelData[t(322)]||g_sceneData[t(380)][0][t(349)]._Loaded?(glRunTime[t(365)](),glRunTime[t(431)](),callback_v3[t(317)]&&callback_v3[t(317)]()):glRunTime.startScelModel())}function updateModel(a,n,i){var s=a68_0x5a84b5;if(!(a<0||a>g_sceneData[s(380)][s(322)])){let t=new ADFCleParser,e=(t._arrayByteBuffer=n,t[s(320)]=new DataView(t[s(351)],0,t[s(351)].byteLength),t._nCleBufferlength=t[s(351)][s(428)],new ADF_MODEL_SAVEDATA);t[s(359)](e),g_sceneData[s(380)][a][s(349)][s(424)]=!0,t=null,glRunTime[s(329)](a,e),e[s(316)](),e=null,i&&startLoadModels(a+1)}}function clearModel(){glRunTime[a68_0x5a84b5(307)](),commentDataClear(),clearNavigatorCanvas()}function getModelList(){var e=a68_0x5a84b5;if(null==g_sceneData)return null;var a=new Array;for(let t=0;t<g_sceneData[e(380)][e(322)];t++)a[e(301)](g_sceneData[e(380)][t][e(349)][e(327)]);return a}function stopDefault(t){var e=a68_0x5a84b5;t[e(440)]?(t[e(440)](),t.stopPropagation()):(t.cancelBubble=!0,t.returnValue=!1)}function fireFoxScollFun(t){var e=a68_0x5a84b5;if(!isLockCavans)return CameraController[e(442)](g_cameraController,g_camera,-t[e(362)]),!1}function addKeyboardListener(t){var e=a68_0x5a84b5;document[e(337)]("keydown",onDocumentKeyDown,!1),document[e(337)](e(346),onDocumentKeyUp,!1)}function removeKeyboardListener(){var t=a68_0x5a84b5;document[t(335)](t(354),onDocumentKeyDown,!1),document[t(335)](t(346),onDocumentKeyUp,!1)}function getCanvasOrigin(){var t=web3dCanvas[a68_0x5a84b5(406)]();originPt.x=t.left,originPt.y=t.top}var g_isLocked=!1;function getPickElement(t,e,a,n){var i=a68_0x5a84b5;g_isLocked||(t=glRunTime[i(395)](t,e,a,n),curPickType=null==t||null==t[i(390)]?-2:t[i(357)])}function onDocumentKeyDown(t){var e=a68_0x5a84b5;isLockCavans||(t[e(400)]?isMultPick=isShiftDown=!0:(isMultPick=isShiftDown=!1,32==t[e(368)]?isCommentEditting()||glRunTime[e(443)]():27==t[e(368)]&&setUsrCommentMode(0,1)),callback_v3[e(410)](t))}function onDocumentKeyUp(t){isLockCavans||(isMultPick=isShiftDown=!1,callback_v3.P3D_OnKeyboardUpCallBack(t))}function webKeyDown(t,e){var a=a68_0x5a84b5;if(!isLockCavans){isKeyTap=!0,getCanvasOrigin();var n=t[a(364)]-originPt.x,i=t[a(303)]-originPt.y;switch(t[a(437)]){case 0:onMouseLeftKeyDown(e,n,i);break;case 1:onMouseMidKeyDown(e,n,i);break;case 2:onMouseRightKeyDown(e,n,i)}lastX=n,lastY=i}}function webKeyUp(t,e){var a=a68_0x5a84b5;if(!isLockCavans){getCanvasOrigin();var n=t[a(364)]-originPt.x,i=t[a(303)]-originPt.y;switch(t.button){case 0:onMouseLeftKeyUp(e,n,i);break;case 1:onMouseMidKeyUp(e,n,i);break;case 2:onMouseRightKeyUp(e,n,i)}pickedCommentIndex=-1,isKeyTap=!1}}function webWheel(t,e){var a=a68_0x5a84b5;isLockCavans||(CameraController[a(442)](g_cameraController,g_camera,-t[a(362)]),glRunTime[a(415)](),stopDefault(t))}function webKeyMove(t,e){var a,n=a68_0x5a84b5;isLockCavans||(getCanvasOrigin(),a=t.clientX-originPt.x,t=t[n(303)]-originPt.y,isKeyTap?dragLeft?onMouseLeftKeyMove(e,a,t):dragMid&&onMouseMidKeyMove(e,a,t):isMotionCapture&&(e=glRunTime[n(378)](a,t),motionCaptureObjID=null!=e?glRunTime.getPickObjectIdByIndex(e[n(360)]):null),isUsrCommentFlag&&!isUsrCommInputShow&&(g_canvas[n(432)][n(309)](a,t),glRunTime[n(415)]()),g_sceneMeasure.pickMeasureMode&&(g_canvas[n(432)].set(a,t),glRunTime[n(415)]()),null!=g_axisNvg&&g_axisNvg[n(308)]&&!g_canvas.isDuringAxis&&g_axisNvg[n(328)](a,t),lastX=a,lastY=t)}function onMouseLeftKeyDown(t,e,a){var n=a68_0x5a84b5;dragLeft=!0,selRect[n(348)].x=e,selRect[n(348)].y=a,t[n(345)]=function(){return!1},g_operationMode==MOUSE_OPERATION_MODE_DEFAULT?isShiftDown?glRunTime[n(386)]==RUNTIME_MODE_NORMAL&&getPickElement(e,a,isMultPick,!1):glRunTime[n(386)]==RUNTIME_MODE_MEASURE?0<=g_sceneMeasure[n(326)]&&g_sceneMeasure.refreshPickMeasureUnitPos(e,a):null!=g_axisNvg&&g_axisNvg[n(308)]&&g_axisNvg[n(330)](e,a):g_operationMode==MOUSE_OPERATION_MODE_ROTATE&&CameraController[n(358)](g_cameraController,g_camera,float2[n(366)](e,a),null)}function onMouseMidKeyDown(t,e,a){var n=a68_0x5a84b5;dragMid=!0,CameraController[n(358)](g_cameraController,g_camera,float2[n(366)](e,a),null)}function a68_0x1974(t,e){return a68_0x20c2[t-=299]}function onMouseRightKeyDown(t,e,a){dragRight=!0,t.oncontextmenu=function(){return!1}}function onMouseLeftKeyUp(t,e,a){var n=a68_0x5a84b5;if(dragLeft=!1,isKeyTap){if(null!=g_axisNvg&&g_axisNvg[n(308)]&&g_axisNvg[n(340)](e,a),glRunTime.getRectSelectionStatus())return glRunTime[n(412)](null),glRunTime.pickModelByRect(selRect),void glRunTime.setRectSelection(!1,selRect);if(isUsrCommentFlag&&isSingleComment)addSingleComment(lastX,lastY,test_note);else if(isUsrCommentFlag&&g_canvas[n(338)])return void g_sceneAnnotation[n(409)](lastX,lastY);if(getPickElement(lastX,lastY,isMultPick,!0),isMultPick)return;curDate=new Date,(curTime=curDate[n(439)]())-lastTime<doubleClickTimeMS&&lastPickType==curPickType&&(curPickType==RUNTIME_MODE_NORMAL?glRunTime.setFocusOnObject():curPickType==RUNTIME_MODE_PMI?g_scenePmiManager[n(343)](g_scenePmiManager.intersectUnit[n(446)],g_scenePmiManager.intersectUnit.viewIndex,g_scenePmiManager[n(323)].itemIndex):-2==curPickType&&glRunTime[n(443)]()),lastTime=curTime,lastPickType=curPickType}lastX=e,lastY=a}function onMouseMidKeyUp(t,e,a){var n=a68_0x5a84b5;CameraController[n(427)](g_cameraController),dragMid=!1,isUsrCommentFlag&&g_canvas[n(338)]?getNewCommentNote(lastX,lastY):(lastX=e,lastY=a)}function onMouseRightKeyUp(t,e,a){var n=a68_0x5a84b5;dragRight=!1,isUsrCommentFlag&&!isUsrCommInputShow?g_sceneAnnotation[n(401)]():g_sceneMeasure.pickMeasureMode?g_sceneMeasure[n(372)]():(lastX=e,lastY=a)}function onMouseLeftKeyMove(t,a,n){var i=a68_0x5a84b5;g_operationMode==MOUSE_OPERATION_MODE_DEFAULT?isShiftDown?isMove&&curPickType==RUNTIME_MODE_NORMAL&&-1<glRunTime.curPickUnit._oPickUnit[i(360)]&&glRunTime[i(363)](glRunTime[i(398)][i(390)].objectIndex,2*(a-lastX),-2*(n-lastY)):null!=g_axisNvg&&g_axisNvg[i(308)]?0==g_axisNvg.requestUpdate&&(window[i(350)](function(t){var e=i;g_axisNvg[e(387)](a,n),null!=callback_v3[e(389)]&&callback_v3[e(389)](),g_axisNvg[e(347)]=!1}),g_axisNvg._uRequestRender=!0):curPickType<0?(3<Math.abs(a-selRect.min.x)||3<Math[i(425)](n-selRect[i(348)].y))&&(selRect[i(342)].x=a,selRect[i(342)].y=n,glRunTime[i(396)](!0,selRect)):curPickType==RUNTIME_MODE_MEASURE&&0<=g_sceneMeasure[i(326)]&&(g_sceneMeasure.moveMeasureUnit(g_sceneMeasure.pickMeasureUnitIndex,a,n),glRunTime[i(415)]()):g_operationMode==MOUSE_OPERATION_MODE_MOVE?glRunTime.move(2*(a-lastX),-2*(n-lastY)):g_operationMode==MOUSE_OPERATION_MODE_ROTATE&&(CameraController.drag(g_cameraController,float2[i(366)](a,n)),glRunTime[i(415)]()),lastX=a,lastY=n}function onMouseMidKeyMove(t,e,a){var n=a68_0x5a84b5;isShiftDown?glRunTime[n(434)](2*(e-lastX),-2*(a-lastY)):(CameraController[n(344)](g_cameraController,float2[n(366)](e,a)),glRunTime[n(415)]()),lastX=e,lastY=a}function addMouseListener(a){var n=a68_0x5a84b5;a[n(423)]=function(t){var e=n;webKeyDown(t,a),stopDefault(t),callback_v3[e(421)](t)},a[n(374)]=function(t){var e=n;webKeyUp(t,a),callback_v3[e(300)](t)},a[n(385)]=function(t){webWheel(t,a),stopDefault(t),callback_v3.P3D_OnMouseWheelCallBack(t)},a[n(341)]=function(t){var e=n;webKeyMove(t,a),callback_v3[e(397)](t)},a[n(375)]=function(t){addKeyboardListener()},a[n(370)]=function(t){removeKeyboardListener()}}function addCloseListenser(){destoryComponet()}function onCanvasResize(){var e=a68_0x5a84b5,a=(gl.canvas[e(417)]=gl[e(416)][e(332)],gl.canvas[e(367)]=gl[e(416)].clientHeight,glRunTime[e(325)](gl[e(416)][e(332)],gl[e(416)][e(361)]),new Point2(0,0));for(let t=0;t<g_usrCommOption.data.length;++t)g_canvas[e(391)](g_usrCommOption[e(314)][t]._attachPt.x,g_usrCommOption[e(314)][t]._attachPt.y,a),g_usrCommOption[e(314)][t].cvtPointToStyle(a);callback_v2[e(306)](g_usrCommOption),gl2d[e(416)][e(417)]=gl2d[e(416)][e(332)],gl2d[e(416)][e(367)]=gl2d[e(416)][e(361)]}function setMouseOperationMode(t){t<MOUSE_OPERATION_MODE_DEFAULT||t>=MOUSE_OPERATION_MODE_END||(g_operationMode=t)}function transP3DTookkitPickElem(t,e){var a=a68_0x5a84b5;t._uPickType=P3D_PICK_TYPE_NONE,t[a(438)][a(435)](0,t[a(438)].length);let n=0;e._uPickType==RUNTIME_MODE_NORMAL?(t[a(357)]=P3D_PICK_TYPE_PART,n=glRunTime[a(445)](e[a(390)][a(360)]),t[a(438)][a(301)](n)):e[a(357)]==RUNTIME_MODE_PMI&&(t[a(357)]=P3D_PICK_TYPE_PMI_ITEM,n=g_scenePmiManager[a(388)](e[a(390)][a(446)],e[a(390)][a(356)]),t[a(438)][a(301)](n))}var a104_0x34f9=["atan2","length","clientY","ontouchstart","pow","3XsNEVR","objectMoveWindow","1187NlFCaI","5BbEiFB","_oPickUnit","userAgent","29DfsKko","107002VxBPji","getTime","changedTouches","31718iOwzcn","ontouchend","1116623jpIXWx","move","523345NDlfLy","512074CEDhcA","clientX","P3D_OnTouchEndCallBack","P3D_OnTouchMoveCallBack","419ISUXLJ","1MGzNJu","abs","test","drag","targetTouches","touches","isDuringComment","sqrt","createCommentUpdate","ontouchmove","objectIndex","515816UDfnqg"],a104_0x3140ea=a104_0x3012,isPhone=(!function(e){for(var t=a104_0x3012;;)try{if(744727===parseInt(t(317))*-parseInt(t(300))-parseInt(t(310))+parseInt(t(304))*-parseInt(t(308))+-parseInt(t(281))*-parseInt(t(312))+-parseInt(t(298))*parseInt(t(305))+parseInt(t(292))+parseInt(t(313))*parseInt(t(301)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a104_0x34f9),/(iPhone|iPad|iPod|iOS|Android|ipad)/i[a104_0x3140ea(283)](navigator[a104_0x3140ea(303)])||/(Macintosh)/i[a104_0x3140ea(283)](navigator[a104_0x3140ea(303)])&&"ontouchend"in document),lastX1=-1,lastY1=-1,lastX2=-1,lastY2=-1,x1=-1,y1=-1,x2=-1,y2=-1,touch1=null,touch2=null,scaleFactor=1.2,moveSensitivity=1,rotateSensitivity=1,zRotateSensitive=.03,cameraMoveSensitivity=3,scaleSensitivity=.1,isKeyDown=!1,isKeyMove=!1,isKeyRotate=!1,isKeyScale=!1;function phoneKeyDown(t){var e=a104_0x3140ea;isLockCavans||(isKeyDown=!0,getCanvasOrigin(),1==t[e(285)][e(294)]?(touch1=t.targetTouches[0],x1=touch1[e(314)]-originPt.x,y1=touch1.clientY-originPt.y,CameraController.beginDrag(g_cameraController,g_camera,float2.from(x1,y1),null),lastX1=x1,lastY1=y1):2==t[e(285)].length&&(touch1=t[e(285)][0],touch2=t[e(285)][1],lastX1=touch1[e(314)]-originPt.x,lastY1=touch1.clientY-originPt.y,lastX2=touch2[e(314)]-originPt.x,lastY2=touch2[e(295)]-originPt.y))}function a104_0x3012(t,e){return a104_0x34f9[t-=281]}function phoneKeyMove(t){var e,a,n,i=a104_0x3140ea;isLockCavans||isKeyDown&&(getCanvasOrigin(),1==t[i(285)][i(294)]?(touch1=t[i(285)][0],x1=touch1[i(314)]-originPt.x,y1=touch1[i(295)]-originPt.y,isMove?curPickType==RUNTIME_MODE_NORMAL&&(Math[i(282)](x1-lastX1)>moveSensitivity||Math[i(282)](y1-lastY1)>moveSensitivity)&&(glRunTime[i(299)](glRunTime.curPickUnit[i(302)][i(291)],2*(x1-lastX1),-2*(y1-lastY1)),lastX1=x1,lastY1=y1,isKeyMove=!0):(Math[i(282)](x1-lastX1)>rotateSensitivity||Math[i(282)](y1-lastY1)>rotateSensitivity)&&(CameraController[i(284)](g_cameraController,float2.from(x1,y1)),isKeyRotate=!0),lastX1=x1,lastY1=y1):2==t.targetTouches[i(294)]&&(touch1=t[i(285)][0],touch2=t[i(285)][1],x1=touch1.clientX-originPt.x,y1=touch1.clientY-originPt.y,x2=touch2[i(314)]-originPt.x,y2=touch2[i(295)]-originPt.y,t=lastX1-lastX2,e=lastY1-lastY2,a=x1-x2,n=y1-y2,t=Math[i(288)](t*t+e*e),e=Math[i(288)](a*a+n*n),a=Math[i(293)](lastY2-lastY1,lastX2-lastX1),n=Math[i(293)](y2-y1,x2-x1),Math[i(282)](a-n)<=zRotateSensitive&&Math[i(282)](e-t)<=cameraMoveSensitivity?(Math[i(282)](x1-lastX1)>moveSensitivity||Math[i(282)](y1-lastY1)>moveSensitivity)&&0<(x1-lastX1)*(x2-lastX2)&&(glRunTime[i(311)](2*(x1-lastX1),-2*(y1-lastY1)),isKeyMove=!0):(a=Math[i(297)](Math[i(297)](lastX1-lastX2,2)+Math.pow(lastY1-lastY2,2),.5),n=Math[i(297)](Math.pow(x1-x2,2)+Math[i(297)](y1-y2,2),.5),CameraController.zoomWithTouch(g_cameraController,g_camera,n-a)),lastX1=x1,lastY1=y1,lastX2=x2,lastY2=y2))}function phoneKeyUp(t){var e=a104_0x3140ea;if(!isLockCavans){if(getCanvasOrigin(),isKeyDown&&!isKeyMove&&!isKeyRotate&&!isKeyScale)if(touch1=t[e(307)][0],x1=touch1[e(314)]-originPt.x,y1=touch1[e(295)]-originPt.y,getPickElement(x1,y1,isMultPick,!0),curDate=new Date,(curTime=curDate[e(306)]())-lastTime<doubleClickTimeMS&&lastPickType==curPickType&&curPickType==RUNTIME_MODE_NORMAL&&glRunTime.setFocusOnObject(),lastTime=curTime,lastX1=x1,lastY1=y1,lastPickType=curPickType,1==t[e(286)][e(294)]&&isUsrCommentFlag&&g_canvas[e(287)]&&getNewCommentNote(lastX1,lastY1),isUsrCommentFlag&&isSingleComment)addSingleComment(lastX,lastY,test_note);else if(isUsrCommentFlag&&g_canvas[e(287)])return void g_sceneAnnotation[e(289)](lastX1,lastY1);pickedCommentIndex=-1,isKeyScale=isKeyRotate=isKeyMove=isKeyDown=isKeyTap=!1,CameraController.endDrag(g_cameraController)}}function addTouchListener(t){var a=a104_0x3140ea;t[a(296)]=function(t){phoneKeyDown(t),callback_v3.P3D_OnTouchStartCallBack(t)},t[a(290)]=function(t){var e=a;phoneKeyMove(t),callback_v3[e(316)](t)},t[a(309)]=function(t){var e=a;phoneKeyUp(t),callback_v3[e(315)](t)}}var a103_0x1b86=["248973AiGHKm","TEXTURE_WRAP_S","cTFPVRTC1_4_RGB","bc7Supported","RGB","89132JCjPaI","basis2TcFormate","close","WEBGL_compressed_texture_astc","TEXTURE_WRAP_T","ETC1","52573lAfnfS","then","PVRTC1_RGBA","PVRTC1_RGB","getBasisFormat","TEXTURE_MIN_FILTER","warn","astcSupported","createCompressedTexture","wasmInit","1BcygUC","texImage2D","createRgb565Texture","RGB565","startTranscoding failed","cTFRGB565","ASTC","getExtension","dxtSupported","BC1","112161zERmWt","getWebglExtension","cTFASTC_4x4","cTFBC1","cTFBC3","createTexture","cTFPVRTC1_4_RGBA","getNumLevels","WEBGL_compressed_texture_pvrtc","187861IEVkdd","getImageHeight","191614OlQBVO","TEXTURE_2D","texParameteri","transcodeImage","FORMAT","UNSIGNED_SHORT_5_6_5","Invalid .basis file","log","bindTexture","CLAMP_TO_EDGE","LINEAR","TEXTURE_MAG_FILTER","transcodeImage failed","loadSclePicture","getNumImages","etcSupported","getImageWidth","pvrtcSupported","63073QlTKDF","loadBasisData","delete","WEBKIT_WEBGL_compressed_texture_pvrtc","compressedTexImage2D"];function a103_0x4794(t,e){return a103_0x1b86[t-=439]}(function(e){for(var t=a103_0x4794;;)try{if(240197===-parseInt(t(480))+parseInt(t(449))+parseInt(t(491))+-parseInt(t(460))+parseInt(t(444))+parseInt(t(454))+-parseInt(t(470))*parseInt(t(489)))break;e.push(e.shift())}catch(t){e.push(e.shift())}})(a103_0x1b86),COMPRESSED_RGBA_ASTC_4x4_KHR=37808,COMPRESSED_RGB_S3TC_DXT1_EXT=33776,COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,COMPRESSED_RGB_ETC1_WEBGL=36196,COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842,BASIS_FORMAT={cTFETC1:0,cTFETC2:1,cTFBC1:2,cTFBC3:3,cTFBC4:4,cTFBC5:5,cTFBC7_M6_OPAQUE_ONLY:6,cTFBC7_M5:7,cTFPVRTC1_4_RGB:8,cTFPVRTC1_4_RGBA:9,cTFASTC_4x4:10,cTFATC_RGB:11,cTFATC_RGBA_INTERPOLATED_ALPHA:12,cTFRGBA32:13,cTFRGB565:14,cTFBGR565:15,cTFRGBA4444:16};var basisuModule=null;function TexturerBasisu(){var l=a103_0x4794;this.wasmInit=!1,this[l(478)]=!1,this[l(452)]=!1,this[l(467)]=!1,this[l(443)]=!1,this[l(439)]=function(){GetBasisuTextureMtl(g_GLMaterialSet)},this[l(481)]=function(){var e=l;this[e(469)]||BASIS({onRuntimeInitialized:()=>{var t=e;this[t(478)]=!!gl[t(477)]("WEBGL_compressed_texture_s3tc"),this[t(452)]=!!gl[t(477)]("EXT_texture_compression_bptc"),this[t(467)]=!!gl[t(477)](t(457)),this[t(443)]=!!gl[t(477)](t(488))||!!gl[t(477)](t(447)),this.astcSupported||this[t(441)]||this[t(478)]||this[t(443)]||console[t(498)]("texture compress unsupport!"),this[t(469)]=!0}})[e(461)](t=>{basisuModule=t,this.loadSclePicture()})},this[l(455)]=function(t){var e=l,a=-1;return t===BASIS_FORMAT[e(482)]?a=COMPRESSED_RGBA_ASTC_4x4_KHR:t===BASIS_FORMAT[e(483)]?a=COMPRESSED_RGB_S3TC_DXT1_EXT:t===BASIS_FORMAT[e(484)]?a=COMPRESSED_RGBA_S3TC_DXT5_EXT:t===BASIS_FORMAT.cTFETC1?a=COMPRESSED_RGB_ETC1_WEBGL:t===BASIS_FORMAT[e(451)]?a=COMPRESSED_RGB_PVRTC_4BPPV1_IMG:t===BASIS_FORMAT[e(486)]&&(a=COMPRESSED_RGBA_PVRTC_4BPPV1_IMG),a},this[l(464)]=function(t){var e=l,a="UNKNOWN",n=-1;return this[e(467)]?(a=e(476),n=BASIS_FORMAT.cTFASTC_4x4):this.dxtSupported?n=t?(a="BC3",BASIS_FORMAT[e(484)]):(a=e(479),BASIS_FORMAT[e(483)]):this.pvrtcSupported?n=t?(a=e(462),BASIS_FORMAT[e(486)]):(a=e(463),BASIS_FORMAT[e(451)]):this[e(441)]?(a=e(459),n=BASIS_FORMAT.cTFETC1):(a=e(473),n=BASIS_FORMAT[e(475)],log("Decoding .basis data to 565")),{FORMAT:n,NAME:a}},this[l(445)]=function(t){var e=l,{BasisFile:a,initializeBasis:n}=basisuModule,n=(n(),new a(new Uint8Array(t))),a=n[e(442)](0,0),t=n[e(490)](0,0),i=n[e(440)](),s=n[e(487)](0),r=n.getHasAlpha();if(a&&t&&i&&s)if(i=this[e(464)](r),s=this.basis2TcFormate(i[e(495)]),n.startTranscoding()){r=n.getImageTranscodedSizeInBytes(0,0,i.FORMAT),r=new Uint8Array(r);if(n[e(494)](r,0,0,i[e(495)],0,0))return n[e(456)](),n.delete(),{width:a,height:t,tcFormat:s,dst:r};console[e(466)](e(503))}else console.warn(e(474));else console.warn(e(497));n[e(456)](),n[e(446)]()},this[l(472)]=function(t,e,a){var n=l,i=gl[n(485)]();return gl[n(499)](gl[n(492)],i),gl[n(471)](gl[n(492)],0,gl.RGB,e,a,0,gl[n(453)],gl[n(496)],t),gl[n(493)](gl[n(492)],gl[n(502)],gl[n(501)]),gl[n(493)](gl.TEXTURE_2D,gl[n(465)],gl.LINEAR),gl[n(493)](gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE),gl[n(493)](gl[n(492)],gl[n(458)],gl[n(500)]),gl[n(499)](gl[n(492)],null),i},this[l(468)]=function(t,e,a,n){var i=l,s=gl[i(485)]();return gl.bindTexture(gl.TEXTURE_2D,s),gl[i(448)](gl.TEXTURE_2D,0,n,e,a,0,t),gl[i(493)](gl[i(492)],gl[i(502)],gl[i(501)]),gl[i(493)](gl[i(492)],gl.TEXTURE_MIN_FILTER,gl.LINEAR),gl.texParameteri(gl[i(492)],gl[i(450)],gl[i(500)]),gl.texParameteri(gl[i(492)],gl[i(458)],gl[i(500)]),gl[i(499)](gl.TEXTURE_2D,null),s}}const a105_0x5024=["yzCirRev","index","774793MnDjCJ","vTriVer3","isInIntersectZero","planeXZ_P3","onNvgMovePlaneYZ_Finish","vTriVer1","planeYZ_P4","isDuringAxis","planeXY_P2","223638zaFhfo","onMouseOver","2xDDtFu","updateBindMat","onNvgMoveAxisX_Finish","vecDir1","vLinePt2","planeXY_P4","abs","vecAxis","vecDir2","onNvgRotateXZ_Begin","unInit","planeXY_M4","mul","planeYZ_M3","axisXArrow","onNvgRotateXZ_Finish","planeYZ_P3","pickPlane","vTriVer2","planeXY_M3","axisZArrow","normalize","vecDirCross","planeXZ_P2","planeXY_M2","onNvgMoveAxisZ_Begin","onNvgMoveAxisY_Finish","calAxisRotateUpdatePos","setShowLeadLines","onNvgRotateYZ_Update","splice","calAxisMoveUpdatePos","6028COdjEH","axisYArrow","xyCir","pickAxis","axisX","planeYZ_P1","pIntersectPtRotate","scale","onNvgMovePlaneXZ_Finish","pickArc","onNvgMovePlaneYZ_Update","pIntersectPt","23366sVdKTq","isBind","isInit","pIntersectPtMove","onNvgMovePlaneXY_Update","planeYZ_M2","length","planeXZ_P1","from","onNvgMoveAxisZ_Finish","cvtScreenToWorld","calPlaneMoveUpdatePos","axisOrigin","825695SOVLzg","onNvgRotateXY_Update","xyCirRev","planeYZ_M1","angle","onNvgMovePlaneXZ_Update","onNvgRotateXY_Begin","intersectRayBox","planeXY_M1","onNvgMovePlaneXY_Finish","intersectArcZero","Copy","vTriVer4","setScale","vLinePt1","138200HcNFaf","onNvgMoveAxisY_Begin","intersectAxisZero","init","nvgMatrix","arrIndexs","planeXZ_M2","onNvgMoveAxisZ_Update","axisNvgEnable","planeYZ_P2","onNvgRotateYZ_Finish","intersectTool","onNvgRotateYZ_Begin","pickAxisNvg","onNvgRotateXY_Finish","pickIndex","RayPoint1","box","showLeadLine","onNvgMoveAxisY_Update","ptIntersect","onNvgMoveAxisX_Begin","onNvgRotateXZ_Update","axisY","141461GYAFGJ","onMouseKeyMove","xzCir","140VMXZYu","62TUZQfA","planeXZ_M1","RayPoint2","onMouseKeyUp","axisZ","3OnqWMQ","onNvgMovePlaneYZ_Begin","onNvgMoveAxisX_Update","axisCircleR","planeXY_P1","cross","planeXZ_P4","set","onNvgMovePlaneXY_Begin","arrDistance","planeXZ_M4","calAxisRotateUpdateAngle","xzCirRev","planeYZ_M4","callbacks","onNvgMovePlaneXZ_Begin","flush2D","push","yzCir","intersectArrowZero","moveDir","planeXZ_M3","arrIntersectPt"],a105_0x35da52=a105_0x3144,AXIS_LENGTH=(!function(e){for(var t=a105_0x3144;;)try{if(481380===-parseInt(t(472))+-parseInt(t(515))*parseInt(t(588))+parseInt(t(487))+-parseInt(t(545))+-parseInt(t(556))*parseInt(t(511))+-parseInt(t(520))*parseInt(t(554))+parseInt(t(459))*parseInt(t(514)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a105_0x5024),1),AXIS_ARROW_B=.02,AXIS_ARROW_H=.15,AXIS_CIRCLE_R=.7,AXIS_PLANE_OFFSET=.1,AXIS_PLANE_E=.15,AXIS_SCALE=.3,AXIS_ZERO=1e-6,_axisX=float3[a105_0x35da52(467)](AXIS_LENGTH,0,0),_axisY=float3[a105_0x35da52(467)](0,AXIS_LENGTH,0),_axisZ=float3[a105_0x35da52(467)](0,0,AXIS_LENGTH),_axisX_A=float3[a105_0x35da52(467)](AXIS_LENGTH+AXIS_ARROW_H,0,0),_axisY_A=float3[a105_0x35da52(467)](0,AXIS_LENGTH+AXIS_ARROW_H,0),_axisZ_A=float3.from(0,0,AXIS_LENGTH+AXIS_ARROW_H),_axisXCir=float3[a105_0x35da52(467)](AXIS_CIRCLE_R,0,0),_axisYCir=float3[a105_0x35da52(467)](0,AXIS_CIRCLE_R,0),_axisZCir=float3[a105_0x35da52(467)](0,0,AXIS_CIRCLE_R),_planeXZ_P1=float3[a105_0x35da52(467)](AXIS_PLANE_OFFSET,0,AXIS_PLANE_OFFSET),_planeXZ_P2=float3[a105_0x35da52(467)](AXIS_PLANE_OFFSET+AXIS_PLANE_E,0,AXIS_PLANE_OFFSET),_planeXZ_P3=float3[a105_0x35da52(467)](AXIS_PLANE_OFFSET+AXIS_PLANE_E,0,AXIS_PLANE_OFFSET+AXIS_PLANE_E),_planeXZ_P4=float3[a105_0x35da52(467)](AXIS_PLANE_OFFSET,0,AXIS_PLANE_OFFSET+AXIS_PLANE_E),_planeXZ_M1=float3.from(-AXIS_LENGTH,0,-AXIS_LENGTH),_planeXZ_M2=float3.from(AXIS_LENGTH,0,-AXIS_LENGTH),_planeXZ_M3=float3[a105_0x35da52(467)](AXIS_LENGTH,0,AXIS_LENGTH),_planeXZ_M4=float3[a105_0x35da52(467)](-AXIS_LENGTH,0,AXIS_LENGTH),_planeXY_P1=float3.from(AXIS_PLANE_OFFSET,AXIS_PLANE_OFFSET,0),_planeXY_P2=float3[a105_0x35da52(467)](AXIS_PLANE_OFFSET+AXIS_PLANE_E,AXIS_PLANE_OFFSET,0),_planeXY_P3=float3[a105_0x35da52(467)](AXIS_PLANE_OFFSET+AXIS_PLANE_E,AXIS_PLANE_OFFSET+AXIS_PLANE_E,0),_planeXY_P4=float3[a105_0x35da52(467)](AXIS_PLANE_OFFSET,AXIS_PLANE_OFFSET+AXIS_PLANE_E,0),_planeXY_M1=float3[a105_0x35da52(467)](-AXIS_LENGTH,-AXIS_LENGTH,0),_planeXY_M2=float3[a105_0x35da52(467)](-AXIS_LENGTH,AXIS_LENGTH,0),_planeXY_M3=float3.from(AXIS_LENGTH,AXIS_LENGTH,0),_planeXY_M4=float3.from(AXIS_LENGTH,-AXIS_LENGTH,0),_planeYZ_P1=float3[a105_0x35da52(467)](0,AXIS_PLANE_OFFSET,AXIS_PLANE_OFFSET),_planeYZ_P2=float3[a105_0x35da52(467)](0,AXIS_PLANE_OFFSET+AXIS_PLANE_E,AXIS_PLANE_OFFSET),_planeYZ_P3=float3[a105_0x35da52(467)](0,AXIS_PLANE_OFFSET+AXIS_PLANE_E,AXIS_PLANE_OFFSET+AXIS_PLANE_E),_planeYZ_P4=float3[a105_0x35da52(467)](0,AXIS_PLANE_OFFSET,AXIS_PLANE_OFFSET+AXIS_PLANE_E),_planeYZ_M1=float3[a105_0x35da52(467)](0,-AXIS_LENGTH,-AXIS_LENGTH),_planeYZ_M2=float3[a105_0x35da52(467)](0,-AXIS_LENGTH,AXIS_LENGTH),_planeYZ_M3=float3.from(0,AXIS_LENGTH,AXIS_LENGTH),_planeYZ_M4=float3[a105_0x35da52(467)](0,AXIS_LENGTH,-AXIS_LENGTH),VALUE_AXIS_X=0,VALUE_AXIS_Y=1,VALUE_AXIS_Z=2,VALUE_AXIS_XY_CIR=3,VALUE_AXIS_XZ_CIR=4,VALUE_AXIS_YZ_CIR=5,VALUE_PLANE_XY=6,VALUE_PLANE_XZ=7,VALUE_PLANE_YZ=8;function AxisNvgCallbacks(){var t=a105_0x35da52;this.onNvgMoveAxisX_Begin=null,this[t(522)]=null,this[t(558)]=null,this[t(488)]=null,this.onNvgMoveAxisY_Update=null,this.onNvgMoveAxisY_Finish=null,this[t(581)]=null,this.onNvgMoveAxisZ_Update=null,this[t(468)]=null,this[t(478)]=null,this[t(473)]=null,this.onNvgRotateXY_Finish=null,this[t(565)]=null,this[t(509)]=null,this[t(571)]=null,this.onNvgRotateYZ_Begin=null,this[t(585)]=null,this[t(497)]=null,this[t(528)]=null,this[t(463)]=null,this[t(481)]=null,this.onNvgMovePlaneXZ_Begin=null,this[t(477)]=null,this[t(596)]=null,this[t(521)]=null,this.onNvgMovePlaneYZ_Update=null,this[t(549)]=null}function a105_0x3144(t,e){return t-=458,a105_0x5024[t]}function AxisNavigator(){const _=a105_0x35da52;this.axisOrigin=float3[_(467)](0,0,0),this[_(461)]=!1,this[_(460)]=!1,this.requestUpdate=!1,this.scale=AXIS_SCALE,this[_(505)]=!0,this[_(502)]=-1,this[_(491)]=null,this.callbacks=null,this.updateBindMat=null,this[_(498)]=new CommonItersectTool,this[_(503)]=new Point3(0,0,0),this[_(517)]=new Point3(0,0,0),this[_(486)]=new ADF_BASEFLOAT3,this[_(560)]=new ADF_BASEFLOAT3,this[_(550)]=new ADF_BASEFLOAT3,this[_(574)]=new ADF_BASEFLOAT3,this[_(546)]=new ADF_BASEFLOAT3,this[_(484)]=new ADF_BASEFLOAT3,this[_(458)]=new ADF_BASEFLOAT3,this[_(489)]=30,this[_(539)]=50,this.intersectArcZero=50,this[_(492)]=new Array,this[_(529)]=new Array,this.arrIntersectPt=new Array,this[_(559)]=new Vector3(0,0,0),this[_(564)]=new Vector3(0,0,0),this[_(563)]=new Vector3(0,0,0),this[_(578)]=new Vector3(0,0,0),this[_(462)]=new ADF_BASEFLOAT3,this[_(594)]=new ADF_BASEFLOAT3,this[_(540)]=new ADF_BASEFLOAT3,this[_(490)]=function(t=AXIS_SCALE){var e=_;return this.isInit||(this[e(485)](t),this[e(461)]=!0),!0},this[_(566)]=function(){var t=_;this.xyCir=null,this.xzCir=null,this[t(538)]=null,this[t(461)]=!1},this.bind=function(t,e,a){var n=_;this[n(491)]=t,this[n(534)]=e,this.updateBindMat=a,this[n(460)]=!0},this.unBind=function(){var t=_;this[t(491)]=null,this[t(534)]=null,this[t(557)]=null,this[t(460)]=!1},this[_(485)]=function(t){var e=_,a=(this[e(595)]=t,this.axisX=float3[e(568)](null,_axisX,t),this[e(510)]=float3[e(568)](null,_axisY,t),this[e(519)]=float3.mul(null,_axisZ,t),this[e(570)]=float3.mul(null,_axisX_A,t),this[e(589)]=float3[e(568)](null,_axisY_A,t),this[e(576)]=float3[e(568)](null,_axisZ_A,t),this.axisXCir=float3.mul(null,_axisXCir,t),this.axisYCir=float3[e(568)](null,_axisYCir,t),this.axisZCir=float3[e(568)](null,_axisZCir,t),this[e(466)]=float3[e(568)](null,_planeXZ_P1,t),this[e(579)]=float3.mul(null,_planeXZ_P2,t),this[e(548)]=float3[e(568)](null,_planeXZ_P3,t),this[e(526)]=float3[e(568)](null,_planeXZ_P4,t),this[e(524)]=float3[e(568)](null,_planeXY_P1,t),this[e(553)]=float3[e(568)](null,_planeXY_P2,t),this.planeXY_P3=float3[e(568)](null,_planeXY_P3,t),this[e(561)]=float3[e(568)](null,_planeXY_P4,t),this[e(593)]=float3[e(568)](null,_planeYZ_P1,t),this[e(496)]=float3[e(568)](null,_planeYZ_P2,t),this[e(572)]=float3[e(568)](null,_planeYZ_P3,t),this.planeYZ_P4=float3[e(568)](null,_planeYZ_P4,t),this.planeXY_M1=float3[e(568)](null,_planeXY_M1,t),this[e(580)]=float3[e(568)](null,_planeXY_M2,t),this[e(575)]=float3[e(568)](null,_planeXY_M3,t),this[e(567)]=float3.mul(null,_planeXY_M4,t),this.planeXZ_M1=float3[e(568)](null,_planeXZ_M1,t),this[e(493)]=float3[e(568)](null,_planeXZ_M2,t),this[e(541)]=float3.mul(null,_planeXZ_M3,t),this[e(530)]=float3[e(568)](null,_planeXZ_M4,t),this[e(475)]=float3.mul(null,_planeYZ_M1,t),this[e(464)]=float3[e(568)](null,_planeYZ_M2,t),this.planeYZ_M3=float3[e(568)](null,_planeYZ_M3,t),this[e(533)]=float3[e(568)](null,_planeYZ_M4,t),this[e(523)]=AXIS_CIRCLE_R*t,this.axisArrowB=AXIS_ARROW_B*t,-AXIS_ARROW_H*t),n=(AXIS_LENGTH+AXIS_ARROW_H)*t,a=new Point3(a,a,a),n=new Point3(n,n,n),a=(this.box=new Box3D,TranBox3D(a,n,this[e(504)]),new ADF_BASEFLOAT3),n=new ADF_BASEFLOAT3,i=new ADF_BASEFLOAT3,s=new ADF_BASEFLOAT3,r=new ADF_BASEMATRIX,l=(a.x=this[e(471)][0],a.y=this[e(471)][1],a.z=this.axisOrigin[2],n.x=this[e(592)][0],n.y=this[e(592)][1],n.z=this[e(592)][2],i.x=this.axisY[0],i.y=this[e(510)][1],i.z=this.axisY[2],s.x=this[e(519)][0],s.y=this[e(519)][1],s.z=this[e(519)][2],Math.PI/2/alpha+1),o=3*Math.PI/2/alpha+1;this[e(590)]=new Float32Array(3*l),this[e(513)]=new Float32Array(3*l),this.yzCir=new Float32Array(3*l),this.xyCirRev=new Float32Array(3*o),this[e(532)]=new Float32Array(3*o),this[e(543)]=new Float32Array(3*o),GetArcTransformMatrix(a,n,i,0,Math.PI/2,this[e(523)],null,r),SplitArc_LineTripFloat32Array(this.axisCircleR,0,Math.PI/2,r,eAxisZ,this.xyCir),SplitArc_LineTripFloat32Array(this[e(523)],Math.PI/2,2*Math.PI,r,eAxisZ,this[e(474)]),ADFMatrixIdentity(r),GetArcTransformMatrix(a,n,s,0,Math.PI/2,this[e(523)],null,r),SplitArc_LineTripFloat32Array(this.axisCircleR,0,Math.PI/2,r,eAxisY,this.xzCir),SplitArc_LineTripFloat32Array(this.axisCircleR,Math.PI/2,2*Math.PI,r,eAxisY,this[e(532)]),ADFMatrixIdentity(r),GetArcTransformMatrix(a,i,s,0,Math.PI/2,this[e(523)],null,r),SplitArc_LineTripFloat32Array(this[e(523)],0,Math.PI/2,r,eAxisX,this[e(538)]),SplitArc_LineTripFloat32Array(this.axisCircleR,Math.PI/2,2*Math.PI,r,eAxisX,this[e(543)]),this.intersectAxisZero*=t,this[e(539)]*=t,this[e(482)]*=t,this[e(461)]&&g_canvas[e(536)]()},this[_(584)]=function(t){this.showLeadLine=t},this[_(555)]=function(t,e){var a=_,t=(glRunTime[a(469)](t,e,this[a(503)],this[a(517)]),this[a(500)](this[a(503)],this[a(517)]));if(null==t)return 0<=this[a(502)]&&(this.pickIndex=-1,glRunTime.flush2D()),-1;this[a(502)]!=t[a(544)]&&(this[a(502)]=t[a(544)],glRunTime[a(536)]()),this[a(458)][a(483)](t[a(507)])},this.onMouseKeyDown=function(t,e){var a=_;if(!(this.pickIndex<0))switch(g_canvas[a(552)]=!0,this.pickIndex){case VALUE_AXIS_X:this.callbacks.onNvgMoveAxisX_Begin(this[a(458)]);break;case VALUE_AXIS_Y:this[a(534)].onNvgMoveAxisY_Begin(this[a(458)]);break;case VALUE_AXIS_Z:this[a(534)][a(581)](this[a(458)]);break;case VALUE_AXIS_XY_CIR:CalTranslatePoint(this[a(471)][0],this.axisOrigin[1],this[a(471)][2],this[a(491)],this[a(550)]),this[a(559)].set(this[a(458)].x-this[a(550)].x,this[a(458)].y-this[a(550)].y,this[a(458)].z-this.vTriVer1.z),this[a(559)][a(577)](),CalTranslatePoint(this[a(519)][0],this.axisZ[1],this[a(519)][2],this[a(491)],this[a(574)]),this[a(563)][a(527)](this[a(574)].x-this.vTriVer1.x,this[a(574)].y-this[a(550)].y,this[a(574)].z-this[a(550)].z),this.vecAxis.normalize(),this[a(534)].onNvgRotateXY_Begin();break;case VALUE_AXIS_XZ_CIR:CalTranslatePoint(this.axisOrigin[0],this[a(471)][1],this.axisOrigin[2],this[a(491)],this[a(550)]),this.vecDir1[a(527)](this.pIntersectPt.x-this[a(550)].x,this[a(458)].y-this[a(550)].y,this[a(458)].z-this[a(550)].z),this[a(559)][a(577)](),CalTranslatePoint(this[a(510)][0],this[a(510)][1],this.axisY[2],this[a(491)],this[a(574)]),this[a(563)][a(527)](this[a(574)].x-this[a(550)].x,this[a(574)].y-this.vTriVer1.y,this.vTriVer2.z-this.vTriVer1.z),this[a(563)][a(577)](),this[a(534)][a(565)]();break;case VALUE_AXIS_YZ_CIR:CalTranslatePoint(this[a(471)][0],this[a(471)][1],this.axisOrigin[2],this.nvgMatrix,this[a(550)]),this[a(559)][a(527)](this[a(458)].x-this[a(550)].x,this[a(458)].y-this.vTriVer1.y,this[a(458)].z-this[a(550)].z),this[a(559)].normalize(),CalTranslatePoint(this.axisX[0],this[a(592)][1],this[a(592)][2],this[a(491)],this.vTriVer2),this[a(563)].set(this[a(574)].x-this[a(550)].x,this[a(574)].y-this[a(550)].y,this[a(574)].z-this[a(550)].z),this[a(563)][a(577)](),this[a(534)].onNvgRotateYZ_Begin();break;case VALUE_PLANE_XY:this[a(534)][a(528)](this.pIntersectPt);break;case VALUE_PLANE_XZ:this[a(534)].onNvgMovePlaneXZ_Begin(this[a(458)]);break;case VALUE_PLANE_YZ:this[a(534)][a(521)](this[a(458)]);break;default:g_canvas[a(552)]=!1}},this[_(518)]=function(t,e){var a=_;if(!(this[a(502)]<0)){switch(this.pickIndex){case VALUE_AXIS_X:this.callbacks[a(558)]();break;case VALUE_AXIS_Y:this.callbacks[a(582)]();break;case VALUE_AXIS_Z:this.callbacks.onNvgMoveAxisZ_Finish();break;case VALUE_AXIS_XY_CIR:this.callbacks[a(501)]();break;case VALUE_AXIS_XZ_CIR:this.callbacks[a(571)]();break;case VALUE_AXIS_YZ_CIR:this[a(534)][a(497)]();break;case VALUE_PLANE_XY:this[a(534)][a(481)]();break;case VALUE_PLANE_XZ:this.callbacks.onNvgMovePlaneXZ_Finish();break;case VALUE_PLANE_YZ:this[a(534)].onNvgMovePlaneYZ_Finish()}g_canvas[a(552)]=!1,this.pickIndex=-1}},this[_(512)]=function(e,a){var n=_;if(!(this.pickIndex<0)){let t=0;switch(glRunTime[n(469)](e,a,this[n(503)],this[n(517)]),this[n(502)]){case VALUE_AXIS_X:this[n(587)](this[n(471)],this[n(570)],this[n(491)],this[n(503)],this[n(517)]),this.callbacks.onNvgMoveAxisX_Update(this[n(462)]);break;case VALUE_AXIS_Y:this[n(587)](this[n(471)],this[n(589)],this[n(491)],this.RayPoint1,this[n(517)]),this[n(534)][n(506)](this[n(462)]);break;case VALUE_AXIS_Z:this.calAxisMoveUpdatePos(this.axisOrigin,this[n(576)],this[n(491)],this[n(503)],this[n(517)]),this.callbacks[n(494)](this[n(462)]);break;case VALUE_AXIS_XY_CIR:this[n(583)](this[n(590)],this[n(491)],this[n(503)],this[n(517)]),t=this[n(531)](),this.callbacks[n(473)](t);break;case VALUE_AXIS_XZ_CIR:this.calAxisRotateUpdatePos(this[n(513)],this.nvgMatrix,this.RayPoint1,this.RayPoint2),t=this[n(531)](),this.callbacks[n(509)](t);break;case VALUE_AXIS_YZ_CIR:this.calAxisRotateUpdatePos(this[n(538)],this.nvgMatrix,this.RayPoint1,this[n(517)]),t=this[n(531)](),this[n(534)][n(585)](t);break;case VALUE_PLANE_XY:this[n(470)](this[n(480)],this[n(580)],this[n(575)],this[n(567)],this.nvgMatrix,this.RayPoint1,this.RayPoint2)&&this[n(534)][n(463)](this[n(462)]);break;case VALUE_PLANE_XZ:this.calPlaneMoveUpdatePos(this[n(516)],this[n(493)],this[n(541)],this.planeXZ_M4,this[n(491)],this[n(503)],this[n(517)])&&this[n(534)][n(477)](this[n(462)]);break;case VALUE_PLANE_YZ:this[n(470)](this[n(475)],this[n(464)],this[n(569)],this[n(533)],this[n(491)],this.RayPoint1,this.RayPoint2)&&this[n(534)][n(598)](this[n(462)])}}},this[_(495)]=function(t){var e=_;switch(t){case VALUE_AXIS_X:return null!=this[e(534)][e(508)]&&null!=this[e(534)][e(522)]&&null!=this[e(534)][e(558)];case VALUE_AXIS_Y:return null!=this[e(534)].onNvgMoveAxisY_Begin&&null!=this[e(534)][e(506)]&&null!=this[e(534)][e(582)];case VALUE_AXIS_Z:return null!=this[e(534)][e(581)]&&null!=this[e(534)].onNvgMoveAxisZ_Update&&null!=this[e(534)][e(468)];case VALUE_AXIS_XY_CIR:return null!=this[e(534)][e(478)]&&null!=this[e(534)].onNvgRotateXY_Update&&null!=this[e(534)][e(501)];case VALUE_AXIS_XZ_CIR:return null!=this.callbacks.onNvgRotateXZ_Begin&&null!=this[e(534)][e(509)]&&null!=this.callbacks[e(571)];case VALUE_AXIS_YZ_CIR:return null!=this[e(534)][e(499)]&&null!=this[e(534)].onNvgRotateYZ_Update&&null!=this[e(534)][e(497)];case VALUE_PLANE_XY:return null!=this[e(534)].onNvgMovePlaneXY_Begin&&null!=this[e(534)][e(463)]&&null!=this[e(534)][e(481)];case VALUE_PLANE_XZ:return null!=this[e(534)][e(535)]&&null!=this.callbacks[e(477)]&&null!=this[e(534)].onNvgMovePlaneXZ_Finish;case VALUE_PLANE_YZ:return null!=this[e(534)][e(521)]&&null!=this[e(534)][e(598)]&&null!=this.callbacks[e(549)];default:return!1}},this.pickAxisNvg=function(t,e){var n=_;if(null==this.callbacks)return null;if(this.vLinePt1.x=t.x,this[n(486)].y=t.y,this[n(486)].z=t.z,this[n(560)].x=e.x,this.vLinePt2.y=e.y,this[n(560)].z=e.z,this[n(529)][n(586)](0,this[n(529)][n(465)]),this[n(542)][n(586)](0,this.arrIntersectPt[n(465)]),this[n(492)][n(586)](0,this[n(492)][n(465)]),this.intersectTool[n(479)](t,e,this[n(504)],this[n(491)])&&(this.axisNvgEnable(VALUE_AXIS_X)&&this[n(591)](this[n(471)],this.axisX,this[n(570)],this.nvgMatrix,VALUE_AXIS_X),this[n(495)](VALUE_AXIS_Y)&&this[n(591)](this[n(471)],this[n(510)],this.axisYArrow,this[n(491)],VALUE_AXIS_Y),this[n(495)](VALUE_AXIS_Z)&&this[n(591)](this[n(471)],this.axisZ,this[n(576)],this[n(491)],VALUE_AXIS_Z),this.axisNvgEnable(VALUE_AXIS_XY_CIR)&&this.pickArc(this.xyCir,this[n(491)],VALUE_AXIS_XY_CIR),this[n(495)](VALUE_AXIS_XZ_CIR)&&this.pickArc(this[n(513)],this[n(491)],VALUE_AXIS_XZ_CIR),this[n(495)](VALUE_AXIS_YZ_CIR)&&this[n(597)](this[n(538)],this[n(491)],VALUE_AXIS_YZ_CIR),this[n(495)](VALUE_PLANE_XY)&&this[n(573)](this[n(524)],this.planeXY_P2,this.planeXY_P3,this[n(561)],this[n(491)],VALUE_PLANE_XY),this[n(495)](VALUE_PLANE_XZ)&&this[n(573)](this.planeXZ_P1,this[n(579)],this[n(548)],this[n(526)],this[n(491)],VALUE_PLANE_XZ),this.axisNvgEnable(VALUE_PLANE_YZ))&&this[n(573)](this[n(593)],this[n(496)],this.planeYZ_P3,this[n(551)],this[n(491)],VALUE_PLANE_YZ),0==this[n(529)][n(465)])return null;{let e=1/0,a=0;for(let t=0;t<this[n(529)][n(465)];t++)this[n(529)][t]<e&&(e=this[n(529)][t],a=t);return{dDistance:e,ptIntersect:this[n(542)][a],index:this[n(492)][a]}}},this[_(591)]=function(t,e,a,n,i){var s=_;CalTranslatePoint(t[0],t[1],t[2],n,this[s(550)]),CalTranslatePoint(e[0],e[1],e[2],n,this[s(574)]),CalTranslatePoint(a[0],a[1],a[2],n,this[s(546)]);let r=CalcDistanceOfTwoLineSeg(this[s(550)],this.vTriVer2,this[s(486)],this.vLinePt2,this[s(458)]);this.intersectTool.isInIntersectZero(this[s(458)],this[s(486)],this[s(489)])?(r=CalDistanceOfPoint3d(this[s(458)],this[s(486)]),(t=new ADF_BASEFLOAT3)[s(483)](this[s(458)]),this.arrDistance[s(537)](r),this[s(542)][s(537)](t),this[s(492)][s(537)](i)):(r=CalcDistanceOfTwoLineSeg(this[s(574)],this[s(546)],this.vLinePt1,this[s(560)],this[s(458)]),this[s(498)][s(547)](this[s(458)],this[s(486)],this[s(539)])&&(r=CalDistanceOfPoint3d(this[s(458)],this[s(486)]),(e=new ADF_BASEFLOAT3)[s(483)](this[s(458)]),this.arrDistance[s(537)](r),this[s(542)][s(537)](e),this[s(492)][s(537)](i)))},this[_(597)]=function(e,a,t){var n=_;let i=1/0,s=!1,r=new ADF_BASEFLOAT3;for(let t=0;t<e.length;t+=3){CalTranslatePoint(e[t],e[t+1],e[t+2],a,this[n(550)]),CalTranslatePoint(e[t+3],e[t+4],e[t+5],a,this[n(574)]);var l=CalcDistanceOfTwoLineSeg(this[n(550)],this[n(574)],this[n(486)],this[n(560)],this[n(458)]);this[n(498)][n(547)](this.pIntersectPt,this.vLinePt1,this[n(482)])&&l<i&&(r[n(483)](this.pIntersectPt),i=l,s=!0)}s&&(this[n(529)].push(i),this.arrIntersectPt[n(537)](r),this[n(492)].push(t))},this[_(573)]=function(t,e,a,n,i,s){var r=_;CalTranslatePoint(t[0],t[1],t[2],i,this.vTriVer1),CalTranslatePoint(e[0],e[1],e[2],i,this[r(574)]),CalTranslatePoint(a[0],a[1],a[2],i,this[r(546)]),CalTranslatePoint(n[0],n[1],n[2],i,this.vTriVer4);let l=-1,o=null;CalcIntersectOfLineSegTriangle(this[r(486)],this[r(560)],this[r(550)],this.vTriVer2,this[r(546)],this[r(458)])?(l=CalDistanceOfPoint3d(this.pIntersectPt,this[r(486)]),(o=new ADF_BASEFLOAT3)[r(483)](this[r(458)]),this[r(529)][r(537)](l),this[r(542)][r(537)](o),this.arrIndexs[r(537)](s)):CalcIntersectOfLineSegTriangle(this.vLinePt1,this[r(560)],this[r(546)],this[r(484)],this[r(550)],this[r(458)])&&(l=CalDistanceOfPoint3d(this[r(458)],this[r(486)]),(o=new ADF_BASEFLOAT3)[r(483)](this[r(458)]),this[r(529)].push(l),this.arrIntersectPt[r(537)](o),this[r(492)][r(537)](s))},this.calAxisMoveUpdatePos=function(t,e,a,n,i){var s=_;this[s(486)].x=n.x,this[s(486)].y=n.y,this[s(486)].z=n.z,this[s(560)].x=i.x,this.vLinePt2.y=i.y,this.vLinePt2.z=i.z,CalTranslatePoint(t[0],t[1],t[2],a,this[s(550)]),CalTranslatePoint(e[0],e[1],e[2],a,this.vTriVer2),CalcDistanceOfTwoLineSeg(this[s(550)],this[s(574)],this[s(486)],this[s(560)],this.pIntersectPtMove)},this[_(583)]=function(e,a,t,n){var i=_;this.vLinePt1.x=t.x,this[i(486)].y=t.y,this.vLinePt1.z=t.z,this[i(560)].x=n.x,this.vLinePt2.y=n.y,this[i(560)].z=n.z;let s=1/0,r=new ADF_BASEFLOAT3;for(let t=0;t<e[i(465)];t+=3){CalTranslatePoint(e[t],e[t+1],e[t+2],a,this[i(550)]),CalTranslatePoint(e[t+3],e[t+4],e[t+5],a,this[i(574)]);var l=CalcDistanceOfTwoLineSeg(this.vTriVer1,this[i(574)],this[i(486)],this.vLinePt2,this.pIntersectPtRotate);l<s&&(r[i(483)](this[i(594)]),s=l)}this[i(594)][i(483)](r)},this[_(531)]=function(){var t=_;let e=0;return CalTranslatePoint(this[t(471)][0],this[t(471)][1],this[t(471)][2],this.nvgMatrix,this[t(550)]),this.vecDir2.set(this[t(594)].x-this[t(550)].x,this[t(594)].y-this[t(550)].y,this[t(594)].z-this[t(550)].z),this[t(564)][t(577)](),Math[t(562)](this.vecDir2.y-this[t(559)].y)<AXIS_ZERO&&Math.abs(this[t(564)].x-this[t(559)].x)<AXIS_ZERO&&Math[t(562)](this[t(564)].z-this[t(559)].z)<AXIS_ZERO?0:(this[t(564)][t(525)](this[t(559)],this[t(578)]),e=0<this[t(578)].dot(this[t(563)])?-this[t(564)][t(476)](this.vecDir1):this.vecDir2[t(476)](this[t(559)]))},this[_(470)]=function(t,e,a,n,i,s,r){var l=_;return this.vLinePt1.x=s.x,this[l(486)].y=s.y,this.vLinePt1.z=s.z,this.vLinePt2.x=r.x,this[l(560)].y=r.y,this[l(560)].z=r.z,CalTranslatePoint(t[0],t[1],t[2],i,this[l(550)]),CalTranslatePoint(e[0],e[1],e[2],i,this[l(574)]),CalTranslatePoint(a[0],a[1],a[2],i,this[l(546)]),CalTranslatePoint(n[0],n[1],n[2],i,this.vTriVer4),!!CalcIntersectOfLineSegTriangle(this[l(486)],this[l(560)],this[l(550)],this[l(574)],this[l(546)],this[l(462)])||!!CalcIntersectOfLineSegTriangle(this[l(486)],this[l(560)],this[l(546)],this[l(484)],this.vTriVer1,this[l(462)])}}var a108_0x54eb=["573893DilPhK","create","bind object fail, no object is selected!","objectRotateWorldStart","axisOrigin","log","392DrhbeJ","onNvgMoveAxisY_Finish","objectMoveWorldStart","1548729YLWGsT","mView","onNvgMovePlaneYZ_Begin","_arrObjectSet","onNvgMoveAxisX_Finish","onNvgMovePlaneXZ_Update","492449UrqTQi","onNvgMovePlaneXZ_Begin","onNvgRotateXY_Finish","onNvgMoveAxisX_Begin","onNvgRotateXY_Update","onNvgRotateXZ_Begin","onNvgRotateYZ_Update","7032xtFzhV","onNvgMovePlaneXY_Begin","length","onNvgRotateXZ_Finish","2iEKIoj","objectMoveWorldUpdate","updateBindMatrix","objectRotateWorldUpdate","1GPYkJF","onNvgMovePlaneXY_Update","425XJvenn","115132fIVUXN","bind","m_arrObjectMatrix","onNvgRotateYZ_Begin","onNvgMovePlaneYZ_Update","1FEYVua","onNvgRotateXZ_Update","init","onNvgMovePlaneXZ_Finish","94431bOAPsJ","onNvgMoveAxisZ_Begin","975wbuzym","objectRotateWorldFinish","onNvgMovePlaneYZ_Finish","2BeoXtW","object navigator bind fail!","objectMoveWorldFinish","onNvgMoveAxisX_Update","mProj","GetObjectScale","multiply","onNvgRotateXY_Begin","unbind"];function a108_0x4992(t,e){return a108_0x54eb[t-=378]}var a108_0x1b7195=a108_0x4992,g_objNvgCallback=(!function(e){for(var t=a108_0x4992;;)try{if(974974==parseInt(t(418))*-parseInt(t(380))+parseInt(t(422))*parseInt(t(406))+-parseInt(t(412))*-parseInt(t(424))-parseInt(t(389))+parseInt(t(395))*-parseInt(t(410))+parseInt(t(413))*parseInt(t(427))+parseInt(t(386))*parseInt(t(402)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a108_0x54eb),null),g_objNvgCenter=new Point3(0,0,0),g_objNvgScaleMat=mat4[a108_0x1b7195(381)](),g_objNvgBindMat=mat4[a108_0x1b7195(381)](),g_objNvgBindIndex=-1;function ObjectAxisNavigator(){var i=a108_0x1b7195;(g_axisNvg=null==g_axisNvg?new AxisNavigator:g_axisNvg)[i(420)](),g_objNvgCallback=new AxisNvgCallbacks,this[i(408)]=function(){var t,e,a,n=i;g_objNvgBindIndex<0?(console[n(385)](n(428)),this[n(379)]()):(t=g_webglControl[n(415)][g_objNvgBindIndex],e=g_GLObjectSet[n(392)][g_objNvgBindIndex][n(432)](),CalTranslatePoint(g_axisNvg.axisOrigin[0],g_axisNvg[n(384)][1],g_axisNvg[n(384)][2],t,g_objNvgCenter),a=CalCameraProjectScale(g_objNvgCenter,g_camera[n(390)],g_camera[n(431)]),g_objNvgScaleMat[0]=a/e,g_objNvgScaleMat[5]=a/e,g_objNvgScaleMat[10]=a/e,mat4[n(433)](g_objNvgBindMat,t,g_objNvgScaleMat))},this[i(414)]=function(){var e=i,t=g_glprogram.getPickedIndex();if(null==t||0==t[e(404)])return console[e(385)](e(382)),!1;g_objNvgBindIndex=t[0],this[e(408)](),g_objNvgCallback[e(398)]=function(t){glRunTime[e(388)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(430)]=function(t){glRunTime.objectMoveWorldUpdate(g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(393)]=function(){glRunTime[e(429)]()},g_objNvgCallback.onNvgMoveAxisY_Begin=function(t){glRunTime[e(388)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback.onNvgMoveAxisY_Update=function(t){glRunTime[e(407)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(387)]=function(){glRunTime.objectMoveWorldFinish()},g_objNvgCallback[e(423)]=function(t){glRunTime.objectMoveWorldStart(g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback.onNvgMoveAxisZ_Update=function(t){glRunTime[e(407)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback.onNvgMoveAxisZ_Finish=function(){glRunTime[e(429)]()},g_objNvgCallback[e(378)]=function(){glRunTime[e(383)](g_objNvgBindIndex)},g_objNvgCallback[e(399)]=function(t){glRunTime[e(409)](g_objNvgBindIndex,g_axisZ,t)},g_objNvgCallback[e(397)]=function(){glRunTime[e(425)](g_objNvgBindIndex)},g_objNvgCallback[e(400)]=function(){glRunTime.objectRotateWorldStart(g_objNvgBindIndex)},g_objNvgCallback[e(419)]=function(t){glRunTime.objectRotateWorldUpdate(g_objNvgBindIndex,g_axisY,t)},g_objNvgCallback[e(405)]=function(){glRunTime[e(425)](g_objNvgBindIndex)},g_objNvgCallback[e(416)]=function(){glRunTime[e(383)](g_objNvgBindIndex)},g_objNvgCallback[e(401)]=function(t){glRunTime.objectRotateWorldUpdate(g_objNvgBindIndex,g_axisX,t)},g_objNvgCallback.onNvgRotateYZ_Finish=function(){glRunTime[e(425)](g_objNvgBindIndex)},g_objNvgCallback[e(403)]=function(t){glRunTime[e(388)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(411)]=function(t){glRunTime[e(407)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback.onNvgMovePlaneXY_Finish=function(){glRunTime[e(429)]()},g_objNvgCallback[e(396)]=function(t){glRunTime[e(388)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(394)]=function(t){glRunTime.objectMoveWorldUpdate(g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(421)]=function(){glRunTime[e(429)]()},g_objNvgCallback[e(391)]=function(t){glRunTime.objectMoveWorldStart(g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(417)]=function(t){glRunTime[e(407)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(426)]=function(){glRunTime[e(429)]()},g_axisNvg[e(414)](g_objNvgBindMat,g_objNvgCallback,this.updateBindMatrix),g_isLocked=!0},this.unbind=function(){g_axisNvg.unBind(),g_isLocked=!1}}var a12_0x2bc6=["P3D_OnAnimFinishCallBack","111rUvNaj","552508SCyuWA","_fFOVY","1JwAqwc","setAnnotationAnim","updateExplode","348958ouFhGK","96282NLzOYi","P3D_OnAnimRefreshCallBack","630275ZepDEs","GetAnimTransparent","m_arrObjectMatrix","337987zlXDft","animRun()","545612DGFLNr","flush","length","439WjhopF","1pYKEEI","ceil","m_arrObjectTransparent","_arrObjectSet","GetAnimCamera","fromCleCamera","desc","fAspect","endExplode","GetAnimMatrix","home","3yuXMLN","_uFrameSize","fTransparent","beginExplode","updateDesc",""];!function(e){for(var t=a12_0x32f5;;)try{if(413029===-parseInt(t(172))*-parseInt(t(168))+-parseInt(t(154))*parseInt(t(171))+parseInt(t(157))*parseInt(t(161))+parseInt(t(155))+-parseInt(t(160))+parseInt(t(163))+parseInt(t(183))*-parseInt(t(166)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a12_0x2bc6);const ANIMRUN=0,ANIMPAUSE=1,ANIMEND=2,ANIMTERMINAL=3;var animationClock=null,animationStatus=ANIMTERMINAL,uTotalFrame=0,uCurFrame=0,uFrameStep=1,uSleepTime=40,uBaseTime=40,uAnimSpeed=1,g_nAnimationStart=0,g_nAnimationEnd=0,g_animMode=0,g_doObjectAnim=!0,g_doCameraAnim=!0,g_doTransAnim=!0,adfCamera=new ADF_CAMERA;function setAnimType(t,e,a){g_doObjectAnim=t,g_doCameraAnim=e,g_doTransAnim=a}function setAnimSpeed(t){t<.5||10<t||(4<t?(uAnimSpeed=1,uSleepTime=uBaseTime,uFrameStep=Math[a12_0x32f5(173)](t)):(uFrameStep=1,uSleepTime=uBaseTime/(uAnimSpeed=t)))}function getAnimSpeed(){return uAnimSpeed*uFrameStep}function getTotalFrames(){return g_GLObjectSet[a12_0x32f5(184)]}function setAnimationStart(){var t=a12_0x32f5;animTerminal(),uTotalFrame=g_GLObjectSet[t(184)],animationStatus==ANIMTERMINAL&&glRunTime[t(182)](HOME_ALL),uTotalFrame<=uCurFrame&&(uCurFrame=0),animRun(),g_animMode=1}function PlaySceneAnimation(){animTerminal(),(uTotalFrame=g_nAnimationEnd)<=(uCurFrame=g_nAnimationStart)&&(uCurFrame=g_nAnimationStart),animationStatus=ANIMRUN,animRun(),g_animMode=2}function PlayUsrFrameAnimation(t,e){if(e<=t||e>=g_GLObjectSet[a12_0x32f5(184)])return-1;animTerminal(),uCurFrame=t,uTotalFrame=e,animationStatus=ANIMRUN,animRun(),g_animMode=2}function animRun(){var t=a12_0x32f5;uCurFrame<uTotalFrame&&setObjectAnim(uCurFrame)?(g_doCameraAnim&&setCameraAnim(uCurFrame),g_doTransAnim&&setAnnotationAnim(uCurFrame),glRunTime[t(169)](),callback_v3[t(162)](uCurFrame),uCurFrame+=uFrameStep,animationClock=setTimeout(t(167),uSleepTime),animationStatus=ANIMRUN):(animPause(),animationStatus=ANIMEND,callback_v3.P3D_OnAnimFinishCallBack(!0))}function animPause(){null!=animationClock&&clearTimeout(animationClock),animationClock=null,animationStatus=ANIMPAUSE}function a12_0x32f5(t,e){return a12_0x2bc6[t-=154]}function animTerminal(){var t=a12_0x32f5;uCurFrame=0,callback_v3[t(162)](uCurFrame),uTotalFrame=0,setObjectAnim(uCurFrame)&&(g_doCameraAnim&&setCameraAnim(uCurFrame),g_doTransAnim&&setAnnotationAnim(uCurFrame),glRunTime[t(169)]()),animPause(),animationStatus=ANIMTERMINAL,g_animMode=0}function setCurFrame(t){var e=a12_0x32f5;if(1==g_animMode){if(t<0||uTotalFrame<=t)return}else{if(2!=g_animMode)return;if(t<g_nAnimationStart||uTotalFrame<=t)return}setObjectAnim(uCurFrame=t)&&(g_doCameraAnim&&setCameraAnim(uCurFrame),g_doTransAnim)&&setAnnotationAnim(uCurFrame),glRunTime[e(169)](),animPause(),callback_v3[e(189)](!0)}function setCameraAnim(t){var e=a12_0x32f5;return!(t>g_GLObjectSet._uFrameSize||t<0||(g_GLCameraSet[e(176)](t,adfCamera),adfCamera[e(156)]<=1e-4||(Common[e(177)](g_cameraDesc,adfCamera),g_cameraDesc[e(179)]=g_camera[e(178)].fAspect,Camera[e(187)](g_camera,g_cameraDesc)),0))}function setObjectAnim(e){var a=a12_0x32f5;if(e>g_GLObjectSet[a(184)]||e<0)return!1;for(let t=0;t<g_webglControl[a(165)][a(170)];t++)g_GLObjectSet[a(175)][t][a(181)](e,g_webglControl[a(165)][t]),this[a(185)]=g_GLObjectSet._arrObjectSet[t][a(164)](e),g_webglControl[a(174)][t]=this.fTransparent;return!0}function setAnnotationAnim(t){var e=a12_0x32f5;return!(t>g_GLObjectSet[e(184)]||t<0||(g_sceneAnnotation[e(158)](t),0))}var scope=1,totalFrame=0,mode=0,explode=!1;function setExplodeStart(t,e,a,n){return!(a<1||n<0||!g_sceneExploder[a12_0x32f5(186)](t))&&(scope=a,totalFrame=n,mode=e,explode=!0)}function updateExplodeFrame(t){var e=a12_0x32f5;return explode?!(t<0||totalFrame<t)&&(expRatio=t/totalFrame*(scope-1)+1,g_sceneExploder[e(159)](mode,expRatio)):(console.log(e(188)),!1)}function finishExplode(){return g_sceneExploder[a12_0x32f5(180)]()}const a13_0x4cde=["m_arrObjIndex","updateExplode","1151940LIBTsH","home","beginExplode","translate","push","flush","m_vExplodedCenter","1248900buVtbf","867430JtnngX","The input has invalid object ids","multiply","1673467rwltog","645974KmlvZR","copy","m_modelBox","objectMovematrix","curMoveVec","23gjsiXY","963407DXIacX","_arrObjectSet","26756BllJbP","m_arrObjectOriPos","create","length","m_arrObjectOriWld"];function a13_0x5a6d(t,e){return t-=436,a13_0x4cde[t]}function SceneExplode(){const _=a13_0x5a6d;this[_(441)]=new Array,this[_(449)]=new Point3(0,0,0),this[_(437)]=new Array,this.m_arrObjectOriWld=new Array,this.curMoveVec=vec3[_(438)](),this[_(458)]=mat4[_(438)](),this[_(445)]=function(e){var a=_;if(glRunTime[a(444)](HOME_ALL),this[a(441)].splice(0,this.m_arrObjIndex[a(439)]),null==e||0==e[a(439)])for(let t=0;t<g_GLObjectSet[a(462)][a(439)];++t)this[a(441)][a(447)](t);else for(let t=0;t<e[a(439)];++t){var n=glRunTime.getObjectIndexById(e[t]);if(t<0)return console.log(a(452)),!1;this[a(441)].push(n)}this[a(437)].splice(0,this.m_arrObjectOriPos.length),this.m_arrObjectOriWld.splice(0,this.m_arrObjectOriWld[a(439)]),getModelBoxCenter(glRunTime[a(457)],this[a(449)]);for(let t=0;t<this[a(441)].length;t++){this.m_arrObjectOriPos[t]=glRunTime.getObjectWorldCenterByIndex(this[a(441)][t]);var i=mat4[a(438)]();mat4[a(456)](i,g_webglControl.m_arrObjectMatrix[this.m_arrObjIndex[t]]),this.m_arrObjectOriWld[t]=i}return!0},this[_(442)]=function(t,e){var a=_;let n,i,s;switch(t){case P3D_EXPLODE_MODE_X:n=e,i=1,s=1;break;case P3D_EXPLODE_MODE_Y:n=1,i=e,s=1;break;case P3D_EXPLODE_MODE_Z:n=1,i=1,s=e;break;default:P3D_EXPLODE_MODE_FREE;n=e,i=e,s=e}var r,l,o;for(let t=0;t<this[a(441)][a(439)];t++)r=(this.m_arrObjectOriPos[t].x-this[a(449)].x)*n,l=(this[a(437)][t].y-this[a(449)].y)*i,o=(this.m_arrObjectOriPos[t].z-this[a(449)].z)*s,vec3.set(this[a(459)],this[a(449)].x+r-this[a(437)][t].x,this[a(449)].y+l-this[a(437)][t].y,this[a(449)].z+o-this.m_arrObjectOriPos[t].z),mat4[a(446)](this[a(458)],IDENTITY_MATRIX,this[a(459)]),mat4[a(453)](g_webglControl.m_arrObjectMatrix[this.m_arrObjIndex[t]],this[a(458)],this[a(440)][t]);return glRunTime.flush(),!0},this.endExplode=function(){var e=_;for(let t=0;t<this.m_arrObjIndex[e(439)];t++)mat4[e(456)](g_webglControl.m_arrObjectMatrix[this[e(441)][t]],this[e(440)][t]);return glRunTime[e(448)](),!0}}!function(e){for(var t=a13_0x5a6d;;)try{if(629966===-parseInt(t(443))-parseInt(t(450))+-parseInt(t(436))*-parseInt(t(460))-parseInt(t(451))+parseInt(t(461))+parseInt(t(455))+parseInt(t(454)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a13_0x4cde);