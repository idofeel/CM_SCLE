"use strict";const a33_0x2cef=["1uoiIJZ","specularB","fragmentTex","convCos","vaPosition","specularG","materialSpecular","TEXTURE_2D","695481OcjIat","envGGXZn","4775LJvvDC","1629973WVqkei","envCos","irrGGXScale","gf3Diffuse","943492HZsjxR","1BHOczm","uniform3f","gf3LightDir","trans","activeTexture","type","envGGXZp","TEXTURE0","ambientR","materialDiffuse","gt2EnvGGXZp","uniform1i","getUniformLocation","irrGGXLodScale","pureColor","1101788mHXubs","vaUV","fIrrGGXScale","gnFragmentTex","gf4EmissiveAndAlpha","convGGX","gmViewProj","uniformLocations","gt2LutGGX","materialAmbient","roughness","83EtVZMx","gt2EnvGGXZn","ambientB","gf3Ambient","uniform1f","ambientG","linear","uniform4f","diffuseR","gf4PureColor","gf3Eye","diffuseG","#version 300 es\nprecision highp float;\nprecision highp int;\nprecision highp sampler2DArray;\n//--------------------------------------------------------------------------- \n#include <comm.glsli>\n#include <shading.glsli>\n#include <env.glsli>\n#include <microfacet.glsli>\n//--------------------------------------------------------------------------- \nin  float2 voUV;\nin  float3 voPosInWorld;\nin  float3 voNorInWorld;\nout float4 poColor;\n//--------------------------------------------------------------------------- \nuniform float3 gf3Eye;\nuniform float3 gf3LightDir;\n//--------------------------------------------------------------------------- \nuniform int       gnFragmentTex;\nuniform sampler2D gt2BaseMap;\nuniform vec4      gf4PureColor;\nuniform float     gfSolidPass;\n//--------------------------------------------------------------------------- \nuniform float gfIrrGGXScale;\nuniform float gfIrrGGXLodScale;\n//--------------------------------------------------------------------------- \nuniform sampler2D gt2LutGGX;\nuniform sampler2D gt2EnvCos;\nuniform sampler2D gt2EnvGGXZp;\nuniform sampler2D gt2EnvGGXZn;\n//--------------------------------------------------------------------------- \nuniform float4 gf4EmissiveAndAlpha;\nuniform float3 gf3Ambient;\nuniform float3 gf3Diffuse; \nuniform float4 gf4SpecularAndRoughness;\n//--------------------------------------------------------------------------- \n#include <forward.glsli>\n//--------------------------------------------------------------------------- \nvoid main()\n{\n    float fAlpha = gf4EmissiveAndAlpha.a;\n\n    if ((gfSolidPass > 0.0f && fAlpha < 1.0f) || (gfSolidPass <= 0.0f && fAlpha >= 1.0f))\n        discard;\n\n    if (gnFragmentTex == 0)\n    {\n        poColor = CleShading(gf4EmissiveAndAlpha, gf3Ambient, gf3Diffuse, gf4SpecularAndRoughness);\n    }\n    else if (gnFragmentTex == 1)\n    {\n        // Load map color\n        float3 vMapColor             = textureLod(gt2BaseMap, voUV, 0.0).rgb;\n        float4 vEmissiveAndAlpha     = float4(gf4EmissiveAndAlpha.rgb * vMapColor, gf4EmissiveAndAlpha.a);\n        float3 vAmbient              = gf3Ambient * vMapColor;\n        float3 vDiffuse              = gf3Diffuse * vMapColor;\n        float4 vSpecularAndRoughness = float4(gf4SpecularAndRoughness.rgb * vMapColor, gf4SpecularAndRoughness.a);\n\n        poColor = CleShading(vEmissiveAndAlpha, vAmbient, vDiffuse, vSpecularAndRoughness);\n    }\n    else\n    {\n        poColor = float4(gf4PureColor.rgb, fAlpha);\n    }\n\n    poColor.rgb = LinearToSRGB(poColor.rgb);\n    poColor.a   = fAlpha;\n}\n//--------------------------------------------------------------------------- ","alpha","gfIrrGGXLodScale","lutGGX","gt2BaseMap","852101KxmmRb","355042WswXhY","gmWorldMatrix","gfSolidPass","getAttribLocation","emissiveR","bindTexture","gf4SpecularAndRoughness","fIrrGGXLodScale"],a33_0x5c3e83=a33_0x4a15;function a33_0x4a15(t,e){return t-=413,a33_0x2cef[t]}!function(e){for(var t=a33_0x4a15;;)try{if(876930===-parseInt(t(449))*-parseInt(t(424))+-parseInt(t(475))*parseInt(t(443))-parseInt(t(441))+parseInt(t(444))+-parseInt(t(464))+-parseInt(t(433))*parseInt(t(425))+parseInt(t(448)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a33_0x2cef);const vsCode="#version 300 es\nprecision highp float;\nprecision highp int;\nprecision highp sampler2D;\n//--------------------------------------------------------------------------- \n#include <comm.glsli>\n//--------------------------------------------------------------------------- \nin  float3 vaPosition;\nin  float3 vaNormal;\nin  float2 vaUV;\nout float3 voPosInWorld;\nout float3 voNorInWorld;\nout float2 voUV;\n//--------------------------------------------------------------------------- \nuniform mat4 gmViewProj;\nuniform mat4 gmWorldMatrix;\nuniform mat4 gmWorldITMatrix;\n//--------------------------------------------------------------------------- \nvoid main()\n{\n    voPosInWorld = (gmWorldMatrix * vec4(vaPosition, 1.0)).xyz;\n    voNorInWorld = (gmWorldITMatrix * vec4(vaNormal, 0.0)).xyz;\n    voUV = vaUV;\n\n    gl_Position = gmViewProj * vec4(voPosInWorld, 1.0f);\n}\n//--------------------------------------------------------------------------- ",psCode=a33_0x5c3e83(419);function initPbrProgramInfo(t){var e=a33_0x5c3e83,a=compileVertexShader(t,vsCode),n=compileFragmentShader(t,psCode),i=link(t,[a,n]);return release(a),release(n),{program:i,attribLocations:{vertexPosition:t[e(428)](i,e(437)),vertexVector:t[e(428)](i,"vaNormal"),vertexUV:t[e(428)](i,e(465))},uniformLocations:{viewProjMatrix:t[e(461)](i,e(470)),worldMatrix:t[e(461)](i,e(426)),worldITMatrix:t[e(461)](i,"gmWorldITMatrix"),eyeLocation:t.getUniformLocation(i,e(417)),lightDir:t.getUniformLocation(i,e(451)),fragmentTex:t[e(461)](i,e(467)),materialDiffuse:t[e(461)](i,e(447)),materialAmbient:t[e(461)](i,e(478)),materialSpecular:t.getUniformLocation(i,e(431)),materialEmissive:t[e(461)](i,e(468)),baseMap:t[e(461)](i,e(423)),pureColor:t.getUniformLocation(i,e(416)),solidPass:t[e(461)](i,e(427)),irrGGXScale:t[e(461)](i,"gfIrrGGXScale"),irrGGXLodScale:t[e(461)](i,e(421)),lutGGX:t[e(461)](i,e(472)),envCos:t[e(461)](i,"gt2EnvCos"),envGGXZp:t[e(461)](i,e(459)),envGGXZn:t.getUniformLocation(i,e(476))}}}function setPbrProgramMaterial(t,e,a,n){var i=a33_0x5c3e83;t.uniform3f(e[i(471)][i(458)],a[i(413)][i(415)],a[i(413)][i(418)],a.linear.diffuseB),t[i(450)](e[i(471)][i(473)],a[i(413)][i(457)],a.linear[i(480)],a[i(413)][i(477)]),t[i(414)](e[i(471)][i(439)],a.linear.specularR,a[i(413)][i(438)],a[i(413)][i(434)],a[i(413)][i(474)]),t[i(414)](e.uniformLocations.materialEmissive,a.linear[i(429)],a.linear.emissiveG,a[i(413)].emissiveB,a[i(420)]*n),a[i(454)]==P3D_MATERIAL_TYPE_MESH_COLOR?t[i(460)](e[i(471)][i(435)],0):a[i(454)]==P3D_MATERIAL_TYPE_MESH_TEXTURE?a.texSlicePos instanceof WebGLTexture?(t.uniform1i(e[i(471)][i(435)],1),t[i(460)](e[i(471)].baseMap,4),t[i(453)](t[i(456)]+4),t.bindTexture(t[i(440)],a.texSlicePos)):t[i(460)](e.uniformLocations.fragmentTex,0):(t[i(460)](e[i(471)].fragmentTex,2),t[i(479)](e.uniformLocations[i(452)],n),t[i(414)](e[i(471)][i(463)],a.r,a.g,a.b,n))}function setPbrProgramGGX(t,e,a,n){var i=a33_0x5c3e83;t[i(460)](e[i(471)][i(422)],0),t[i(453)](t[i(456)]),t[i(430)](t.TEXTURE_2D,a),t[i(479)](e[i(471)][i(446)],n[i(466)]),t.uniform1f(e[i(471)][i(462)],n[i(432)]),t[i(460)](e[i(471)][i(445)],1),t[i(453)](t.TEXTURE0+1),t.bindTexture(t[i(440)],n[i(436)]),t[i(460)](e[i(471)][i(455)],2),t[i(453)](t[i(456)]+2),t[i(430)](t[i(440)],n[i(469)].zp),t[i(460)](e.uniformLocations[i(442)],3),t[i(453)](t[i(456)]+3),t.bindTexture(t[i(440)],n[i(469)].zn)}const a30_0x1613=["fIrrGGXLodScale","RGBA16F","19DzEMml","4454nXfNXr","230819uOsIJz","createTexture2D","fillRawImageTexture","8XafwzQ","RGBA8","116520NfcogK","length","18943XSMzjg","124992pmxhox","776970thaPDb","28837QgvmFI","uMipLevels"];function createEnv(t){return{context:t,texture:null,convCos:null,convGGX:null,fIrrGGXScale:1.2,fIrrGGXLodScale:1}}function createConvGGX(t,e,a){return{zp:t,zn:e,uMipLevels:a}}function loadLutGGXFromRawUrl(a,t,n){const i=a30_0x2731,r=g_texturer[i(178)](a,a.RGBA8,1,1,!0);return syncBufferFromUrl(t,function(t){var e=i;g_texturer[e(179)](a,t,a.RG32F,1024,512,r,0),n&&n()}),r}function a30_0x2731(t,e){return t-=175,a30_0x1613[t]}function loadConvCosFromRawUrl(a,t,n){const i=a30_0x2731,r=g_texturer[i(178)](a,a[i(181)],1,1,!0);return syncBufferFromUrl(t,function(t){var e=i;g_texturer[e(179)](a,t,a[e(190)],1024,512,r,0),n&&n()}),r}function loadConvGGXFromRawUrl(a,t,e,n){const i=a30_0x2731,r=g_texturer[i(178)](a,a.RGBA8,1,1,!0),s=g_texturer[i(178)](a,a[i(181)],1,1,!0);return syncArraybufferFromUrl(t,function(t){g_texturer.fillMipImageTexture(a,t,a.RGBA16F,1024,1024,r);syncArraybufferFromUrl(e,function(t){var e=a30_0x2731;g_texturer.fillMipImageTexture(a,t,a[e(190)],1024,1024,s),n&&n()})}),createConvGGX(r,s,t.length)}function loadPbrEnv(t,e,a,n,i,r){var s=a30_0x2731,o=createEnv(t),l=new Array(a[s(183)]),_=new Array(n[s(183)]);for(let t=0;t<l[s(183)];++t)l[t]=e+a[t],_[t]=e+n[t];return o.convCos=loadConvCosFromRawUrl(t,e+i,r),o.convGGX=loadConvGGXFromRawUrl(t,l,_,r),o[s(189)]=o.convGGX[s(188)]-1,o}!function(e){for(var t=a30_0x2731;;)try{if(139626===-parseInt(t(184))+-parseInt(t(187))*parseInt(t(180))-parseInt(t(185))+parseInt(t(176))*parseInt(t(175))-parseInt(t(177))-parseInt(t(182))+parseInt(t(186)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a30_0x1613);const a67_0x4860=["1826YKrbuX","fromMaterial","DefaultHlAnnot","CyanGreen","23255bPYxob","fromColor","Green","DefaultAnnot","DefaultPmi","Red","clipPlaneMtlGreen","495VNoIIU","248789JsxGGd","Pink","318639Rgwvqy","clipPlaneMtlRed","DarkYellow","DefaultHlPmi","clipPlaneMtlBlue","fromSysMaterial","White","DefaultHlSurface","759399GuAMuO","from","325839rDfUkc","Brightgreen","Blue","Default","169161FCkwum","Ink2","3rREZoK","Black","DarkGrey","DarkBlue","Grey"],g_cmonlineMtlIDBase=(!function(e){for(var t=a67_0x14c9;;)try{if(509870===parseInt(t(240))+parseInt(t(213))+parseInt(t(215))+-parseInt(t(219))+-parseInt(t(230))*parseInt(t(221))+parseInt(t(238))+parseInt(t(226))*-parseInt(t(237)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a67_0x4860),2e5),P3D_MATERIAL_TYPE_MESH_COLOR=0,P3D_MATERIAL_TYPE_MESH_TEXTURE=1,P3D_MATERIAL_TYPE_LINE=2,P3D_MATERIAL_TYPE_PURE_COLOR=3,P3D_SYSTEM_MESH_MTL_NUM=15;var g_newMaterialID=g_cmonlineMtlIDBase,g_materialData=new MeshMaterialData,g_lineMtlData=new LineMaterialData,g_pureColor=new PureColorData;function MeshMaterialData(){var t=a67_0x14c9;this[t(218)]=MeshMaterial[t(210)](-1),this.Red=MeshMaterial.fromSysMaterial(100),this[t(216)]=MeshMaterial.fromSysMaterial(101),this[t(217)]=MeshMaterial[t(210)](102),this.Yellow=MeshMaterial[t(210)](103),this[t(239)]=MeshMaterial.fromSysMaterial(104),this[t(229)]=MeshMaterial[t(210)](105),this[t(222)]=MeshMaterial[t(210)](106),this.White=MeshMaterial.fromSysMaterial(107),this[t(225)]=MeshMaterial.fromSysMaterial(108),this.DarkRed=MeshMaterial[t(210)](109),this[t(232)]=MeshMaterial[t(210)](110),this[t(224)]=MeshMaterial[t(210)](111),this[t(207)]=MeshMaterial.fromSysMaterial(112),this.Violet=MeshMaterial[t(210)](113),this.CyanBlue=MeshMaterial[t(210)](114),this.Ink=MeshMaterial[t(227)](float3[t(214)](.46,.46,.46),float3[t(214)](.5,.5,.5),float3[t(214)](.5,.5,.5),float3.from(.314,.314,.314),1,10),this[t(220)]=MeshMaterial[t(227)](float3[t(214)](.156863,.156863,.156863),float3[t(214)](.87451,.87451,.87451),float3[t(214)](.847059,.847059,.847059),float3[t(214)](1,1,1),1,10),this.DefaultHlPart=MeshMaterial[t(210)](150),this[t(212)]=MeshMaterial[t(210)](151)}function PureColorData(){var t=a67_0x14c9;this[t(211)]=PureColor.fromSysMaterial(303),this[t(228)]=PureColor.fromSysMaterial(310)}function a67_0x14c9(t,e){return t-=207,a67_0x4860[t]}function LineMaterialData(){var t=a67_0x14c9;this[t(235)]=LineMaterial[t(210)](200),this[t(216)]=LineMaterial[t(210)](201),this.CyanBlue=LineMaterial[t(210)](202),this[t(207)]=LineMaterial[t(210)](203),this[t(225)]=LineMaterial[t(210)](204),this[t(223)]=LineMaterial[t(210)](205),this[t(208)]=LineMaterial[t(210)](210),this[t(234)]=LineMaterial[t(210)](211),this[t(233)]=LineMaterial.fromSysMaterial(212)}function PlaneMaterialData(){var t=a67_0x14c9;this[t(241)]=PureColor.fromSysMaterial(300),this[t(236)]=PureColor[t(210)](301),this[t(209)]=PureColor[t(210)](302)}function ConvertColorToMaterial(t,e,a,n){return 1<(t=t<0?0:t)&&(t=1),1<(e=e<0?0:e)&&(e=1),1<(a=a<0?0:a)&&(a=1),1<(n=n<0?0:n)&&(n=1),MeshMaterial[a67_0x14c9(231)](t,e,a,n)}var a20_0x5040=["draw3D","34315xCIMXJ","ePan","133884dpAFaQ","1LzUgDF","fAspect","_fInterocularDistance","179379yfKRTs","41579FyBgby","eRotPos","eRotDir","lockUpAxis","rotPos","from","721113dHpmLr","8CHaxyc","216956ByvVII","fromCleCamera","7dspnPV","desc","_fFOVY","flush","zoomWithMouseWheel","_onTick","updateDesc","1619tABNxt","setControl","max","3fnvZWN","isCompleted","selfRotateAnimRun()"],a20_0x33fd3c=a20_0x3489,g_camera=(!function(e){for(var t=a20_0x3489;;)try{if(285578===parseInt(t(123))*parseInt(t(137))-parseInt(t(121))+parseInt(t(130))*-parseInt(t(120))+-parseInt(t(133))*parseInt(t(112))+parseInt(t(140))*-parseInt(t(113))+parseInt(t(139))+parseInt(t(119)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a20_0x5040),null),g_cameraController=null,g_cameraDesc=null,g_cameraTweener=null,g_fElapseTimeInSeconds=null,g_selfRotateHandle=null,g_selfRotateElapse=30,g_selfRotateDelta=float2[a20_0x33fd3c(118)](-1,0),g_isCameraAnimMode=!0;function shiftViewOnTick(e){var a=a20_0x33fd3c;if(null==g_cameraTweener)g_render._onTick=null,g_fElapseTimeInSeconds=null;else{let t=0;null!=g_fElapseTimeInSeconds&&(t=e-g_fElapseTimeInSeconds,t=Math[a(132)](t,0),t*=.001),g_fElapseTimeInSeconds=e,0==CameraTweener[a(134)](g_cameraTweener)&&(CameraTweener.tick(g_cameraTweener,t),Camera[a(129)](g_camera,g_cameraTweener.desc),glRunTime.flush()),0==CameraTweener[a(134)](g_cameraTweener)?window.requestAnimationFrame(function(t){shiftViewOnTick(t)}):g_cameraTweener=null}}function shiftViewAnim(t,e){var a=a20_0x33fd3c;g_isCameraAnimMode?(g_cameraTweener=CameraTweener.make(g_camera[a(124)],t,e),g_fElapseTimeInSeconds=null,g_render[a(128)]=shiftViewOnTick,glRunTime.flush()):(Camera.updateDesc(g_camera,t),glRunTime[a(126)]())}function enableCameraAnimation(t){g_isCameraAnimMode=!!t}function selfRotateAnimRun(){var t=a20_0x33fd3c;CameraController[t(117)](g_cameraController,g_camera,g_selfRotateDelta),glRunTime[t(126)](),g_selfRotateHandle=setTimeout(t(135),g_selfRotateElapse)}function selfRotateAnimStop(){null!=g_selfRotateHandle&&clearTimeout(g_selfRotateHandle),g_selfRotateHandle=null}function setCameraControlMode(t){var e=a20_0x33fd3c;0==t?(selfRotateAnimStop(),CameraController[e(131)](g_cameraController,CameraController[e(114)])):1==t?(CameraController[e(116)](g_cameraController,g_sceneConfig._upAxis),CameraController[e(131)](g_cameraController,CameraController[e(114)]),selfRotateAnimRun()):2==t?(selfRotateAnimStop(),CameraController[e(131)](g_cameraController,CameraController[e(138)])):3==t?(selfRotateAnimStop(),CameraController[e(131)](g_cameraController,CameraController.eRotDir)):4==t?(selfRotateAnimStop(),CameraController.setControl(g_cameraController,CameraController[e(115)])):5==t&&(selfRotateAnimStop(),CameraController[e(131)](g_cameraController,CameraController[e(115)]))}function getCameraCurView(){var t=a20_0x33fd3c,e=new P3D_CAMERA;return Common.exportToCleCamera(e,g_camera[t(124)]),e[t(125)]=g_camera[t(124)].fFOVInRadian,e._fAspect=g_camera.desc.fAspect,e[t(111)]=0,e}function setCameraCurView(t){var e=a20_0x33fd3c;return Common[e(122)](g_cameraDesc,t),g_cameraDesc[e(110)]=g_camera[e(124)][e(110)],Camera[e(129)](g_camera,g_cameraDesc),glRunTime[e(136)](),!0}function a20_0x3489(t,e){return a20_0x5040[t-=110]}function setCameraRotate(t,e,a){var n=a20_0x33fd3c,t=float2[n(118)](-t,e);CameraController.rotate(g_cameraController,g_camera,CameraController[n(114)],t),glRunTime[n(136)]()}function setCameraZoom(t){var e=a20_0x33fd3c;CameraController[e(127)](g_cameraController,g_camera,t),glRunTime[e(136)]()}function setCameraSlide(t,e){var a=a20_0x33fd3c,t=float2[a(118)](-t,e);CameraController.pan(g_cameraController,g_camera,t),glRunTime[a(136)]()}const a62_0xee79=["isCaptureGeomtry","vEye","move","_uRequestRender","userDefColor","push","getObjectModelIndex","normal","translate","HEIGHT","_arrNodeParameters","deleteScleModel","fFOVInRadian","clearObjectMaterialById","enableCaptureObject","projectionMatInverse","onceLoadScleModel","getObjectWindowCenterByIndex","_productInfo","make","digitalLocalMat","max","ObjectRotatematrix","_arrPartLODData","Clone","getObjectBoxById","fSensRot","setViewport","WIDTH","doPick","_uElapseTimeMillSec","RayPoint2","dst","msaaChangeed","clear","pickModelTreeNode","endLoadModel","splice","ray_clip_far","GLAnnotData","captureUnit","renderPixel","clearPmi","importMaterialData","setSceneLightOn","setObjectVisible","captureGeomtry","captureHlType","_boxset","setObjectSurfaceMaterial","curPickUnit","setFocusOnObject","objectMoveWindow","pickMultObjectByIndexs","initRuntimeParams","1608670engjtc","_uPickType","normalize","cvtWebGLPtToScreen","441rgkrby","uninit","PointNDCCenter","pickPmi","setObjectEnhancedDisplayByTreeId","deletePartBuffer","home","setObjectSurfaceMaterialById","getPickUnit","setCaptureFilter","m_defEyePos","cos","deletePartData","clearBuffers","mapObjectIDIndex","basis unversal not support","setMultObjectVisible","clearObjectMaterial","defaultHlSurface","GLModelTreeNode","deleteObjectMeshMaterialUnitByIndex","m_defUpAxis","initScene","setCaptureHighlight","_uPrimitType","_unit","setObjectOriWorldMatrix","setObjectSurfaceMaterialByIndex","fromCleCamera","setObjectMaterialTexture2D","RayPoint1","isPickGeomSurface","isShowImageBk","getCanvasPosByModelPos","objectRotateWorldUpdate","clearMap","_arrObjectSet","_DefaultCamera","ray_nds_far","setObjectsPickedByIds","setSurfaceMaterialMode","CopyExcludeSystem","getObjectVisible","isOnceLoad","setObjectMaterialTextureBasis","213bUIDsA","objectIndex","getMaterialIndexById","GetMaterialInfo","getWebglExtension","getObjectMetialList","clearSection","pickNone","m_arrBgTexId","_oPickUnit","objectSetMoveWorld","startScelModel","_strName","curRuntimeMode","setObjectVisibleByIndexs","setSceneLightPosition","doGetPickMeasureIndex","getObjectModelId","DefaultHlSurface","shiftView","getObjectCenterByIndex","setSceneLightPower","fNear","getObjectCenterById","_uPartID","setHighlight","render","set","getTreeNodeSubObjectID","ObjectMoveCenterEnd","setSubObjectMoveByTreeId","setModelCenter","Reset","m_defFocus","identity","draw3D","getSubObjectsByTreeId","pickModelByIndexs","vAt","objectMoveWorldFinish","_eMtlType","setObjectMaterialById","pickMeasureMode","initSurfaceGLData","_uTreeNodeID","inverseMVPMatrix","getBoundingClientRect","top","pickIndexs","ObjectOriginalCenter","flush2D","eRotPos","pickByRay","makeDesc","m_fModelLength","importObjectData","fromScaling","curObjectCenter","high","pickObjectIndex","clearCommon","clearObjectSurfaceMaterial","setControl","createUrlRgbaTexture","getObjectModelMatrix","createCompressedTexture","draw","pickFilter","MVPMatrix","setBoxShow","_matWorld","setObjectSurfaceMaterialIndex","mapMeshIDIndex","_Vertex","getObjectParamsByID","getRectSelectionStatus","ObjectStartFlag","isDuringRectSel","objectRotateWorldFinish","recorderViewImage","curModelCenter","getTreeNodeById","_uObjectID","addBackground","importScleModel","getObjectIndexById","setPickFilter","digitalWorldMat","add","pick","initCanvasView","uninitSection","_onTick","requestAnimationFrame","_nPrimitType","getObjectNameByID","ObjectStartmatrix","uninitRender","elementType","clearGLData","_ObjectBox","fromValues","objectMoveWorldStart","resetGLData","_uIsUV","min","distance","setObjectTransparent","m_arrObjectMaterial","wasmInit","ClearCache","rotate","m_arrObjectTransparent","pickMeasureUintByRay","DefaultHlPart","ray_world_far","1vxdpxf","length","arrPickObjectIndexs","digitalMultiplyMat","curMoveVec","getObjectTransparent","current loader is not slice mode","setObjectMeshMaterialUnitByPart","1696966pySpGW","getMaterialById","ray_clip_near","width","initCamera","updatePartData","initGLData","init","objectMoveWorldUpdate","resetObjectSurfaceHighlightMaterial","renderPixelMSAA","_arrSurfaceMaterialIndex","PARTLODDATA","setSelectedShow","setObjectEnhancedDisplayById","getObjectIdByIndex","selRect","log","ObjectMovematrix","tcFormat","uID","isContainsGeom","intersectRayScene","_SurfaceBoxes","setMutiSample","_arrSubNode","setObjectTransparentByIndex","enableCaptureGeomtry","setObjectEnhancedDisplayByIndex","vecLightType","m_BgColor","Clear","fromCleVec3","setObjectMaterial","objectMoveWorld","left","doMeasureAction","_uObjectTag","defaultHlPart","getPickObjectIdByIndex","getObjectWorldCenterByIndex","getObjectSurfacesNum","setBackground","surfaceIndex","GLSceneConfig","m_bgType","_uMtlID","draw2D","multiply","pickModelByRect","cvtScreenToWorld","_uObjectIndex","_arrTexID","updateDesc","setSurfaceMaterial","m_arrObjectMatrix","ray_world_near","resetScene","transformMat4","initSceneBox","m_bgIndex","_MtlData","pickUnit","getPickObjectIds","initRender","desc","_vFocus","flush","create","mViewProj","_arrMaterialSet","1778979VTMFlU","curRotateVec","uninitScene","_nFillMode","setPickFilterByMode","setObjectModelMatrixPicked","1075885jGnkUO","setViewParam","pcLightPower","initViewPort","_fFOVY","GLMatertalSet","initBuffers","vUp","_arrPartSet","assignDesc","mViewProjI","uninitBuffers","arrModelData","cvtScreenPtToWebGL","_uPartIndex","getObjectTreeIDByID","getTreeNodeSubObjectIndex","isObjectInRect","m_arrObjectVisiable","_CurveShape","src","mapMaterialIDIndex","2451771uHHZqR","copy","cvtCMOnlineToWorld","fAspect","ray_nds_near","cvtWorldToCMOnline","deleteObjectData","lockUpAxis","m_modelBox","uninitGLData","GLPmiSet","setRectSelection","importPartData","850947msqPPN","webglRect","_SurfaceShape","setHighlightShow","initOperationParams","Copy","Center2D","_uPartTag","moveModelCenter","isCaptureObject","clearScene","ObjectMoveCenterStart","getPickedIndex"];!function(e){for(var t=a62_0x3619;;)try{if(892093===-parseInt(t(657))*parseInt(t(612))-parseInt(t(540))-parseInt(t(608))+parseInt(t(420))*parseInt(t(505))-parseInt(t(499))+parseInt(t(428))+parseInt(t(527)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a62_0xee79);var g_GLData=null,g_GLObjectSet=null,g_GLPartSet=null,g_GLMaterialSet=null,g_GLAnnoSet=null,g_GLCameraSet=null,g_GLPmiSet=null,g_glprogram=null,g_webgl=null,g_buffers=null,g_webglControl=null,g_canvas=null,g_xmlTool=null,g_sceneConfig=null,g_sceneMeasure=null,g_sceneAnnotation=null,g_sceneSection=null,g_scenePmiManager=null,g_render=null,g_axisNvg=null,g_objectAxisNvg=null,g_sceneExploder=null,g_isInitRender=!1;const BASE_IMPORT_TAG=100;var g_importTag=BASE_IMPORT_TAG;const RUNTIME_MODE_NORMAL=-1,RUNTIME_MODE_ANNOTATION=0,RUNTIME_MODE_MEASURE=1,RUNTIME_MODE_SECTION=2,RUNTIME_MODE_PMI=3,RUNTIME_RENDER_STOP=0,RUNTIME_RENDER_GO=1,ANIM_FRAME_STEP=30,SCENE_DEFAULT_ROT_SENS=3;function a62_0x3619(t,e){return t-=323,a62_0xee79[t]}function RunTimePickUnit(){const e=a62_0x3619;this[e(609)]=-2,this[e(666)]=null,this[e(459)]=function(){var t=e;this[t(609)]=-2,this[t(666)]=null}}function RunTimeRender(){const e=a62_0x3619;this[e(556)]=!1,this[e(583)]=0,this._onTick=null,this[e(459)]=function(){var t=e;this._uRequestRender=!1,this[t(583)]=0}}function GLRunTime(){const u=a62_0x3619;this[u(581)]=0,this[u(562)]=0,this[u(358)]=1,this.m_fOperateSensitivity=1,this[u(535)]=new Box3D,this[u(337)]=new Point3(0,0,0),this[u(622)]=new Point3(0,0,0),this[u(633)]=new Point3(0,0,0),this[u(531)]=vec3[u(496)](),this.ray_nds_far=vec3.create(),this.ray_clip_near=vec4[u(496)](),this.ray_clip_far=vec4.create(),this.viewMatInverse=mat4[u(496)](),this[u(568)]=mat4[u(496)](),this.MMatrix=mat4[u(496)](),this.VPMatrix=mat4[u(496)](),this[u(372)]=mat4.create(),this[u(349)]=mat4[u(496)](),this[u(484)]=vec4[u(496)](),this.ray_world_far=vec4[u(496)](),this[u(642)]=new Point3(0,0,0),this.RayPoint2=new Point3(0,0,0),this[u(353)]=new Point3(0,0,0),this[u(614)]=new Point3(0,0,0),this[u(551)]=new Point3(0,0,0),this.ObjectMoveCenterEnd=new Point3(0,0,0),this[u(446)]=mat4[u(496)](),this[u(575)]=mat4[u(496)](),this[u(400)]=mat4[u(496)](),this[u(380)]=0,this[u(424)]=vec3.create(),this[u(500)]=vec3[u(496)](),this[u(384)]=new Point3(0,0,0),this[u(361)]=new Point3(0,0,0),this[u(352)]=new Array,this[u(541)]=new Rect2D(0,0,0,0),this[u(549)]=!1,this.isCaptureGeomtry=!1,this[u(371)]=new GL_PICK_FILTER,this[u(593)]=new GL_PICK_UNIT,this[u(600)]=P3D_CAPTURE_NONE,this[u(573)]=mat4[u(496)](),this.digitalWorldMat=mat4[u(496)](),this[u(423)]=mat4[u(496)](),this.isOnceLoad=!1,this[u(670)]=-1,this[u(603)]=new RunTimePickUnit,this[u(626)]=null,this[u(376)]=null,this[u(526)]=null,this[u(492)]=function(){var t=u;g_isWebgl2?(null==g_buffers&&(g_buffers=new WebGL2Buffer(gl)),null==g_webgl&&(g_webgl=new WebGL2RenderTarget(gl))):(null==g_buffers&&(g_buffers=new WebGL1Buffer(gl)),null==g_webgl&&(g_webgl=new WebGL1(gl))),null==g_glprogram&&(g_glprogram=new GLProgram),null==g_canvas&&(g_canvas=new Canvas2D),null==g_webglControl&&(g_webglControl=new WebGLControl(gl)),null==g_sceneMeasure&&(g_sceneMeasure=new SceneMeasure),null==g_sceneAnnotation&&(g_sceneAnnotation=new SceneAnnotation),null==g_sceneSection&&(g_sceneSection=new SceneSection),null==g_scenePmiManager&&(g_scenePmiManager=new ScenePmiManager),null==g_render&&(g_render=new RunTimeRender),null==g_texBasisu&&(g_texBasisu=new TexturerBasisu(gl))[t(661)](),null==g_sceneExploder&&(g_sceneExploder=new SceneExplode),null==g_camera&&(g_camera=Camera[t(572)](),g_cameraController=CameraController[t(572)](),g_cameraDesc=Camera[t(357)](),g_cameraController[t(579)]=SCENE_DEFAULT_ROT_SENS),this[t(607)](),this.initMap(),g_glprogram[t(434)](),g_webgl[t(634)](),g_buffers[t(511)](),g_canvas[t(394)](this.WIDTH,this[t(562)]),g_isInitRender=!0},this[u(401)]=function(){var t=u;null!=g_sceneAnnotation&&g_sceneAnnotation[t(613)](),null!=g_sceneMeasure&&g_sceneMeasure[t(613)](),null!=g_sceneSection&&g_sceneSection[t(395)](),null!=g_glprogram&&g_glprogram[t(536)](),null!=g_scenePmiManager&&g_scenePmiManager[t(613)](),null!=g_webgl&&g_webgl[t(501)](),null!=g_buffers&&g_buffers[t(516)](),this[t(364)](),g_sceneAnnotation=g_sceneMeasure=g_buffers=g_webgl=g_sceneSection=g_glprogram=null},this[u(587)]=function(){var t=u;null!=g_sceneAnnotation&&g_sceneAnnotation.uninit(),null!=g_sceneMeasure&&g_sceneMeasure[t(613)](),null!=g_sceneSection&&g_sceneSection[t(663)](),null!=g_glprogram&&g_glprogram[t(403)](),null!=g_scenePmiManager&&g_scenePmiManager[t(595)](),null!=g_webgl&&g_webgl[t(550)](),null!=g_buffers&&g_buffers[t(625)](),this[t(364)]()},this[u(364)]=function(){var t=u;null!=g_GLObjectSet&&g_GLObjectSet[t(459)](),null!=g_GLPartSet&&g_GLPartSet[t(459)](),null!=g_GLMaterialSet&&g_GLMaterialSet[t(459)](),null!=g_GLAnnoSet&&g_GLAnnoSet[t(459)](),null!=g_GLCameraSet&&g_GLCameraSet[t(459)](),this.clearMap(),g_sceneExploder=g_scenePmiManager=g_GLData=null,g_isInitRender=!1},this[u(647)]=function(){var t=u;null!=this.mapObjectIDIndex&&this[t(626)][t(590)](0,this.mapObjectIDIndex[t(421)]),null!=this.mapMeshIDIndex&&this.mapMeshIDIndex[t(590)](0,this[t(376)][t(421)]),null!=this.mapMaterialIDIndex&&this.mapMaterialIDIndex[t(590)](0,this[t(526)][t(421)]),this[t(626)]=null,this[t(376)]=null,this[t(526)]=null},this.reset=function(){var t=u;this[t(607)](),g_glprogram[t(407)](),g_webgl[t(485)](),g_canvas[t(394)](this[t(581)],this[t(562)])},this.initRuntimeParams=function(){var t=u;this[t(581)]=getContextWidth(gl),this[t(562)]=getContextHeight(gl),null==g_GLData&&(g_GLData=Cle2Data(),g_GLObjectSet=g_GLData.GLObjectSet,g_GLMaterialSet=g_GLData[t(510)],g_GLAnnoSet=g_GLData[t(592)],g_sceneConfig=g_GLData[t(472)],g_GLCameraSet=g_GLData.GLCamera,g_GLPmiSet=g_GLData[t(537)]),null==g_webglControl[t(665)]&&(g_webglControl[t(488)]=g_bgImageIndex,g_webglControl.m_arrBgTexId=new Array(g_bgImage.length),GetDefaultBgImg(g_webglControl.m_arrBgTexId,g_bgImage.length))},this.initMap=function(){var e=u;this.mapObjectIDIndex=new Array;for(let t=0;t<g_GLObjectSet[e(648)].length;++t)this[e(626)][g_GLObjectSet._arrObjectSet[t][e(386)]]=t;this[e(526)]=new Array;for(let t=0;t<g_GLMaterialSet[e(498)][e(421)];++t)this[e(526)][g_GLMaterialSet._arrMaterialSet[t].uID]=t},this.initCamera=function(){var t=u,e=web3dCanvas[t(350)]();this[t(581)]=e[t(431)],this.HEIGHT=e.height,1e-4<g_GLCameraSet[t(649)][t(509)]?(this[t(353)].x=g_GLCameraSet[t(649)]._vFocus.x,this[t(353)].y=g_GLCameraSet[t(649)][t(494)].y,this[t(353)].z=g_GLCameraSet[t(649)][t(494)].z,Common[t(640)](g_cameraDesc,g_GLCameraSet[t(649)]),g_cameraDesc[t(530)]=this.WIDTH/this.HEIGHT,Camera.updateDesc(g_camera,g_cameraDesc),Camera[t(580)](g_camera,this[t(581)],this[t(562)],web3dCanvas[t(463)],web3dCanvas[t(351)])):(getModelBoxCenter(this[t(535)],this[t(353)]),g_glprogram[t(335)](this[t(353)]),getModelDefEyePos(this[t(535)],this[t(622)],this[t(337)],this[t(633)]),Common[t(460)](g_cameraDesc[t(554)],this.m_defEyePos),Common[t(460)](g_cameraDesc[t(342)],this[t(337)]),Common[t(460)](g_cameraDesc[t(512)],this[t(633)]),g_cameraDesc[t(530)]=this.WIDTH/this[t(562)],e=float3[t(410)](g_cameraDesc.vEye,g_cameraDesc[t(342)]),g_cameraDesc[t(326)]=.02*e,g_cameraDesc.fFar=200*e,g_cameraDesc[t(565)]=45*Math.PI/180,Camera[t(481)](g_camera,g_cameraDesc),Camera.setViewport(g_camera,this.WIDTH,this[t(562)],web3dCanvas.left,web3dCanvas[t(351)])),CameraController[t(534)](g_cameraController,g_sceneConfig._upAxis),CameraController[t(366)](g_cameraController,CameraController[t(355)])},this[u(487)]=function(){var t=u;this[t(655)]?this[t(535)]=getModelBox(g_GLObjectSet,g_GLPartSet):this[t(535)]=getSliceScleBox(g_GLObjectSet,g_sceneData.arrModelData)},this[u(544)]=function(){var t=u;this[t(358)]=getModelBoxLength(this[t(535)])},this[u(495)]=function(){const a=u;g_isInitRender&&0==g_render[a(556)]&&(window[a(397)](function(t){var e=a;null!=gl&&g_webgl.render(),null!=gl2d&&g_canvas[e(370)](),updateNvgCamera(g_camera),null!=g_render[e(396)]&&g_render[e(396)](t),g_render[e(556)]=!1}),g_render[a(556)]=!0)},this[u(354)]=function(){const a=u;0==g_render._uRequestRender&&(window[a(397)](function(t){var e=a;null!=gl2d&&g_canvas.draw(),null!=g_render[e(396)]&&g_render[e(396)](t),g_render[e(556)]=!1}),g_render[a(556)]=!0)},this[u(339)]=function(){var t=u;null!=gl&&g_webgl[t(330)]()},this[u(475)]=function(){var t=u;null!=gl2d&&g_canvas[t(370)]()},this.resetWindow=function(t,e){var a=u;this[a(581)]=t,this[a(562)]=e,Camera[a(580)](g_camera,t,e,web3dCanvas[a(463)],web3dCanvas[a(351)]),g_webgl[a(508)](),g_canvas[a(394)](this.WIDTH,this.HEIGHT),this[a(495)]()},this[u(555)]=function(t,e){var a=u,t=(getModelBoxCenter(this[a(535)],this[a(384)]),CalTranslatePoint(this[a(384)].x,this[a(384)].y,this[a(384)].z,g_camera[a(497)],this.PointNDCCenter),-t/this.WIDTH),e=-e/this[a(562)],t=(CalTranslatePoint(0,0,this[a(614)].z,g_camera.mViewProjI,this.ObjectMoveCenterStart),CalTranslatePoint(t,e,this.PointNDCCenter.z,g_camera[a(515)],this[a(333)]),this[a(384)].x=this[a(333)].x-this[a(551)].x,this.curModelCenter.y=this.ObjectMoveCenterEnd.y-this.ObjectMoveCenterStart.y,this.curModelCenter.z=this.ObjectMoveCenterEnd.z-this[a(551)].z,g_glprogram[a(548)](this.curModelCenter),float3[a(572)]()),e=(float3.set(t,this.curModelCenter.x,this[a(384)].y,this[a(384)].z),float3[a(392)](null,g_camera[a(493)][a(554)],t)),t=float3.add(null,g_camera[a(493)][a(342)],t);Camera[a(506)](g_camera,e,t,null),this[a(495)]()},this[u(605)]=function(t,e,a){var n=u,i=g_glprogram.getObjectModelMatrix(t),t=g_GLObjectSet[n(648)][t][n(519)],t=(getModelBoxCenter(g_GLPartSet[n(513)][t][n(576)][0]._boxset[n(404)],this[n(384)]),mat4[n(476)](this.MVPMatrix,g_camera[n(497)],i),CalTranslatePoint(this[n(384)].x,this[n(384)].y,this.curModelCenter.z,this[n(372)],this[n(614)]),e/this[n(581)]),i=a/this[n(562)];CalTranslatePoint(0,0,this[n(614)].z,g_camera.mViewProjI,this[n(551)]),CalTranslatePoint(t,i,this[n(614)].z,g_camera[n(515)],this.ObjectMoveCenterEnd),mat4[n(338)](this[n(446)]),mat4[n(561)](this.ObjectMovematrix,this[n(446)],vec3[n(405)](this[n(333)].x-this[n(551)].x,this[n(333)].y-this[n(551)].y,this[n(333)].z-this[n(551)].z)),g_glprogram[n(504)](this.ObjectMovematrix),this[n(495)]()},this[u(462)]=function(t,e,a,n){var i=u;vec3[i(331)](this.curMoveVec,e,a,n),this[i(400)]=g_webglControl.m_arrObjectMatrix[t],mat4[i(561)](this[i(446)],IDENTITY_MATRIX,this[i(424)]),mat4.multiply(g_webglControl[i(483)][t],this[i(446)],this[i(400)]),this[i(495)]()},this[u(406)]=function(t,e,a,n){var i=u;this[i(551)][i(331)](e,a,n),mat4[i(528)](this[i(400)],g_webglControl[i(483)][t]),this[i(380)]=1},this[u(436)]=function(t,e,a,n){var i=u;0!=this[i(380)]&&(vec3.set(this[i(424)],e-this[i(551)].x,a-this[i(551)].y,n-this[i(551)].z),mat4[i(561)](this[i(446)],IDENTITY_MATRIX,this.curMoveVec),mat4[i(476)](g_webglControl[i(483)][t],this[i(446)],this[i(400)]),this[i(495)]())},this[u(343)]=function(){var t=u;mat4[t(338)](this[t(400)]),this[t(380)]=0,this[t(354)]()},this.objectRotateWorldStart=function(t){var e=u;mat4[e(528)](this[e(400)],g_webglControl[e(483)][t]),this.ObjectStartFlag=1},this[u(646)]=function(t,e,a){var n=u;0!=this[n(380)]&&(vec3[n(331)](this[n(500)],e.x,e.y,e.z),mat4[n(415)](g_webglControl.m_arrObjectMatrix[t],this[n(400)],a,this[n(500)]),this[n(495)]())},this[u(382)]=function(){var t=u;mat4[t(338)](this.ObjectStartmatrix),this[t(380)]=0,this[t(354)]()},this[u(667)]=function(t,e,a,n){var i=u,r=getPublicModelBox(g_GLObjectSet,g_GLPartSet,t,g_webglControl.m_arrObjectMatrix);getModelBoxCenter(r,this[i(384)]),mat4[i(338)](this.ObjectMovematrix),mat4[i(561)](this[i(446)],this[i(446)],vec3[i(405)](e,a,n)),g_glprogram.setObjectMatrixTranslate(t,this[i(446)]),this.flush()},this.setBoxShow=function(t){var e=u;g_glprogram[e(373)](t),this[e(339)]()},this[u(329)]=function(t){var e=u;g_glprogram[e(543)](t),this[e(339)]()},this[u(441)]=function(t){var e=u;g_glprogram[e(373)](t),g_glprogram[e(543)](t),this.draw3D()},this[u(478)]=function(t,e,a,n){var i=u,t=2*t/this[i(581)]-1,e=1-2*e/this[i(562)];this.ray_nds_near[0]=t,this.ray_nds_near[1]=e,this[i(531)][2]=-1,this[i(650)][0]=t,this[i(650)][1]=e,this[i(650)][2]=1,this.ray_clip_near[0]=this[i(531)][0],this[i(430)][1]=this[i(531)][1],this[i(430)][2]=this[i(531)][2],this[i(430)][3]=1,this[i(591)][0]=this[i(650)][0],this[i(591)][1]=this[i(650)][1],this[i(591)][2]=this[i(650)][2],this.ray_clip_far[3]=1,vec4[i(486)](this.ray_world_near,this[i(430)],g_camera.mViewProjI),vec4[i(486)](this[i(419)],this[i(591)],g_camera[i(515)]),0!=this[i(484)][3]&&(this[i(484)][0]/=this.ray_world_near[3],this.ray_world_near[1]/=this[i(484)][3],this[i(484)][2]/=this[i(484)][3]),0!=this[i(419)][3]&&(this.ray_world_far[0]/=this.ray_world_far[3],this.ray_world_far[1]/=this.ray_world_far[3],this[i(419)][2]/=this[i(419)][3]),a.x=this[i(484)][0],a.y=this[i(484)][1],a.z=this[i(484)][2],n.x=this[i(419)][0],n.y=this[i(419)][1],n.z=this[i(419)][2]},this[u(529)]=function(t,e){var a=u;CalTranslatePoint(t.x,t.y,t.z,g_webglControl[a(483)][e],t)},this[u(532)]=function(t,e){var a,n=u;-1<e&&(a=new Point3(t.x,t.y,t.z),CalInversePoint(a,g_webglControl[n(483)][e],t))},this[u(611)]=function(t,e){var a=u;e.x=(t.x+1)/2*this[a(581)],e.y=(1-t.y)/2*this[a(562)]},this[u(518)]=function(t,e){var a=u;e.x=t.x/this.WIDTH*2-1,e.y=1-t.y/this[a(562)]*2},this[u(645)]=function(t,e){t=g_canvas.cvtModelToScreen(t,e);return{x:(t.x+1)/2,y:(1-t.y)/2}},this[u(393)]=function(t,e,a,n){var i=u;if(this[i(670)]==RUNTIME_MODE_MEASURE){this.curPickUnit[i(609)]=RUNTIME_MODE_MEASURE;var r=g_sceneMeasure[i(673)](t,e);if(-1<r)return this[i(603)]._oPickUnit=r,this[i(603)]}return this[i(670)]==RUNTIME_MODE_PMI&&(this[i(603)][i(609)]=RUNTIME_MODE_PMI,this[i(603)][i(666)]=g_scenePmiManager[i(615)](t,e,a,n),null!=this[i(603)][i(666)])?(g_glprogram[i(664)](),this.curPickUnit):(this[i(478)](t,e,this[i(642)],this.RayPoint2),this[i(670)]!=RUNTIME_MODE_SECTION?(glRunTime[i(549)]||glRunTime[i(553)]?(this.curPickUnit[i(666)]=this.captureUnit,n&&g_glprogram[i(582)](this.captureUnit,a)):this[i(603)]._oPickUnit=g_glprogram[i(356)](this[i(642)],this[i(584)],a,n),-1<this[i(603)]._oPickUnit[i(658)]?(this.curPickUnit._uPickType=RUNTIME_MODE_NORMAL,1==g_sceneMeasure[i(346)]&&1==g_webglControl[i(449)]&&(this[i(603)][i(609)]=RUNTIME_MODE_MEASURE,g_sceneMeasure[i(464)](this[i(603)][i(666)]))):this[i(603)][i(459)](),this[i(495)](),this[i(603)]):void this[i(603)][i(459)]())},this[u(363)]=function(t,e,a,n){var i=u,t=this[i(393)](t,e,a,n);return null==t||null==t[i(666)]?-1:t[i(666)][i(658)]},this[u(341)]=function(t){var e=u;null==t||t[e(421)]<1||(g_glprogram[e(606)](t),this.draw3D())},this.pickModelByIDs=function(a){var n=u;if(null==a||a[n(421)]<1)g_glprogram.pickNone(),this.draw3D();else{var i=new Array;for(let e=0;e<a[n(421)];++e)for(let t=0;t<g_GLObjectSet[n(648)][n(421)];++t)if(g_GLObjectSet._arrObjectSet[t][n(386)]==a[e]){i[n(558)](t);break}this[n(341)](i),this[n(339)]()}},this.getPickStatus=function(){return g_glprogram.getPickStatus()},this.getPickObjectIndexs=function(){var t=u;return g_glprogram[t(552)]()},this[u(491)]=function(){var e=u,a=new Array,n=g_glprogram.getPickedIndex();for(let t=0;t<n[e(421)];t++)a[e(558)](g_GLObjectSet[e(648)][n[t]][e(386)]);return a},this[u(467)]=function(t){var e=u;return t<0||t>=g_GLObjectSet[e(648)][e(421)]?null:g_GLObjectSet[e(648)][t][e(386)]},this[u(477)]=function(t){var e=u,a=(t[e(610)](),this[e(518)](t[e(409)],this[e(541)][e(409)]),this[e(518)](t[e(574)],this[e(541)][e(574)]),this[e(541)][e(610)](),new Array);for(let t=0;t<g_GLObjectSet[e(648)][e(421)];++t){var n=g_GLObjectSet[e(648)][t]._uPartIndex;mat4.multiply(this[e(372)],g_camera[e(497)],g_glprogram[e(368)](t)),g_glprogram[e(522)](g_GLPartSet[e(513)][n][e(576)][0],this.MVPMatrix,this[e(541)])&&a[e(558)](t)}return this[e(341)](a)},this[u(620)]=function(){var t=u;return g_glprogram[t(490)]},this.getObjectIndexById=function(t){t=this[u(626)][t];return null==t?-1:t},this[u(443)]=function(t){var e=u;return t<0||t>=g_GLObjectSet._arrObjectSet[e(421)]?-1:g_GLObjectSet[e(648)][t][e(386)]},this[u(399)]=function(e,a){var n=u;if(a._uObjectID==e)return a[n(669)];var i;for(let t=0;t<a[n(453)][n(421)];++t)if(null!=(i=this[n(399)](e,a[n(453)][t])))return i;return null},this[u(520)]=function(e,a){var n=u;if(a[n(386)]==e)return a[n(348)];var i;for(let t=0;t<a._arrSubNode[n(421)];++t)if(null!=(i=this.getObjectTreeIDByID(e,a._arrSubNode[t])))return i;return null},this.getObjectParamsByID=function(e,a){var n=u;if(a[n(386)]==e)return a[n(563)];var i;for(let t=0;t<a[n(453)][n(421)];++t)if(null!=(i=this[n(378)](e,a._arrSubNode[t])))return i;return null},this[u(327)]=function(t){var e=u;let a=this[e(389)](t),n=null;if(0<=a){t=this[e(324)](a)[e(546)];if(null==t)return null;(n=new Point2(0,0)).x=(t.x+1)*this[e(581)]/2,n.y=(1-t.y)*this[e(562)]/2}return n},this.getObjectProductInfoByIndex=function(t){var e=u;return t<0||t>=g_GLObjectSet._arrObjectSet.length?-1:g_GLObjectSet[e(648)][t][e(571)]},this.getObjectCenterByIndex=function(t){var e=u;return{Center2D:this[e(570)](t),Center3D:this[e(468)](t)}},this[u(468)]=function(t){var e,a=u,n=g_GLObjectSet[a(648)][t][a(519)];return null==g_GLPartSet[a(513)][n]?null:(e=new Point3(0,0,0),t=g_webglControl[a(483)][t],getModelBoxCenter(g_GLPartSet[a(513)][n]._arrPartLODData[0][a(601)][a(404)],this[a(384)]),CalTranslatePoint(this[a(384)].x,this.curModelCenter.y,this[a(384)].z,t,e),e)},this.getObjectWindowCenterByIndex=function(t){var e,a=u,n=g_GLObjectSet._arrObjectSet[t][a(519)];return null==g_GLPartSet._arrPartSet[n]||(e=new Point3(0,0,0),t=g_webglControl[a(483)][t],getModelBoxCenter(g_GLPartSet._arrPartSet[n]._arrPartLODData[0][a(601)][a(404)],this[a(384)]),mat4[a(476)](this.MVPMatrix,g_camera[a(497)],t),CalTranslatePoint(this[a(384)].x,this[a(384)].y,this.curModelCenter.z,this.MVPMatrix,e),e.z<0)||1<e.z?null:e},this[u(469)]=function(t){var e=u,t=g_GLObjectSet._arrObjectSet[t][e(519)];return null==g_GLPartSet[e(513)][t]?0:g_GLPartSet._arrPartSet[t]._arrPartLODData[0][e(601)][e(451)][e(421)]},this.getObjectModelIndex=function(t){var e=u,t=this[e(389)](t);return t<0?-1:g_GLObjectSet._arrObjectSet[t][e(519)]},this[u(674)]=function(t){var e=u,t=this[e(559)](t);return t<0?-1:g_GLPartSet[e(513)][t][e(328)]},this[u(604)]=function(){var e=u;if(this.pickIndexs[e(590)](0,this[e(352)][e(421)]),this[e(352)]=g_glprogram[e(552)](),null==this[e(352)]||0==this[e(352)][e(421)])for(let t=0;t<g_webglControl[e(483)].length;t++)this[e(352)][e(558)](t);var t=getPublicModelBox(g_GLObjectSet,g_GLPartSet,this[e(352)],g_webglControl[e(483)]);getModelBoxCenter(t,this.curModelCenter);let a=getModelBoxLength(t),n=Camera.computeSafeMinDistance(g_camera),i=.5*a,r=0;r=i<n?n:1.5*a;t=new Vector3(g_camera.desc[e(554)][0]-g_camera[e(493)].vAt[0],g_camera[e(493)][e(554)][1]-g_camera[e(493)][e(342)][1],g_camera[e(493)][e(554)][2]-g_camera.desc[e(342)][2]);t[e(610)](),Camera[e(514)](g_cameraDesc,g_camera.desc),float3[e(331)](g_cameraDesc[e(342)],this[e(384)].x,this[e(384)].y,this[e(384)].z),float3[e(331)](g_cameraDesc[e(554)],g_cameraDesc.vAt[0]+t.x*r,g_cameraDesc[e(342)][1]+t.y*r,g_cameraDesc[e(342)][2]+t.z*r),shiftViewAnim(g_cameraDesc,.5)},this[u(588)]=function(t){var e=u;return g_glprogram[e(606)](t)},this.setBackground=function(t){var e=u;g_glprogram[e(470)](t),g_webglControl[e(644)]=!0,g_webglControl.m_bgType=BG_TYPE_PICTURE,this[e(339)]()},this.addUsrBackground=function(t){const e=u;let a=new Image,n=void(a[e(525)]=t);a.onload=function(){var t=e;null!=(n=g_texturer[t(367)](gl,a,g_isWebgl2))&&g_glprogram[t(387)](n),g_webglControl[t(644)]=!0,g_webglControl.m_bgType=BG_TYPE_PICTURE,glRunTime[t(339)]()}},this.setBackgroundColor=function(t,e,a){var n=u;float4[n(331)](g_webglControl[n(458)],t,e,a,1),float4[n(331)](g_webglControl[n(557)],t,e,a,1),g_webglControl[n(644)]=!1,g_webglControl[n(473)]=BG_TYPE_COLOR,this.draw3D()},this.getBackgroundColor=function(){var t,e=u;return null!=g_webglControl[e(665)]&&0<g_webglControl.m_arrBgTexId.length&&g_webglControl.isShowImageBk?null:((t=new Array)[e(558)](g_webglControl[e(458)][0]),t.push(g_webglControl[e(458)][1]),t[e(558)](g_webglControl.m_BgColor[2]),t)},this[u(323)]=function(t){var e=u;if(null!=g_cameraDesc&&null!=g_camera){Camera.assignDesc(g_cameraDesc,g_camera[e(493)]);var a=float3[e(572)]();switch(t){case 0:float3[e(331)](a,0,0,this[e(358)]),float3[e(331)](g_cameraDesc[e(512)],0,1,0);break;case 1:float3[e(331)](a,0,0,-this[e(358)]),float3.set(g_cameraDesc[e(512)],0,1,0);break;case 2:float3[e(331)](a,-this[e(358)],0,0),float3[e(331)](g_cameraDesc[e(512)],0,1,0);break;case 3:float3[e(331)](a,this.m_fModelLength,0,0),float3[e(331)](g_cameraDesc[e(512)],0,1,0);break;case 4:float3[e(331)](a,0,this[e(358)],0),float3.set(g_cameraDesc[e(512)],0,0,-1);break;case 5:float3[e(331)](a,0,-this[e(358)],0),float3[e(331)](g_cameraDesc.vUp,0,0,1);break;case 6:float3.set(a,this[e(358)]/2,this.m_fModelLength/Math[e(623)](45*Math.PI/180),this[e(358)]/2),float3[e(331)](g_cameraDesc[e(512)],0,0,1)}g_glprogram[e(664)](),float3[e(392)](g_cameraDesc[e(554)],g_camera[e(493)][e(342)],a),shiftViewAnim(g_cameraDesc,.5)}},this.setObjectTransparent=function(e,a){var n=u;if(null==e||0==e[n(421)])g_glprogram[n(411)](-1,a);else{var i;for(let t=0;t<e[n(421)];++t)0<=(i=this[n(389)](e[t]))&&g_glprogram[n(411)](i,a)}this.draw3D()},this[u(425)]=function(t){var e=u;return g_glprogram[e(425)](t)},this.setObjectVisible=function(t,e){var a=u;g_glprogram[a(598)](t,e),this[a(339)]()},this[u(654)]=function(t){var e=u;return g_glprogram[e(654)](t)},this[u(628)]=function(t,e){var a=u;null==t||t[a(421)]<1||(g_glprogram[a(671)](t,e),this[a(339)]())},this[u(461)]=function(t,e,a,n,i){var r=u,e=ConvertColorToMaterial(e,a,n,i),a=this[r(389)](t);return!(a<0||(g_glprogram[r(461)](a,e),this[r(339)](),0))},this[u(345)]=function(t,e){var a=u,e=this[a(429)](e);null!=e&&(g_glprogram[a(461)](t,e),this[a(339)]())},this[u(566)]=function(t){var e=u,t=this[e(389)](t);return!(t<0||(g_glprogram[e(629)](t),this[e(339)](),0))},this[u(641)]=function(t,e,a,n){const i=u;t=this[i(389)](t);if(t<0)return-1;var r=g_GLObjectSet._arrObjectSet[t][i(519)];if(null==g_GLPartSet[i(513)][r]||1!=g_GLPartSet[i(513)][r][i(576)][0][i(408)])return-1;r=this[i(429)](a);if(null==r)return-1;let s=r[i(577)](),o=(s[i(474)]=g_newMaterialID++,s[i(489)][i(344)]=ADFMTLTYPE_PICTURE,t),l=e,_=new Image;_.onload=function(){var e=i;if(s[e(489)][e(480)][0]=g_texturer[e(367)](gl,_,g_isWebgl2),null==l||0==l[e(421)])g_glprogram[e(461)](o,s);else for(let t=0;t<l[e(421)];++t)g_glprogram[e(602)](o,l[t],s);this[e(339)]()},_[i(525)]=n},this[u(656)]=function(t,e,a,n){var i=u,r=this[i(389)](t);if(r<0)return-1;t=g_GLObjectSet[i(648)][r]._uPartIndex;if(null==g_GLPartSet[i(513)][t]||1!=g_GLPartSet[i(513)][t][i(576)][0][i(408)])return-1;t=this[i(429)](a);if(null==t)return-1;var s=t[i(577)]();if(s[i(474)]=g_newMaterialID++,s[i(489)][i(344)]=ADFMTLTYPE_PICTURE,null==g_texBasisu||!g_texBasisu[i(413)])return console[i(445)](i(627)),-1;a=g_texBasisu.loadBasisData(n);if(null==a)return-1;if(s[i(489)][i(480)][0]=g_texBasisu[i(369)](a[i(585)],a[i(431)],a.height,a[i(447)]),null==e||0==e[i(421)])g_glprogram.setObjectMaterial(r,s);else for(let t=0;t<e[i(421)];++t)g_glprogram[i(602)](r,e[t],s)},this[u(602)]=function(t,e,a,n,i,r){a=ConvertColorToMaterial(a,n,i,1);g_glprogram.setObjectSurfaceMaterial(t,e,a),this.draw3D()},this[u(619)]=function(t,e,a){var n=u,i=this[n(389)](t);if(0<=i){if(null==e||0==e[n(421)])this[n(345)](i,a);else for(let t=0;t<e.length;++t)this[n(639)](i,e[t],a);return 0}return-1},this[u(639)]=function(t,e,a){var n=u;t<0||e<0||(a=this[n(659)](a))<0||(g_glprogram[n(375)](t,e,a),this.draw3D())},this[u(365)]=function(t){var e=u,t=this.getObjectIndexById(t);0<=t&&g_glprogram[e(602)](t,-1,null),this[e(339)]()},this[u(662)]=function(t){var e=u;if(-1==t)return g_GLMaterialSet[e(653)]();var a=this[e(389)](t);if(0<=a){var n=new Array;for(i=0;i<g_GLObjectSet._arrObjectSet[a][e(439)].length;++i){var r=g_GLMaterialSet[e(660)](g_GLObjectSet._arrObjectSet[a][e(439)][i]);n.push(r)}return n}return null},this[u(429)]=function(t){var e=u,t=this[e(659)](t);return 0<=t?g_GLMaterialSet[e(498)][t]:null},this[u(659)]=function(t){t=this.mapMaterialIDIndex[t];return null==t?-1:t},this[u(578)]=function(t){var e=u,a=this[e(389)](t);if(a<0)return null;t=g_GLObjectSet[e(648)][a][e(519)];if(null==g_GLPartSet[e(513)][t])return null;var n=g_GLPartSet._arrPartSet[t][e(576)][0][e(601)][e(404)],i=new P3D_BOX;for(let t=0;t<n._Vertex[e(421)];++t){var r=new Point3;CalTranslatePoint(n[e(377)][t].x,n[e(377)][t].y,n._Vertex[t].z,g_glprogram[e(368)](a),r),i._arrVertex[e(558)](r)}return i},this[u(340)]=function(t){var e=u,t=this[e(385)](t,g_GLData[e(631)]);return null==t?null:(e=new Array,this.getTreeNodeSubObjectID(t,e),e)},this[u(334)]=function(t,e,a,n){var i,r=u,t=this.getTreeNodeById(t,g_GLData[r(631)]);return null!=t&&(i=new Array,this[r(521)](t,i),!(i.length<=0||(this[r(667)](i,e,a,n),0)))},this.getTreeNodeById=function(e,a){var n=u;if(a[n(348)]==e)return a;var i;for(let t=0;t<a[n(453)][n(421)];++t)if(null!=(i=this.getTreeNodeById(e,a[n(453)][t])))return i;return null},this[u(521)]=function(e,a){var n=u;if(0<=e[n(479)])a[n(558)](e[n(479)]);else for(let t=0;t<e[n(453)][n(421)];++t)this[n(521)](e._arrSubNode[t],a)},this.getTreeNodeSubObjectID=function(e,a){var n=u;if(0<=e[n(479)])a[n(558)](e[n(386)]);else for(let t=0;t<e[n(453)][n(421)];++t)this[n(332)](e[n(453)][t],a)},this[u(616)]=function(t){var e,a=u,t=this[a(385)](t,g_GLData[a(631)]);if(null!=t)return e=new Array,this[a(521)](t,e),this[a(456)](e)},this[u(442)]=function(n){var i=u,r=new Array;for(let t=0;t<g_GLObjectSet._arrObjectSet.length;t++){let e=!1,a=g_GLObjectSet[i(648)][t][i(386)];for(let t=0;t<n.length;++t)if(a==n[t]){e=!0;break}e||r[i(558)](t)}g_glprogram[i(454)](r,.2),this.draw3D()},this[u(456)]=function(n){var i=u,t=new Array;for(let a=0;a<g_GLObjectSet[i(648)][i(421)];a++){let e=!1;for(let t=0;t<n[i(421)];++t)if(a==n[t]){e=!0;break}e||t[i(558)](a)}g_glprogram[i(454)](t,.2),this[i(339)]()},this.setObjectHighlightMaterial=function(t,e,a,n){var i=u,t=ConvertColorToMaterial(t,e,a,1);return g_webglControl[i(466)]=t,this[i(339)](),!0},this.resetObjectHighlightMaterial=function(){var t=u;return g_webglControl[t(466)]=g_materialData[t(418)],this[t(339)](),!0},this.setObjectSurfaceHighlightMaterial=function(t,e,a,n){var i=u,t=ConvertColorToMaterial(t,e,a,1);return g_webglControl[i(630)]=t,this.draw3D(),!0},this[u(437)]=function(){var t=u;return g_webglControl[t(630)]=g_materialData[t(675)],this[t(339)](),!0},this[u(652)]=function(t){var e=u;1==t?this[e(371)][e(643)]=!0:this.pickFilter[e(643)]=!1,g_glprogram[e(390)](this[e(371)]),g_sceneGeomtryOn&&g_glprogram[e(347)]()},this[u(482)]=function(t,e,a,n){var i=u,r=glRunTime[i(620)]();this.setObjectSurfaceMaterial(r[i(658)],r.surfaceIndex,t,e,a,n)},this.home=function(t){var e=u;switch(t){case HOME_ALL:case HOME_TYPE_CAMERA:this[e(432)]()}g_glprogram.home(t),g_sceneAnnotation[e(618)](t),this.draw3D()},this[u(638)]=function(t,e){var a=u,t=this[a(389)](t);t<0||(CalMat4(g_GLObjectSet[a(648)][t]._matLocal,this[a(573)]),CalMat4(e,this[a(391)]),mat4[a(476)](this.digitalMultiplyMat,this[a(391)],this[a(573)]),g_glprogram.setObjectMatrixByIndex(t,this[a(423)]),this[a(339)]())},this.getObjectOriWorldMatrix=function(t){var e=u,t=this[e(389)](t);if(!(t<0))return g_GLObjectSet[e(648)][t][e(374)]},this.getObjectCurWorldMatrix=function(t){var t=this.getObjectIndexById(t);if(!(t<0))return t=g_glprogram.getObjectWorldMatrix(t),CalADFMat(t)},this[u(651)]=function(a){var n=u;if(null!=a){var i=new Array;for(let e=0;e<a[n(421)];++e)for(let t=0;t<g_GLObjectSet[n(648)][n(421)];t++)if(g_GLObjectSet[n(648)][t][n(386)]==a[e]){i.push(t);break}g_glprogram[n(606)](i),this[n(339)]()}},this[u(379)]=function(){var t=u;return g_canvas[t(381)]},this[u(538)]=function(t,e){var a=u;g_canvas[a(381)]=t,g_canvas[a(444)][a(528)](e),this[a(475)]()},this[u(567)]=function(t){var e=u;return this[e(549)]=!!t,!0},this[u(455)]=function(t){var e=u;return t&&g_webglControl[e(449)]?this[e(553)]=!0:(this[e(553)]=!1,this[e(371)][e(336)](),g_glprogram[e(390)](this[e(371)])),this.isCaptureGeomtry},this[u(621)]=function(t){var e=u;return!!this[e(455)](!0)&&(this[e(371)].Copy(t),g_glprogram[e(390)](this[e(371)]),!0)},this.getCaptureFilter=function(){var t=u,e=new GL_PICK_FILTER;return e[t(545)](g_glprogram[t(371)]),e},this.setCaptureModeEnable=function(t,e){var a=u;return t==P3D_CAPTURE_NONE||t==P3D_CAPTURE_SURFACE?(this[a(371)][a(336)](),g_glprogram[a(390)](this.pickFilter),!1):this[a(455)](!0)?!(t==P3D_CAPTURE_FREE_POINT&&(!g_sceneMeasure[a(346)]||g_sceneMeasure.isMeasureDistance(g_sceneMeasure.measureMode))||(this.pickFilter.setByCaptureMode(t,e),g_glprogram[a(503)](t,e),0)):(this[a(371)][a(336)](),g_glprogram[a(390)](this[a(371)]),!1)},this[u(635)]=function(t){this[u(600)]=t},this[u(599)]=function(t,e){var a=u;return-1<g_sceneMeasure[a(417)](t,e,!1)?(g_canvas[a(593)]=null,this.captureUnit[a(336)](),null):(this[a(478)](t,e,this[a(642)],this.RayPoint2),null==g_glprogram[a(450)](this.RayPoint1,this[a(584)],this[a(593)])||this[a(593)][a(658)]<0?(g_canvas.captureUnit=null,this[a(593)][a(336)](),this[a(495)](),null):this[a(593)][a(402)]==P3D_CAPTURE_NONE?(g_canvas[a(593)]=null,this[a(495)](),null):(g_canvas[a(593)]=this[a(593)],this[a(593)].geomSurfaceIndex<0?g_glprogram.clearPickSurfaceIndex():g_glprogram.pickObjectSurfaceByIndex(this[a(593)].objectIndex,this[a(593)][a(471)],!1),this[a(495)](),this.captureUnit))},this[u(597)]=function(t){var e=u;g_webglControl[e(457)][0]=t?1:0},this[u(672)]=function(t,e,a){},this[u(325)]=function(t,e,a){var n=u;0!=g_webglControl[n(457)][0]&&(1<(t=t<0?0:t)&&(t=1),1<(e=e<0?0:e)&&(e=1),1<(a=a<0?0:a)&&(a=1),g_webglControl[n(507)][0]=t,g_webglControl.pcLightPower[1]=e,g_webglControl[n(507)][2]=a,this[n(339)]())},this[u(569)]=function(){var e=u;this[e(655)]=!0,g_GLPartSet=GetSVZPartSet(),this[e(487)](),this[e(432)](),this[e(544)]();for(let t=0;t<g_GLPartSet._arrPartSet.length;++t)g_glprogram[e(427)](t,g_GLPartSet._arrPartSet[t]),g_buffers.updatePartData(t);g_GLPartSet[e(414)](),this[e(339)]()},this[u(668)]=function(){var t=u;this[t(655)]=!1,(g_GLPartSet=new GL_PARTSET)[t(513)]=new Array(g_sceneData[t(517)][t(421)]),this[t(487)](),this.initCamera(),this[t(544)]()},this.updateScleModel=function(t,e){var a,n,i=u;t<0||t>g_GLPartSet[i(513)][i(421)]||(this[i(655)]?console[i(445)](i(426)):(a=new GL_PART,n=GetSVZPartData(e,0,0),a._arrPartLODData[0]=n[i(440)],a[i(542)]=n.PARTSURFACEDATA,a[i(524)]=n.PARTCURVEDATA,a[i(636)]=e._arrSubset[0][i(398)],g_GLPartSet[i(513)][t]=a,g_glprogram[i(427)](t,a),g_buffers[i(433)](t),g_GLPartSet[i(513)][t][i(414)](),this[i(495)]()))},this[u(589)]=function(){var t=u;g_sceneAnnotation[t(435)](),g_sceneData[t(459)](),this[t(495)]()},this[u(596)]=function(e,a){var n=u;for(let t=0;t<e[n(498)][n(421)];++t)e[n(498)][t][n(448)]+=a,g_GLMaterialSet[n(498)][n(558)](e[n(498)][t])},this[u(359)]=function(a,t,n,i,r){var s=u,o=g_GLObjectSet._arrObjectSet[s(421)],l=mat4[s(496)]();mat4[s(360)](l,float3.fromScalar(t));for(let e=0;e<a[s(648)].length;++e){a[s(648)][e][s(386)]+=n,a[s(648)][e]._uObjectTag=g_importTag,a[s(648)][e][s(519)]+=i;for(let t=0;t<a[s(648)][e]._arrSurfaceMaterialIndex.length;++t)a[s(648)][e][s(439)][t]+=r;g_GLObjectSet[s(648)][s(558)](a[s(648)][e]);var _=mat4[s(496)](),_=(g_GLObjectSet[s(648)][e+o].GetAnimMatrix(0,_),mat4[s(476)](_,_,l),g_webglControl.m_arrObjectMatrix.push(_),g_GLObjectSet[s(648)][e+o].GetAnimTransparent(0));-.5<_?g_webglControl.m_arrObjectTransparent[s(558)](_):g_webglControl[s(416)][s(558)](1),g_GLObjectSet[s(648)][e+o][s(502)]==ADFFILL_INVISIBLE?g_webglControl[s(523)][s(558)](!1):g_webglControl.m_arrObjectVisiable[s(558)](!0),g_webglControl[s(412)].push(null),g_webglControl[s(422)].push(!1)}},this[u(533)]=function(e,a,n){var i=u;let r=new Array,s=new Array,o=new Array,l=new Array,_=new Array,c=new Array,g=g_GLObjectSet[i(648)][i(421)],h=-1;for(let t=0;t<g_GLObjectSet[i(648)][i(421)];++t)g_GLObjectSet[i(648)][t][i(465)]!=e?(g_GLObjectSet[i(648)][t][i(519)]>=n&&(g_GLObjectSet._arrObjectSet[t][i(519)]-=n-a),r[i(558)](g_GLObjectSet._arrObjectSet[t]),s.push(g_webglControl[i(483)][t]),o.push(g_webglControl[i(416)][t]),l.push(g_webglControl.m_arrObjectVisiable[t]),_[i(558)](g_webglControl[i(412)][t]),c[i(558)](g_webglControl.arrPickObjectIndexs[t])):(t<g&&(g=t),t>h&&(h=t));return g_GLObjectSet[i(648)][i(590)](0,g_GLObjectSet[i(648)].length),g_webglControl.m_arrObjectMatrix[i(590)](0,g_webglControl[i(483)][i(421)]),g_webglControl[i(416)].splice(0,g_webglControl[i(416)][i(421)]),g_webglControl[i(523)][i(590)](0,g_webglControl[i(523)][i(421)]),g_webglControl.m_arrObjectMaterial[i(590)](0,g_webglControl[i(412)]),g_webglControl[i(422)][i(590)](0,g_webglControl[i(422)].length),g_webglControl[i(483)]=s,g_webglControl[i(416)]=o,g_webglControl[i(523)]=l,g_webglControl[i(412)]=_,g_webglControl[i(422)]=c,g_GLObjectSet[i(648)]=r,{min:g,max:h+1}},this[u(539)]=function(e,a){var n=u;for(let t=0;t<e._arrPartSet[n(421)];++t)e[n(513)][t]._uPartID+=a,e[n(513)][t][n(547)]=g_importTag,g_GLPartSet[n(513)].push(e[n(513)][t])},this[u(624)]=function(e){var a=u;let n=new Array,i=g_GLPartSet[a(513)].length,r=-1;for(let t=0;t<g_GLPartSet._arrPartSet[a(421)];++t)g_GLPartSet[a(513)][t][a(547)]!=e?n[a(558)](g_GLPartSet._arrPartSet[t]):(t<i&&(i=t),t>r&&(r=t));return g_GLPartSet[a(513)][a(590)](0,g_GLPartSet[a(513)][a(421)]),g_GLPartSet[a(513)]=n,{min:i,max:r+1}},this[u(388)]=function(t){var e=u,a=Cle2Data(),n=a.GLObjectSet,i=a[e(510)],r=GetSVZPartSet(),a=a[e(472)],s=g_GLMaterialSet[e(498)].length,o=g_GLPartSet[e(513)][e(421)],a=GetSceneUnitScale(a._unit,g_sceneConfig[e(637)]),l=GetMaxMaterialId(g_GLMaterialSet),_=GetMaxPartId(g_GLPartSet),c=GetMaxObjectId(g_GLObjectSet);this.importMaterialData(i,l),this[e(359)](n,a,c,o,s),this.importPartData(r,_);for(let t=o;t<g_GLPartSet._arrPartSet.length;++t)g_glprogram[e(427)](t,g_GLPartSet[e(513)][t]),g_buffers[e(433)](t);t&&t(g_importTag,c),g_GLPartSet[e(414)](),g_sceneData[e(459)](),g_importTag++,this[e(495)]()},this[u(564)]=function(e){var t,a,n=u;if(e<BASE_IMPORT_TAG||g_importTag<=e)return!1;let i=!1;for(let t=0;t<g_GLPartSet[n(513)][n(421)];++t)if(g_GLPartSet._arrPartSet[t][n(547)]==e){i=!0;break}return!!i&&(t=this.deletePartData(e),a=this.deleteObjectData(e,t[n(409)],t[n(574)]),g_glprogram[n(632)](a[n(409)],a[n(574)]),g_buffers[n(617)](t[n(409)],t[n(574)]),this[n(495)](),!0)},this[u(586)]=function(t){var e=u;2==t||4==t||8==t?g_webgl[e(452)](t):g_webgl.setMutiSample(0),this[e(339)]()},this[u(383)]=function(t,e,a){var n=u;let i=null,r="";return r=0==a?(i=g_webgl[n(594)](t,e),n(560)):(i=g_webgl[n(438)](t,e),n(362)),this[n(339)](),{type:0,desc:r,width:t,height:e,pixels:i}}}var a101_0x48e7=["mul","nvg3dCanvas","length","onmousemove","fFOVInRadian","rgba(222,222,222,0.2)","makeDesc","Navigator/navigator_circle_y_dark.png","desc","clientX","right","onmousewheel","clientY","assign","bottom","updateDesc","dot","fSensRot","vEye","style","position","mViewProj","button","oncontextmenu","nvg2dCanvas","Navigator/navigator_circle_x_focus.png","splice","Navigator/navigator_circle_ex_dark.png","1113797UsoGhl","1360156rCEbWP","4153Udxwio","setFocus","setViewport","uninitNavigator","5px","appendChild","top","Navigator/navigator_circle_x_dark.png","197975eUheXA","make","fill","503395eYVgyX","888374KGRTBx","width","closePath","requestAnimationFrame","normalize","beginDrag","1091977dcLVCz","onmouseup","fAspect","createElement","Navigator/navigator_circle_y_focus.png","height","onmousedown","isHide","fNear","flush","281XHJecK","beginPath","sub","Navigator/navigator_circle_ey_light.png","set","left","arc","getContext","Navigator/navigator_circle_ey_dark.png","Navigator/navigator_circle_ez_light.png","isPointInside","calFront","push","webgl2","Navigator/navigator_circle_z_light.png","absolute","initNavigator","onmouseout","Navigator/navigator_circle_x_light.png","shiftView","canvas","vAt"],a101_0x1fdbd7=a101_0x52e9;!function(e){for(var t=a101_0x52e9;;)try{if(915585===-parseInt(t(336))+parseInt(t(327))+parseInt(t(346))+-parseInt(t(339))+parseInt(t(328))*parseInt(t(276))+-parseInt(t(326))+-parseInt(t(340)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a101_0x48e7);const NVG_CAMERA_DISTANCE=4,NVG_NODE_RADIUS=.13,NVG_LAYOUT_TOP_LEFT=0,NVG_LAYOUT_TOP_RIGHT=1,NVG_LAYOUT_BOTTOM_LEFT=2,NVG_LAYOUT_BOTTOM_RIGHT=3;var nvgDisable=!1,nvgController=null,nvg2dCanvas=null,nvg3dCanvas=null,nvgGl=null,nvg2d=null,nvgCamera=Camera[a101_0x1fdbd7(337)](),nvgCameraController=CameraController[a101_0x1fdbd7(337)](),nvgCameraDesc=Camera[a101_0x1fdbd7(304)](),nvgEyeDir=float3[a101_0x1fdbd7(337)](),nvgVertex=[0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1];const nvgAxisCount=[2,2,2],nvgBillbordList=[a101_0x1fdbd7(335),a101_0x1fdbd7(323),a101_0x1fdbd7(294),a101_0x1fdbd7(325),"Navigator/navigator_circle_ex_light.png",a101_0x1fdbd7(305),a101_0x1fdbd7(270),"Navigator/navigator_circle_y_light.png",a101_0x1fdbd7(284),a101_0x1fdbd7(279),"Navigator/navigator_circle_z_dark.png","Navigator/navigator_circle_z_focus.png",a101_0x1fdbd7(290),"Navigator/navigator_circle_ez_dark.png",a101_0x1fdbd7(285),"Navigator/navigator_circle_e_focus.png"];var nvgBillboardPt=[float3[a101_0x1fdbd7(337)](),float3[a101_0x1fdbd7(337)](),float3.make(),float3.make(),float3[a101_0x1fdbd7(337)](),float3[a101_0x1fdbd7(337)]()];const nvgBillboardVertex=[1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1],nvgBillboardSize=[-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS],nvgBillboardUV=[0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1];var nodeCircle=new Circle2D(0,0,0),nodeProjPt=new Point3(0,0,0),pickScreenPt=new Point3(0,0,0),pickProjPt=new Point3(0,0,0),pickNodeArray=new Array,isNvgReqRender=!1;const NVG_DEFAULT_ROT_SENS=6;function initNvgComponet(t){var e=a101_0x1fdbd7;nvgDisable||((nvg3dCanvas=document[e(269)](e(296))).id=e(299),nvg3dCanvas[e(317)][e(318)]=e(291),nvg3dCanvas[e(341)]=150,nvg3dCanvas[e(271)]=150,nvg3dCanvas[e(317)][e(334)]="5px",nvg3dCanvas[e(317)].right=e(332),t.appendChild(nvg3dCanvas),(nvg2dCanvas=document[e(269)]("canvas")).id=e(322),nvg2dCanvas.style[e(318)]=e(291),nvg2dCanvas.width=150,nvg2dCanvas.height=150,nvg2dCanvas[e(317)][e(334)]="5px",nvg2dCanvas[e(317)][e(308)]=e(332),t[e(333)](nvg2dCanvas),initNavigatorCanvas())}function initNavigatorCanvas(){var t=a101_0x1fdbd7;null!=nvg2dCanvas&&null!=nvg3dCanvas&&(nvg2d=nvg2dCanvas.getContext("2d",{alpha:!0}),addNvgMouseListener(nvg2dCanvas),nvgGl=nvg3dCanvas[t(283)](t(289),{alpha:!0,antialias:!0,preserveDrawingBuffer:!0}),(nvgController=new GLNavigator(nvgGl))[t(292)](),initNvgNodePt(),initNvgCamera(),LoadNvgBillBoardTexture(nvgGl,flushNavigator))}function uninitNavigatorCanvas(){null!=nvgController&&nvgController[a101_0x1fdbd7(331)](),DeleteNvgBillBoardTexture(nvgGl),nvgController=null}function clearNavigatorCanvas(){}function initNvgCamera(){var t,e=a101_0x1fdbd7;null!=nvg2dCanvas&&null!=nvg3dCanvas&&(float3[e(280)](nvgCameraDesc.vEye,0,0,NVG_CAMERA_DISTANCE),float3[e(280)](nvgCameraDesc.vAt,0,0,0),float3[e(280)](nvgCameraDesc.vUp,0,1,0),nvgCameraDesc.fWidth=nvg3dCanvas.width,nvgCameraDesc[e(348)]=nvg3dCanvas[e(341)]/nvg3dCanvas[e(271)],t=float3.distance(nvgCameraDesc.vEye,nvgCameraDesc[e(297)]),nvgCameraDesc[e(274)]=.02*t,nvgCameraDesc.fFar=200*t,nvgCameraDesc[e(302)]=45*Math.PI/180,Camera[e(313)](nvgCamera,nvgCameraDesc),Camera[e(330)](nvgCamera,nvg3dCanvas.width,nvg3dCanvas[e(271)],0,0))}function updateNvgCamera(t){var e=a101_0x1fdbd7;null!=nvg2dCanvas&&null!=nvg3dCanvas&&(float3[e(278)](nvgEyeDir,t.desc[e(316)],t[e(306)][e(297)]),float3[e(344)](nvgEyeDir,nvgEyeDir),float3[e(298)](nvgCameraDesc.vEye,NVG_CAMERA_DISTANCE,nvgEyeDir),float3[e(311)](nvgCameraDesc.vUp,t.desc.vUp),Camera.updateDesc(nvgCamera,nvgCameraDesc),flushNavigator())}function addNvgMouseListener(e){var t=a101_0x1fdbd7;e[t(272)]=function(t){webNvgKeyDown(t,e)},e[t(347)]=function(t){webNvgKeyUp(t,e)},e[t(309)]=function(t){webNvgWheel(t,e)},e[t(301)]=function(t){webNvgKeyMove(t,e)},e.onmouseover=function(t){webNvgMouseOver(t,e)},e[t(293)]=function(t){webNvgMouseOut(t,e)}}var isMoveIn=!1,isNvgMove=!1,isNvgDragLeft=!1;function webNvgKeyDown(t,e){var a=a101_0x1fdbd7;switch(getNvgScreenPt(t[a(307)],t[a(310)],pickScreenPt),t[a(320)]){case 0:isNvgDragLeft=!0,null!=g_cameraController&&CameraController[a(345)](g_cameraController,g_camera,float2.from(pickScreenPt.x,pickScreenPt.y),null);break;case 1:break;case 2:e[a(321)]=function(){return!1}}lastX=pickScreenPt.x,lastY=pickScreenPt.y}function webNvgKeyUp(t,e){var a=a101_0x1fdbd7;getNvgScreenPt(t.clientX,t[a(310)],pickScreenPt),0===t[a(320)]&&(isNvgDragLeft=!1,isNvgMove||doPickNvgNode(pickNvgNode(pickScreenPt.x,pickScreenPt.y))),isNvgMove=!1}function webNvgKeyMove(t,e){var a=a101_0x1fdbd7;getNvgScreenPt(t[a(307)],t[a(310)],pickScreenPt),isNvgDragLeft&&(isNvgMove=!0,null!=g_cameraController)&&(CameraController.drag(g_cameraController,float2.from(pickScreenPt.x,pickScreenPt.y)),glRunTime[a(275)]())}function webNvgWheel(t,e){}function webNvgMouseOver(t,e){isMoveIn=!0,null!=g_cameraController&&(g_cameraController[a101_0x1fdbd7(315)]=NVG_DEFAULT_ROT_SENS),drawNvg()}function webNvgMouseOut(t,e){isNvgDragLeft=isNvgMove=isMoveIn=!1,null!=g_cameraController&&(g_cameraController[a101_0x1fdbd7(315)]=SCENE_DEFAULT_ROT_SENS),nvgController.setFocus(-1),flushNavigator(),drawNvg()}function drawNvg(){var t=a101_0x1fdbd7;nvg2d.clearRect(0,0,nvg2dCanvas.width,nvg2dCanvas[t(271)]),isMoveIn&&!nvgController[t(273)]&&(nvg2d[t(277)](),nvg2d[t(282)](nvg2dCanvas[t(341)]/2,nvg2dCanvas[t(271)]/2,nvg2dCanvas[t(341)]/2,0,2*Math.PI),nvg2d[t(342)](),nvg2d.fillStyle=t(303),nvg2d[t(338)]())}function initNvgNodePt(){var t=a101_0x1fdbd7;float3.set(nvgBillboardPt[0],1,0,0),float3[t(280)](nvgBillboardPt[1],-1,0,0),float3[t(280)](nvgBillboardPt[2],0,1,0),float3[t(280)](nvgBillboardPt[3],0,-1,0),float3[t(280)](nvgBillboardPt[4],0,0,1),float3[t(280)](nvgBillboardPt[5],0,0,-1)}function getNvgScreenPt(t,e,a){var n=a101_0x1fdbd7,i=nvg2dCanvas.getBoundingClientRect();a.x=t-i[n(281)],a.y=e-i.top}function isNodeFront(t){return 0<float3[a101_0x1fdbd7(314)](nvgBillboardPt[t],nvgCamera.desc.vEye)}function pickNvgNode(t,e){var a=a101_0x1fdbd7;pickNodeArray[a(324)](0,pickNodeArray.length),pickProjPt.x=2*t/nvg2dCanvas[a(341)]-1,pickProjPt.y=1-2*e/nvg2dCanvas[a(271)];for(let t=0;t<nvgBillboardPt[a(300)];++t)CalTranslatePoint(nvgBillboardPt[t][0],nvgBillboardPt[t][1],nvgBillboardPt[t][2],nvgCamera[a(319)],nodeProjPt),nodeCircle.set(nodeProjPt.x,nodeProjPt.y,NVG_NODE_RADIUS),nodeCircle[a(286)](pickProjPt)&&pickNodeArray[a(288)](t);return 1==pickNodeArray[a(300)]?pickNodeArray[0]:1<pickNodeArray[a(300)]?isNodeFront(pickNodeArray[0])?pickNodeArray[0]:pickNodeArray[1]:-1}function doPickNvgNode(t){var e=a101_0x1fdbd7;nvgController[e(329)](t),0==t?glRunTime[e(295)](3):1==t?glRunTime.shiftView(2):2==t?glRunTime[e(295)](1):3==t?glRunTime.shiftView(0):4==t?glRunTime.shiftView(5):5==t?glRunTime[e(295)](4):flushNavigator()}function a101_0x52e9(t,e){return a101_0x48e7[t-=269]}function flushNavigator(){var e=a101_0x1fdbd7;0==isNvgReqRender&&(window[e(343)](function(t){nvgController[e(287)](),nvgController.drawNavigator(),isNvgReqRender=!1}),isNvgReqRender=!0)}function hideNavigator(t){var e=a101_0x1fdbd7;nvgController[e(273)]=!!t,flushNavigator()}function setNavigatorLayout(t){var e=a101_0x1fdbd7;switch(t){case NVG_LAYOUT_TOP_LEFT:nvg3dCanvas.style[e(334)]=e(332),nvg3dCanvas[e(317)][e(281)]=e(332),nvg3dCanvas[e(317)].bottom="",nvg3dCanvas[e(317)][e(308)]="",nvg2dCanvas.style[e(334)]=e(332),nvg2dCanvas[e(317)][e(281)]=e(332),nvg2dCanvas[e(317)][e(312)]="",nvg2dCanvas[e(317)][e(308)]="";break;case NVG_LAYOUT_TOP_RIGHT:nvg3dCanvas[e(317)].top=e(332),nvg3dCanvas.style[e(308)]=e(332),nvg3dCanvas[e(317)][e(312)]="",nvg3dCanvas[e(317)][e(281)]="",nvg2dCanvas.style.top=e(332),nvg2dCanvas[e(317)].right=e(332),nvg2dCanvas.style[e(312)]="",nvg2dCanvas.style[e(281)]="";break;case NVG_LAYOUT_BOTTOM_LEFT:nvg3dCanvas[e(317)][e(312)]="5px",nvg3dCanvas[e(317)].left=e(332),nvg3dCanvas[e(317)][e(334)]="",nvg3dCanvas[e(317)][e(308)]="",nvg2dCanvas[e(317)][e(312)]="5px",nvg2dCanvas[e(317)][e(281)]=e(332),nvg2dCanvas[e(317)][e(334)]="",nvg2dCanvas[e(317)][e(308)]="";break;case NVG_LAYOUT_BOTTOM_RIGHT:nvg3dCanvas[e(317)][e(312)]=e(332),nvg3dCanvas.style[e(308)]=e(332),nvg3dCanvas[e(317)][e(334)]="",nvg3dCanvas.style[e(281)]="",nvg2dCanvas[e(317)].bottom=e(332),nvg2dCanvas[e(317)][e(308)]="5px",nvg2dCanvas[e(317)][e(334)]="",nvg2dCanvas[e(317)][e(281)]=""}}var a59_0xb56d=["P3D_OnMouseUpCallBack","drag","onceLoadScleModel","adapterLocalToScreen","viewIndex","showCommentInput","absolute","P3D_OnKeyboardUpCallBack","updateScleModel","11513nFFZrx","requestAnimationFrame","onunload","moveCommentInput","move","length","1YsIaHK","58901RlrJJX","pmiIndex","createElement","100%","zoomWithMouseWheel","objectIndex","Clear","fillStyle","clientX","createCommentUpdate","_uRequestRender","returnValue","undefined","getRectSelectionStatus","onMouseKeyUp","beginDrag","top","getPickObjectIdByIndex","refreshNotation","commentOnClick","canvas","defaultBgUrl","onMouseKeyDown","curRuntimeMode","DOMMouseScroll","_uPickType","onmousemove","addEventListener","width","47VVTbKF","P3D_OnKeyboardDownCallBack","deleteCommentInput","80612ADuCWt","min","setFocusOnObject","onmouseup","white.jpg","arrModelData","P3D_OnTouchEndCallBack","./P3DToolkit/Resource/","preventDefault","_arrayCleBuffer","onresize","onmousewheel","P3D_OnSectionFinishCallback","grey.jpg","appendChild","button","P3D_OnMouseMoveCallBack","_strModelName","cancelBubble","init","clear","setActiveByIndex","removeEventListener","isBind","_nCleBufferlength","_arrayByteBuffer","_arrPickElements","endLoadModel","defaultGeomtryOn","endDrag","setFocusOnPmiItemByIndex","keydown","height","from","intersectUnit","max","commentOnSubmit","CleStreamModelDataParser","clientY","onMouseKeyMove","uninitRender","11zUcocN","45310AsLXpc","setRectSelection","rect","flush","P3D_OnImportModelCallback","oncontextmenu","mousePt","isCaptureObject","defaultLightOn","P3D_OnCommentDeleteCallback","P3D_OnMouseWheelCallBack","isDuringAxis","P3D_OnLoadModelEndCallback","offsetWidth","ctx","startScelModel","_ModelInfo","_attachPt","P3D_OnSectionUpdateCallback","push","3958DwsUrm","isDuringComment","P3D_OnAnimRefreshCallBack","61192dQSHiq","importScleModel","deltaY","7ROAAUp","getContext","position","itemIndex","captureGeomtry","P3D_OnMouseDownCallBack","defaultCanvasTransparency","style","pickModelByIDs","resetWindow","curPickUnit","P3D_OnTouchStartCallBack","pickModelByRect","getItemIdByIndex","28189ppKCDl","_oPickUnit","onMouseOver","offsetHeight","set","P3D_OnAnimFinishCallBack","commentOnChange","stopPropagation","objectMoveWindow","data","./P3DToolkit/Resource/Background/","byteLength"],a59_0x5c3e56=a59_0x42a3;function CALLBACK_V2(){var t=a59_0x42a3;this[t(310)]=function(){},this.init=function(t){},this[t(423)]=function(t){},this[t(360)]=function(t,e,a,n){},this[t(412)]=function(t,e,a,n){},this[t(311)]=function(t,e,a,n){},this.deleteCommentInput=function(){},this[t(430)]=function(t,e,a,n){},this[t(345)]=null}function CALLBACK_V3(){var t=a59_0x42a3;this.P3D_OnUpdateUICallBack=function(){},this[t(388)]=function(t){},this[t(411)]=function(t){},this[t(322)]=function(t){},this[t(425)]=function(t){},this[t(397)]=function(t){},this[t(418)]=function(t){},this[t(340)]=function(t){},this[t(376)]=function(t){},this[t(403)]=function(t){},this.P3D_OnTouchMoveCallBack=function(t){},this[t(330)]=function(t){},this.P3D_OnCameraChangeCallback=function(){},this[t(378)]=function(){},this[t(384)]=function(){},this[t(336)]=function(){},this.P3D_OnCommentCreateCallback=function(t){},this[t(375)]=function(t){},this[t(370)]=function(t,e){}}!function(e){for(var t=a59_0x42a3;;)try{if(128493==-parseInt(t(366))+parseInt(t(321))*parseInt(t(386))-parseInt(t(324))+parseInt(t(433))*parseInt(t(434))-parseInt(t(389))+parseInt(t(427))*-parseInt(t(365))+parseInt(t(406))*parseInt(t(392)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a59_0xb56d);var container=null,web3dCanvas=null,gl=null,g_isWebgl2=!0,text2dCanvas=null,gl2d=null,callback_v2=new CALLBACK_V2,callback_v3=new CALLBACK_V3,g_bTestMode=!0;const g_resFoder=a59_0x5c3e56(331),g_bgFoder=a59_0x5c3e56(416);var g_bgImage=["blue.jpg",a59_0x5c3e56(328),a59_0x5c3e56(337)],g_bgImageUrl=[],g_bgImageIndex=0,g_sceneLightOn=!0,g_sceneGeomtryOn=!0,g_canvasTransparency=!1,glRunTime=new GLRunTime,isLockCavans=!1,isShiftDown=!1,lastPickType=-2,curPickType=-2,g_operationMode=MOUSE_OPERATION_MODE_DEFAULT,doubleClickTimeMS=300,isMove=!1,curDate=null,lastTime=0,curTime=0,isDigitalTwinMode=!1,isMultPick=!1,motionCaptureObjID=null,scrollLeft=0,scrollTop=0,originPt=new Point2(0,0),selRect=new Rect2D(0,0,0,0),isKeyTap=!1,dragLeft=!1,dragMid=!1,dragRight=!1,lastX=-1,lastY=-1;function initComponet(t){var e=a59_0x5c3e56;typeof t!=e(304)&&null!=t&&(container=t,(web3dCanvas=document[e(436)](e(312))).id="web3dCanvas",web3dCanvas[e(399)][e(394)]=e(424),web3dCanvas[e(399)][e(320)]=e(437),web3dCanvas.style.height="100%",container[e(338)](web3dCanvas),initSceneCanvas(),(text2dCanvas=document.createElement(e(312))).id="text2dCanvas",text2dCanvas.style.position=e(424),text2dCanvas[e(399)][e(320)]=e(437),text2dCanvas.style[e(356)]="100%",container[e(338)](text2dCanvas),init2dCanvas(),initNvgComponet(t))}function destoryComponet(){glRunTime[a59_0x5c3e56(364)](),commentDataClear(),uninitNavigatorCanvas()}function initModuleCallbacks(t){callback_v3=t}function initSettings(e){var a=a59_0x5c3e56;if(typeof e!=a(304)&&null!=e){if(null!=e[a(313)]&&0<e[a(313)][a(432)])g_bgImage[a(385)](e.defaultBgUrl),g_bgImageIndex=g_bgImage[a(432)];else for(let t=0;t<g_bgImage[a(432)];++t)if(e.defaultBgImage==g_bgImage[t]){g_bgImageIndex=t;break}g_sceneLightOn=e[a(374)],g_sceneGeomtryOn=e[a(352)],g_operationMode=e.defaultBaseOptMode,g_canvasTransparency=e[a(398)]}}function initP3DUIAPI(){var t=a59_0x5c3e56;(callback_v2=P3DUIAPI)[t(343)](container),callback_v2[t(360)]=commentOnSubmit,callback_v2.commentOnChange=commentOnChange,callback_v2.commentOnClick=commentOnClick,callback_v2[t(323)]=deleteCommentInput,callback_v2[t(430)]=moveCommentInput}function initSceneCanvas(){var t=a59_0x5c3e56,e=(web3dCanvas[t(320)]=container[t(379)],web3dCanvas.height=container[t(409)],createWebglContext());gl=e[t(380)],g_isWebgl2=2==e.ver}function init2dCanvas(){var t=a59_0x5c3e56;text2dCanvas[t(320)]=container[t(379)],text2dCanvas.height=container[t(409)],(gl2d=text2dCanvas[t(393)]("2d",{alpha:!0}))[t(368)](0,0,text2dCanvas[t(320)],text2dCanvas[t(356)]),gl2d[t(299)]="rgb(80,91,119,1.0)",gl2d.fill()}function a59_0x42a3(t,e){return a59_0xb56d[t-=298]}function startRender(){var t=a59_0x5c3e56;gl&&gl2d&&(initP3DUIAPI(),glRunTime.initRender(),addMouseListener(text2dCanvas),text2dCanvas[t(319)](t(316),fireFoxScollFun,!1),window[t(429)]=addCloseListenser,window[t(334)]=onCanvasResize,0==g_sceneData[t(329)][t(432)]||g_sceneData.arrModelData[0][t(382)]._Loaded?(glRunTime[t(420)](),glRunTime[t(351)](),callback_v3[t(378)]&&callback_v3.P3D_OnLoadModelEndCallback()):glRunTime[t(381)]())}function updateModel(a,n,i){var r=a59_0x5c3e56;if(!(a<0||a>g_sceneData.arrModelData[r(432)])){let t=new ADFCleParser,e=(t[r(349)]=n,t[r(333)]=new DataView(t[r(349)],0,t[r(349)][r(417)]),t[r(348)]=t[r(349)].byteLength,new ADF_MODEL_SAVEDATA);t[r(361)](e),g_sceneData[r(329)][a][r(382)]._Loaded=!0,t=null,glRunTime[r(426)](a,e),e[r(298)](),e=null,i&&startLoadModels(a+1)}}function clearModel(){var t=a59_0x5c3e56;clearAnimation(),glRunTime[t(344)](),commentDataClear(),clearNavigatorCanvas()}function getModelList(){var e=a59_0x5c3e56;if(null==g_sceneData)return null;var a=new Array;for(let t=0;t<g_sceneData.arrModelData[e(432)];t++)a[e(385)](g_sceneData[e(329)][t][e(382)][e(341)]);return a}function importModel(){var t=a59_0x5c3e56;return glRunTime[t(390)](callback_v3[t(370)])}function stopDefault(t){var e=a59_0x5c3e56;t[e(332)]?(t.preventDefault(),t[e(413)]()):(t[e(342)]=!0,t[e(303)]=!1)}function fireFoxScollFun(t){var e=a59_0x5c3e56;if(!isLockCavans)return CameraController[e(438)](g_cameraController,g_camera,-t[e(391)]),!1}function addKeyboardListener(t){var e=a59_0x5c3e56;document[e(319)]("keydown",onDocumentKeyDown,!1),document[e(319)]("keyup",onDocumentKeyUp,!1)}function removeKeyboardListener(){var t=a59_0x5c3e56;document[t(346)](t(355),onDocumentKeyDown,!1),document[t(346)]("keyup",onDocumentKeyUp,!1)}function getCanvasOrigin(){var t=a59_0x5c3e56,e=web3dCanvas.getBoundingClientRect();originPt.x=e.left,originPt.y=e[t(308)]}var g_isLocked=!1;function getPickElement(t,e,a,n){var i=a59_0x5c3e56;g_isLocked||(t=glRunTime.pick(t,e,a,n),curPickType=null==t||null==t[i(407)]?-2:t[i(317)])}function onDocumentKeyDown(t){var e=a59_0x5c3e56;isLockCavans||(isMultPick=t.ctrlKey?isShiftDown=!0:isShiftDown=!1,commentOnKeyDown(t),measureOnKeyDown(t),callback_v3[e(322)](t))}function onDocumentKeyUp(t){var e=a59_0x5c3e56;isLockCavans||(isMultPick=isShiftDown=!1,measureOnKeyUp(t),callback_v3[e(425)](t))}function webKeyDown(t,e){var a=a59_0x5c3e56;if(!isLockCavans){isKeyTap=!0,getCanvasOrigin();var n=t[a(300)]-originPt.x,i=t[a(362)]-originPt.y;switch(t[a(339)]){case 0:onMouseLeftKeyDown(e,n,i);break;case 1:onMouseMidKeyDown(e,n,i);break;case 2:onMouseRightKeyDown(e,n,i)}lastX=n,lastY=i}}function webKeyUp(t,e){if(!isLockCavans){getCanvasOrigin();var a=t.clientX-originPt.x,n=t.clientY-originPt.y;switch(t.button){case 0:onMouseLeftKeyUp(e,a,n);break;case 1:onMouseMidKeyUp(e,a,n);break;case 2:onMouseRightKeyUp(e,a,n)}pickedCommentIndex=-1,isKeyTap=!1}}function webWheel(t,e){var a=a59_0x5c3e56;isLockCavans||(CameraController.zoomWithMouseWheel(g_cameraController,g_camera,-t.deltaY),glRunTime[a(369)](),stopDefault(t))}function webKeyMove(t,e){var a,n=a59_0x5c3e56;isLockCavans||(getCanvasOrigin(),a=t[n(300)]-originPt.x,t=t[n(362)]-originPt.y,isKeyTap?dragLeft?onMouseLeftKeyMove(e,a,t):dragMid&&onMouseMidKeyMove(e,a,t):(glRunTime[n(373)]||glRunTime.isCaptureGeomtry)&&(e=glRunTime[n(396)](a,t),glRunTime[n(373)])&&(motionCaptureObjID=null!=e?glRunTime[n(309)](e[n(439)]):null),isUsrCommentFlag&&!isUsrCommInputShow&&(g_canvas[n(372)][n(410)](a,t),glRunTime[n(369)]()),measureOnKeyMove(a,t),null!=g_axisNvg&&g_axisNvg[n(347)]&&!g_canvas[n(377)]&&g_axisNvg[n(408)](a,t),lastX=a,lastY=t)}function onMouseLeftKeyDown(t,e,a){var n=a59_0x5c3e56;dragLeft=!0,selRect[n(325)].x=e,selRect[n(325)].y=a,t[n(371)]=function(){return!1},g_operationMode==MOUSE_OPERATION_MODE_DEFAULT?isShiftDown?glRunTime[n(315)]==RUNTIME_MODE_NORMAL&&getPickElement(e,a,isMultPick,!1):glRunTime[n(315)]==RUNTIME_MODE_MEASURE?measureOnLeftKeyDown(e,a):null!=g_axisNvg&&g_axisNvg[n(347)]&&g_axisNvg[n(314)](e,a):g_operationMode==MOUSE_OPERATION_MODE_ROTATE&&CameraController[n(307)](g_cameraController,g_camera,float2.from(e,a),null)}function onMouseMidKeyDown(t,e,a){var n=a59_0x5c3e56;dragMid=!0,g_operationMode==MOUSE_OPERATION_MODE_DEFAULT&&CameraController[n(307)](g_cameraController,g_camera,float2[n(357)](e,a),null)}function onMouseRightKeyDown(t,e,a){dragRight=!0,t[a59_0x5c3e56(371)]=function(){return!1}}function onMouseLeftKeyUp(t,e,a){var n=a59_0x5c3e56;if(dragLeft=!1,isKeyTap){if(null!=g_axisNvg&&g_axisNvg[n(347)]&&g_axisNvg[n(306)](e,a),glRunTime[n(305)]())return glRunTime[n(400)](null),glRunTime[n(404)](selRect),void glRunTime[n(367)](!1,selRect);if(isUsrCommentFlag&&isSingleComment)addSingleComment(lastX,lastY,test_note);else if(isUsrCommentFlag&&g_canvas[n(387)])return void g_sceneAnnotation[n(301)](lastX,lastY);if(getPickElement(lastX,lastY,isMultPick,!0),isMultPick)return;curDate=new Date,(curTime=curDate.getTime())-lastTime<doubleClickTimeMS&&lastPickType==curPickType&&(curPickType==RUNTIME_MODE_NORMAL?glRunTime[n(326)]():curPickType==RUNTIME_MODE_PMI?g_scenePmiManager[n(354)](g_scenePmiManager.intersectUnit[n(435)],g_scenePmiManager.intersectUnit[n(422)],g_scenePmiManager[n(358)][n(395)]):-2==curPickType&&glRunTime[n(326)]()),lastTime=curTime,lastPickType=curPickType}lastX=e,lastY=a}function onMouseMidKeyUp(t,e,a){dragMid=!1,g_operationMode==MOUSE_OPERATION_MODE_DEFAULT&&CameraController[a59_0x5c3e56(353)](g_cameraController),isUsrCommentFlag&&g_canvas.isDuringComment?getNewCommentNote(lastX,lastY):(measureOnMidKeyUp(e,a),lastX=e,lastY=a)}function onMouseRightKeyUp(t,e,a){dragRight=!1,isUsrCommentFlag&&!isUsrCommInputShow?g_sceneAnnotation.createCommentCancel():(measureOnRightKeyUp(e,a),lastX=e,lastY=a)}function onMouseLeftKeyMove(t,a,n){var i=a59_0x5c3e56;g_operationMode==MOUSE_OPERATION_MODE_DEFAULT?isShiftDown?isMove&&curPickType==RUNTIME_MODE_NORMAL&&-1<glRunTime[i(402)][i(407)].objectIndex&&glRunTime[i(414)](glRunTime[i(402)]._oPickUnit[i(439)],2*(a-lastX),-2*(n-lastY)):null!=g_axisNvg&&g_axisNvg[i(347)]?0==g_axisNvg.requestUpdate&&(window[i(428)](function(t){var e=i;g_axisNvg[e(363)](a,n),null!=callback_v3.P3D_OnSectionUpdateCallback&&callback_v3[e(384)](),g_axisNvg[e(302)]=!1}),g_axisNvg[i(302)]=!0):curPickType<0?(3<Math.abs(a-selRect[i(325)].x)||3<Math.abs(n-selRect[i(325)].y))&&(selRect[i(359)].x=a,selRect[i(359)].y=n,glRunTime[i(367)](!0,selRect)):curPickType==RUNTIME_MODE_MEASURE&&measureOnLeftKeyMove(a,n):g_operationMode==MOUSE_OPERATION_MODE_MOVE?glRunTime.move(2*(a-lastX),-2*(n-lastY)):g_operationMode==MOUSE_OPERATION_MODE_ROTATE&&(CameraController[i(419)](g_cameraController,float2[i(357)](a,n)),glRunTime[i(369)]()),lastX=a,lastY=n}function onMouseMidKeyMove(t,e,a){g_operationMode==MOUSE_OPERATION_MODE_DEFAULT&&(isShiftDown?glRunTime[a59_0x5c3e56(431)](2*(e-lastX),-2*(a-lastY)):(CameraController.drag(g_cameraController,float2.from(e,a)),glRunTime.flush())),lastX=e,lastY=a}function addMouseListener(a){var n=a59_0x5c3e56;a.onmousedown=function(t){var e=a59_0x42a3;webKeyDown(t,a),stopDefault(t),callback_v3[e(397)](t)},a[n(327)]=function(t){var e=n;webKeyUp(t,a),callback_v3[e(418)](t)},a[n(335)]=function(t){var e=n;webWheel(t,a),stopDefault(t),callback_v3[e(376)](t)},a[n(318)]=function(t){var e=n;webKeyMove(t,a),callback_v3[e(340)](t)},a.onmouseover=function(t){addKeyboardListener()},a.onmouseout=function(t){removeKeyboardListener()}}function addCloseListenser(){destoryComponet()}function onCanvasResize(){doCanvasResize(getContextWidth(gl),getContextHeight(gl))}function doCanvasResize(t,e){var a=a59_0x5c3e56,n=(resizeContext(gl,t,e),glRunTime[a(401)](t,e),new Point2(0,0));for(let t=0;t<g_usrCommOption[a(415)][a(432)];++t)g_canvas[a(421)](g_usrCommOption[a(415)][t][a(383)].x,g_usrCommOption[a(415)][t][a(383)].y,n),g_usrCommOption[a(415)][t].cvtPointToStyle(n);callback_v2[a(423)](g_usrCommOption),gl2d[a(312)][a(320)]=t,gl2d[a(312)][a(356)]=e}function setMouseOperationMode(t){t<MOUSE_OPERATION_MODE_DEFAULT||t>=MOUSE_OPERATION_MODE_END||(g_operationMode=t)}function transP3DTookkitPickElem(t,e){var a=a59_0x5c3e56;t._uPickType=P3D_ELEMENT_TYPE_NONE,t[a(350)].splice(0,t[a(350)][a(432)]);let n=0;e[a(317)]==RUNTIME_MODE_NORMAL?(t[a(317)]=P3D_ELEMENT_TYPE_PART,n=glRunTime.getObjectIdByIndex(e._oPickUnit[a(439)]),t[a(350)][a(385)](n)):e[a(317)]==RUNTIME_MODE_PMI&&(t._uPickType=P3D_ELEMENT_TYPE_PMI_ITEM,n=g_scenePmiManager[a(405)](e._oPickUnit[a(435)],e[a(407)][a(395)]),t._arrPickElements[a(385)](n))}var a95_0x4bcf=["createCommentUpdate","42IUrIce","curPickUnit","abs","drag","atan2","840747UhGjrJ","touches","pow","test","length","isDuringComment","ontouchend","1159wvpxyF","zoomWithTouch","4208461cAzNmd","from","objectMoveWindow","ontouchstart","beginDrag","170946bTRpEY","641051GvIknP","sqrt","endDrag","targetTouches","ontouchmove","1IzLkWu","userAgent","getTime","objectIndex","P3D_OnTouchStartCallBack","P3D_OnTouchMoveCallBack","999382IRUKGk","move","1SKftVu","clientX","1222936IoCrue","_oPickUnit","clientY"],a95_0x7335d8=a95_0x326c;function a95_0x326c(t,e){return a95_0x4bcf[t-=202]}!function(e){for(var t=a95_0x326c;;)try{if(626613===parseInt(t(202))*-parseInt(t(215))+-parseInt(t(213))*parseInt(t(207))+parseInt(t(240))+-parseInt(t(226))+-parseInt(t(217))+-parseInt(t(233))*parseInt(t(221))+parseInt(t(235)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a95_0x4bcf);var isPhone=/(iPhone|iPad|iPod|iOS|Android|ipad)/i[a95_0x7335d8(229)](navigator.userAgent)||/(Macintosh)/i.test(navigator[a95_0x7335d8(208)])&&a95_0x7335d8(232)in document,lastX1=-1,lastY1=-1,lastX2=-1,lastY2=-1,x1=-1,y1=-1,x2=-1,y2=-1,touch1=null,touch2=null,scaleFactor=1.2,moveSensitivity=1,rotateSensitivity=1,zRotateSensitive=.03,cameraMoveSensitivity=3,scaleSensitivity=.1,isKeyDown=!1,isKeyMove=!1,isKeyRotate=!1,isKeyScale=!1;function phoneKeyDown(t){var e=a95_0x7335d8;isLockCavans||(isKeyDown=!0,getCanvasOrigin(),1==t[e(205)][e(230)]?(touch1=t.targetTouches[0],x1=touch1.clientX-originPt.x,y1=touch1[e(219)]-originPt.y,CameraController[e(239)](g_cameraController,g_camera,float2.from(x1,y1),null),lastX1=x1,lastY1=y1):2==t[e(205)][e(230)]&&(touch1=t[e(205)][0],touch2=t.targetTouches[1],lastX1=touch1.clientX-originPt.x,lastY1=touch1[e(219)]-originPt.y,lastX2=touch2[e(216)]-originPt.x,lastY2=touch2.clientY-originPt.y))}function phoneKeyMove(t){var e,a,n,i=a95_0x7335d8;isLockCavans||isKeyDown&&(getCanvasOrigin(),1==t[i(205)][i(230)]?(touch1=t[i(205)][0],x1=touch1[i(216)]-originPt.x,y1=touch1.clientY-originPt.y,isMove?curPickType==RUNTIME_MODE_NORMAL&&(Math[i(223)](x1-lastX1)>moveSensitivity||Math.abs(y1-lastY1)>moveSensitivity)&&(glRunTime[i(237)](glRunTime[i(222)][i(218)][i(210)],2*(x1-lastX1),-2*(y1-lastY1)),lastX1=x1,lastY1=y1,isKeyMove=!0):(Math.abs(x1-lastX1)>rotateSensitivity||Math[i(223)](y1-lastY1)>rotateSensitivity)&&(CameraController[i(224)](g_cameraController,float2[i(236)](x1,y1)),isKeyRotate=!0),lastX1=x1,lastY1=y1):2==t[i(205)].length&&(touch1=t[i(205)][0],touch2=t.targetTouches[1],x1=touch1[i(216)]-originPt.x,y1=touch1.clientY-originPt.y,x2=touch2[i(216)]-originPt.x,y2=touch2[i(219)]-originPt.y,t=lastX1-lastX2,e=lastY1-lastY2,a=x1-x2,n=y1-y2,t=Math.sqrt(t*t+e*e),e=Math[i(203)](a*a+n*n),a=Math[i(225)](lastY2-lastY1,lastX2-lastX1),n=Math[i(225)](y2-y1,x2-x1),Math[i(223)](a-n)<=zRotateSensitive&&Math[i(223)](e-t)<=cameraMoveSensitivity?(Math[i(223)](x1-lastX1)>moveSensitivity||Math[i(223)](y1-lastY1)>moveSensitivity)&&0<(x1-lastX1)*(x2-lastX2)&&(glRunTime[i(214)](2*(x1-lastX1),-2*(y1-lastY1)),isKeyMove=!0):(a=Math[i(228)](Math[i(228)](lastX1-lastX2,2)+Math.pow(lastY1-lastY2,2),.5),n=Math[i(228)](Math[i(228)](x1-x2,2)+Math[i(228)](y1-y2,2),.5),CameraController[i(234)](g_cameraController,g_camera,n-a)),lastX1=x1,lastY1=y1,lastX2=x2,lastY2=y2))}function phoneKeyUp(t){var e=a95_0x7335d8;if(!isLockCavans){if(getCanvasOrigin(),isKeyDown&&!isKeyMove&&!isKeyRotate&&!isKeyScale)if(touch1=t.changedTouches[0],x1=touch1[e(216)]-originPt.x,y1=touch1[e(219)]-originPt.y,getPickElement(x1,y1,isMultPick,!0),curDate=new Date,(curTime=curDate[e(209)]())-lastTime<doubleClickTimeMS&&lastPickType==curPickType&&curPickType==RUNTIME_MODE_NORMAL&&glRunTime.setFocusOnObject(),lastTime=curTime,lastX1=x1,lastY1=y1,lastPickType=curPickType,1==t[e(227)][e(230)]&&isUsrCommentFlag&&g_canvas[e(231)]&&getNewCommentNote(lastX1,lastY1),isUsrCommentFlag&&isSingleComment)addSingleComment(lastX,lastY,test_note);else if(isUsrCommentFlag&&g_canvas[e(231)])return void g_sceneAnnotation[e(220)](lastX1,lastY1);pickedCommentIndex=-1,isKeyScale=isKeyRotate=isKeyMove=isKeyDown=isKeyTap=!1,CameraController[e(204)](g_cameraController)}}function addTouchListener(t){var a=a95_0x7335d8;t[a(238)]=function(t){var e=a;phoneKeyDown(t),callback_v3[e(211)](t)},t[a(206)]=function(t){var e=a;phoneKeyMove(t),callback_v3[e(212)](t)},t.ontouchend=function(t){phoneKeyUp(t),callback_v3.P3D_OnTouchEndCallBack(t)}}const a96_0x105f=["vecAxis","vTriVer3","onNvgMoveAxisZ_Finish","length","requestUpdate","onNvgMovePlaneYZ_Update","cross","pickAxis","2mxqucQ","onNvgMovePlaneXY_Begin","pickArc","pIntersectPtMove","mul","scale","planeXZ_M4","153CZynPY","planeYZ_M3","planeXZ_M3","onNvgRotateXY_Update","onNvgRotateXY_Begin","pIntersectPtRotate","axisArrowB","pickIndex","isDuringAxis","planeYZ_P1","127rpCIvP","planeXZ_P2","intersectArcZero","planeXY_P1","vecDir1","planeXY_P2","pickAxisNvg","planeXZ_P1","onNvgRotateYZ_Finish","init","setScale","83789AYXySp","pickPlane","push","abs","onNvgRotateYZ_Begin","axisY","onNvgRotateXY_Finish","axisYCir","axisZ","160467reWowk","pIntersectPt","vTriVer2","xzCirRev","callbacks","from","planeYZ_P4","calAxisRotateUpdatePos","isBind","283581iMxNwo","axisXArrow","vecDirCross","setShowLeadLines","xzCir","onNvgMoveAxisZ_Begin","onNvgRotateYZ_Update","axisOrigin","axisZArrow","RayPoint1","yzCirRev","xyCirRev","1449ecGXoI","ptIntersect","380417xIxGHS","Copy","yzCir","onNvgRotateXZ_Begin","onMouseKeyDown","onNvgMovePlaneXY_Update","cvtScreenToWorld","showLeadLine","planeXZ_M1","splice","onNvgMovePlaneYZ_Begin","calAxisRotateUpdateAngle","intersectTool","planeXZ_P4","planeXY_M1","onNvgMovePlaneXZ_Begin","calPlaneMoveUpdatePos","planeXY_P3","vecDir2","onNvgRotateXZ_Finish","set","onNvgMovePlaneXZ_Finish","onNvgMoveAxisY_Finish","onNvgMoveAxisZ_Update","vTriVer4","onNvgMovePlaneYZ_Finish","moveDir","planeXY_M2","axisNvgEnable","arrIndexs","vLinePt2","1VMpONa","box","2fApWPS","arrDistance","updateBindMat","nvgMatrix","planeXZ_P3","unInit","2685rTldFj","planeYZ_P3","planeYZ_M2","onNvgMoveAxisX_Update","axisX","vTriVer1","onNvgMovePlaneXZ_Update","intersectRayBox","axisCircleR","isInit","onNvgMoveAxisX_Finish","onNvgMoveAxisX_Begin","angle","flush2D","index","normalize","vLinePt1","436123BGwRWX","onNvgMoveAxisY_Begin","planeYZ_M1","planeXY_P4","planeXY_M4","planeYZ_P2","axisYArrow","intersectArrowZero","isInIntersectZero","onNvgMovePlaneXY_Finish","arrIntersectPt","xyCir","intersectAxisZero","RayPoint2","unBind","onNvgMoveAxisY_Update","onNvgRotateXZ_Update","calAxisMoveUpdatePos"],a96_0x40bb4e=a96_0x588f;function a96_0x588f(t,e){return t-=327,a96_0x105f[t]}!function(e){for(var t=a96_0x588f;;)try{if(260305===parseInt(t(330))*parseInt(t(358))+-parseInt(t(388))*-parseInt(t(337))+parseInt(t(423))*-parseInt(t(367))+-parseInt(t(429))*parseInt(t(347))+parseInt(t(446))+-parseInt(t(376))+parseInt(t(390))*parseInt(t(421)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a96_0x105f);const AXIS_LENGTH=1,AXIS_ARROW_B=.02,AXIS_ARROW_H=.15,AXIS_CIRCLE_R=.7,AXIS_PLANE_OFFSET=.1,AXIS_PLANE_E=.15,AXIS_SCALE=.3,AXIS_ZERO=1e-6,_axisX=float3.from(AXIS_LENGTH,0,0),_axisY=float3.from(0,AXIS_LENGTH,0),_axisZ=float3[a96_0x40bb4e(372)](0,0,AXIS_LENGTH),_axisX_A=float3[a96_0x40bb4e(372)](AXIS_LENGTH+AXIS_ARROW_H,0,0),_axisY_A=float3.from(0,AXIS_LENGTH+AXIS_ARROW_H,0),_axisZ_A=float3.from(0,0,AXIS_LENGTH+AXIS_ARROW_H),_axisXCir=float3[a96_0x40bb4e(372)](AXIS_CIRCLE_R,0,0),_axisYCir=float3[a96_0x40bb4e(372)](0,AXIS_CIRCLE_R,0),_axisZCir=float3[a96_0x40bb4e(372)](0,0,AXIS_CIRCLE_R),_planeXZ_P1=float3[a96_0x40bb4e(372)](AXIS_PLANE_OFFSET,0,AXIS_PLANE_OFFSET),_planeXZ_P2=float3[a96_0x40bb4e(372)](AXIS_PLANE_OFFSET+AXIS_PLANE_E,0,AXIS_PLANE_OFFSET),_planeXZ_P3=float3.from(AXIS_PLANE_OFFSET+AXIS_PLANE_E,0,AXIS_PLANE_OFFSET+AXIS_PLANE_E),_planeXZ_P4=float3[a96_0x40bb4e(372)](AXIS_PLANE_OFFSET,0,AXIS_PLANE_OFFSET+AXIS_PLANE_E),_planeXZ_M1=float3.from(-AXIS_LENGTH,0,-AXIS_LENGTH),_planeXZ_M2=float3[a96_0x40bb4e(372)](AXIS_LENGTH,0,-AXIS_LENGTH),_planeXZ_M3=float3[a96_0x40bb4e(372)](AXIS_LENGTH,0,AXIS_LENGTH),_planeXZ_M4=float3.from(-AXIS_LENGTH,0,AXIS_LENGTH),_planeXY_P1=float3[a96_0x40bb4e(372)](AXIS_PLANE_OFFSET,AXIS_PLANE_OFFSET,0),_planeXY_P2=float3[a96_0x40bb4e(372)](AXIS_PLANE_OFFSET+AXIS_PLANE_E,AXIS_PLANE_OFFSET,0),_planeXY_P3=float3[a96_0x40bb4e(372)](AXIS_PLANE_OFFSET+AXIS_PLANE_E,AXIS_PLANE_OFFSET+AXIS_PLANE_E,0),_planeXY_P4=float3[a96_0x40bb4e(372)](AXIS_PLANE_OFFSET,AXIS_PLANE_OFFSET+AXIS_PLANE_E,0),_planeXY_M1=float3[a96_0x40bb4e(372)](-AXIS_LENGTH,-AXIS_LENGTH,0),_planeXY_M2=float3[a96_0x40bb4e(372)](-AXIS_LENGTH,AXIS_LENGTH,0),_planeXY_M3=float3[a96_0x40bb4e(372)](AXIS_LENGTH,AXIS_LENGTH,0),_planeXY_M4=float3[a96_0x40bb4e(372)](AXIS_LENGTH,-AXIS_LENGTH,0),_planeYZ_P1=float3[a96_0x40bb4e(372)](0,AXIS_PLANE_OFFSET,AXIS_PLANE_OFFSET),_planeYZ_P2=float3[a96_0x40bb4e(372)](0,AXIS_PLANE_OFFSET+AXIS_PLANE_E,AXIS_PLANE_OFFSET),_planeYZ_P3=float3[a96_0x40bb4e(372)](0,AXIS_PLANE_OFFSET+AXIS_PLANE_E,AXIS_PLANE_OFFSET+AXIS_PLANE_E),_planeYZ_P4=float3.from(0,AXIS_PLANE_OFFSET,AXIS_PLANE_OFFSET+AXIS_PLANE_E),_planeYZ_M1=float3.from(0,-AXIS_LENGTH,-AXIS_LENGTH),_planeYZ_M2=float3[a96_0x40bb4e(372)](0,-AXIS_LENGTH,AXIS_LENGTH),_planeYZ_M3=float3[a96_0x40bb4e(372)](0,AXIS_LENGTH,AXIS_LENGTH),_planeYZ_M4=float3.from(0,AXIS_LENGTH,-AXIS_LENGTH),VALUE_AXIS_X=0,VALUE_AXIS_Y=1,VALUE_AXIS_Z=2,VALUE_AXIS_XY_CIR=3,VALUE_AXIS_XZ_CIR=4,VALUE_AXIS_YZ_CIR=5,VALUE_PLANE_XY=6,VALUE_PLANE_XZ=7,VALUE_PLANE_YZ=8;function AxisNvgCallbacks(){var t=a96_0x40bb4e;this.onNvgMoveAxisX_Begin=null,this.onNvgMoveAxisX_Update=null,this[t(439)]=null,this[t(447)]=null,this[t(461)]=null,this.onNvgMoveAxisY_Finish=null,this.onNvgMoveAxisZ_Begin=null,this.onNvgMoveAxisZ_Update=null,this.onNvgMoveAxisZ_Finish=null,this[t(341)]=null,this[t(340)]=null,this[t(364)]=null,this.onNvgRotateXZ_Begin=null,this[t(462)]=null,this[t(409)]=null,this[t(362)]=null,this[t(382)]=null,this[t(355)]=null,this.onNvgMovePlaneXY_Begin=null,this[t(395)]=null,this[t(455)]=null,this.onNvgMovePlaneXZ_Begin=null,this.onNvgMovePlaneXZ_Update=null,this[t(411)]=null,this[t(400)]=null,this[t(327)]=null,this[t(415)]=null}function AxisNavigator(){const _=a96_0x40bb4e;this[_(383)]=float3[_(372)](0,0,0),this.isInit=!1,this[_(375)]=!1,this[_(468)]=!1,this[_(335)]=AXIS_SCALE,this[_(397)]=!0,this.pickIndex=-1,this[_(426)]=null,this[_(371)]=null,this[_(425)]=null,this.intersectTool=new CommonItersectTool,this[_(385)]=new Point3(0,0,0),this[_(459)]=new Point3(0,0,0),this.vLinePt1=new ADF_BASEFLOAT3,this[_(420)]=new ADF_BASEFLOAT3,this[_(434)]=new ADF_BASEFLOAT3,this.vTriVer2=new ADF_BASEFLOAT3,this[_(465)]=new ADF_BASEFLOAT3,this[_(414)]=new ADF_BASEFLOAT3,this[_(368)]=new ADF_BASEFLOAT3,this[_(458)]=30,this[_(453)]=50,this[_(349)]=50,this[_(419)]=new Array,this[_(424)]=new Array,this[_(456)]=new Array,this[_(351)]=new Vector3(0,0,0),this[_(408)]=new Vector3(0,0,0),this[_(464)]=new Vector3(0,0,0),this[_(378)]=new Vector3(0,0,0),this[_(333)]=new ADF_BASEFLOAT3,this[_(342)]=new ADF_BASEFLOAT3,this[_(416)]=new ADF_BASEFLOAT3,this[_(356)]=function(t=AXIS_SCALE){var e=_;return this[e(438)]||(this[e(357)](t),this.isInit=!0),!0},this[_(428)]=function(){this[_(457)]=null,this.xzCir=null,this.yzCir=null,this.isInit=!1},this.bind=function(t,e,a){var n=_;this[n(426)]=t,this[n(371)]=e,this[n(425)]=a,this[n(375)]=!0},this[_(460)]=function(){var t=_;this.nvgMatrix=null,this[t(371)]=null,this[t(425)]=null,this.isBind=!1},this.setScale=function(t){var e=_,a=(this[e(335)]=t,this[e(433)]=float3[e(334)](null,_axisX,t),this[e(363)]=float3[e(334)](null,_axisY,t),this[e(366)]=float3[e(334)](null,_axisZ,t),this[e(377)]=float3[e(334)](null,_axisX_A,t),this[e(452)]=float3.mul(null,_axisY_A,t),this[e(384)]=float3[e(334)](null,_axisZ_A,t),this.axisXCir=float3[e(334)](null,_axisXCir,t),this[e(365)]=float3[e(334)](null,_axisYCir,t),this.axisZCir=float3.mul(null,_axisZCir,t),this[e(354)]=float3[e(334)](null,_planeXZ_P1,t),this[e(348)]=float3.mul(null,_planeXZ_P2,t),this[e(427)]=float3.mul(null,_planeXZ_P3,t),this[e(403)]=float3.mul(null,_planeXZ_P4,t),this[e(350)]=float3[e(334)](null,_planeXY_P1,t),this[e(352)]=float3[e(334)](null,_planeXY_P2,t),this[e(407)]=float3.mul(null,_planeXY_P3,t),this[e(449)]=float3[e(334)](null,_planeXY_P4,t),this[e(346)]=float3[e(334)](null,_planeYZ_P1,t),this[e(451)]=float3.mul(null,_planeYZ_P2,t),this.planeYZ_P3=float3[e(334)](null,_planeYZ_P3,t),this[e(373)]=float3[e(334)](null,_planeYZ_P4,t),this[e(404)]=float3[e(334)](null,_planeXY_M1,t),this[e(417)]=float3.mul(null,_planeXY_M2,t),this.planeXY_M3=float3[e(334)](null,_planeXY_M3,t),this[e(450)]=float3.mul(null,_planeXY_M4,t),this[e(398)]=float3[e(334)](null,_planeXZ_M1,t),this.planeXZ_M2=float3[e(334)](null,_planeXZ_M2,t),this[e(339)]=float3[e(334)](null,_planeXZ_M3,t),this[e(336)]=float3.mul(null,_planeXZ_M4,t),this[e(448)]=float3[e(334)](null,_planeYZ_M1,t),this[e(431)]=float3[e(334)](null,_planeYZ_M2,t),this[e(338)]=float3[e(334)](null,_planeYZ_M3,t),this.planeYZ_M4=float3[e(334)](null,_planeYZ_M4,t),this.axisCircleR=AXIS_CIRCLE_R*t,this[e(343)]=AXIS_ARROW_B*t,-AXIS_ARROW_H*t),n=(AXIS_LENGTH+AXIS_ARROW_H)*t,a=new Point3(a,a,a),n=new Point3(n,n,n),a=(this[e(422)]=new Box3D,TranBox3D(a,n,this[e(422)]),new ADF_BASEFLOAT3),n=new ADF_BASEFLOAT3,i=new ADF_BASEFLOAT3,r=new ADF_BASEFLOAT3,s=new ADF_BASEMATRIX,o=(a.x=this[e(383)][0],a.y=this[e(383)][1],a.z=this[e(383)][2],n.x=this[e(433)][0],n.y=this[e(433)][1],n.z=this[e(433)][2],i.x=this[e(363)][0],i.y=this[e(363)][1],i.z=this[e(363)][2],r.x=this[e(366)][0],r.y=this[e(366)][1],r.z=this.axisZ[2],Math.PI/2/alpha+1),l=3*Math.PI/2/alpha+1;this[e(457)]=new Float32Array(3*o),this.xzCir=new Float32Array(3*o),this[e(392)]=new Float32Array(3*o),this[e(387)]=new Float32Array(3*l),this.xzCirRev=new Float32Array(3*l),this[e(386)]=new Float32Array(3*l),GetArcTransformMatrix(a,n,i,0,Math.PI/2,this[e(437)],null,s),SplitArc_LineTripFloat32Array(this[e(437)],0,Math.PI/2,s,eAxisZ,this.xyCir),SplitArc_LineTripFloat32Array(this.axisCircleR,Math.PI/2,2*Math.PI,s,eAxisZ,this[e(387)]),ADFMatrixIdentity(s),GetArcTransformMatrix(a,n,r,0,Math.PI/2,this[e(437)],null,s),SplitArc_LineTripFloat32Array(this[e(437)],0,Math.PI/2,s,eAxisY,this[e(380)]),SplitArc_LineTripFloat32Array(this.axisCircleR,Math.PI/2,2*Math.PI,s,eAxisY,this[e(370)]),ADFMatrixIdentity(s),GetArcTransformMatrix(a,i,r,0,Math.PI/2,this[e(437)],null,s),SplitArc_LineTripFloat32Array(this.axisCircleR,0,Math.PI/2,s,eAxisX,this.yzCir),SplitArc_LineTripFloat32Array(this[e(437)],Math.PI/2,2*Math.PI,s,eAxisX,this[e(386)]),this.intersectAxisZero*=t,this[e(453)]*=t,this[e(349)]*=t,this.isInit&&g_canvas[e(442)]()},this[_(379)]=function(t){this[_(397)]=t},this.onMouseOver=function(t,e){var a=_,t=(glRunTime[a(396)](t,e,this[a(385)],this[a(459)]),this[a(353)](this[a(385)],this[a(459)]));if(null==t)return 0<=this[a(344)]&&(this.pickIndex=-1,glRunTime[a(442)]()),-1;this[a(344)]!=t[a(443)]&&(this.pickIndex=t[a(443)],glRunTime[a(442)]()),this.pIntersectPt.Copy(t[a(389)])},this[_(394)]=function(t,e){var a=_;if(!(this.pickIndex<0))switch(g_canvas[a(345)]=!0,this[a(344)]){case VALUE_AXIS_X:this[a(371)].onNvgMoveAxisX_Begin(this[a(368)]);break;case VALUE_AXIS_Y:this[a(371)][a(447)](this[a(368)]);break;case VALUE_AXIS_Z:this.callbacks.onNvgMoveAxisZ_Begin(this[a(368)]);break;case VALUE_AXIS_XY_CIR:CalTranslatePoint(this[a(383)][0],this[a(383)][1],this.axisOrigin[2],this.nvgMatrix,this.vTriVer1),this[a(351)][a(410)](this[a(368)].x-this.vTriVer1.x,this.pIntersectPt.y-this[a(434)].y,this[a(368)].z-this[a(434)].z),this[a(351)][a(444)](),CalTranslatePoint(this[a(366)][0],this[a(366)][1],this.axisZ[2],this[a(426)],this.vTriVer2),this[a(464)][a(410)](this[a(369)].x-this.vTriVer1.x,this[a(369)].y-this[a(434)].y,this.vTriVer2.z-this[a(434)].z),this[a(464)][a(444)](),this[a(371)][a(341)]();break;case VALUE_AXIS_XZ_CIR:CalTranslatePoint(this.axisOrigin[0],this[a(383)][1],this.axisOrigin[2],this[a(426)],this[a(434)]),this.vecDir1[a(410)](this[a(368)].x-this[a(434)].x,this[a(368)].y-this[a(434)].y,this[a(368)].z-this[a(434)].z),this.vecDir1[a(444)](),CalTranslatePoint(this.axisY[0],this.axisY[1],this[a(363)][2],this[a(426)],this[a(369)]),this.vecAxis[a(410)](this[a(369)].x-this.vTriVer1.x,this[a(369)].y-this[a(434)].y,this.vTriVer2.z-this[a(434)].z),this[a(464)][a(444)](),this.callbacks[a(393)]();break;case VALUE_AXIS_YZ_CIR:CalTranslatePoint(this[a(383)][0],this.axisOrigin[1],this[a(383)][2],this[a(426)],this[a(434)]),this[a(351)][a(410)](this[a(368)].x-this[a(434)].x,this.pIntersectPt.y-this[a(434)].y,this[a(368)].z-this[a(434)].z),this[a(351)].normalize(),CalTranslatePoint(this[a(433)][0],this[a(433)][1],this[a(433)][2],this[a(426)],this[a(369)]),this[a(464)].set(this[a(369)].x-this[a(434)].x,this[a(369)].y-this[a(434)].y,this[a(369)].z-this[a(434)].z),this[a(464)].normalize(),this[a(371)][a(362)]();break;case VALUE_PLANE_XY:this[a(371)][a(331)](this.pIntersectPt);break;case VALUE_PLANE_XZ:this[a(371)][a(405)](this.pIntersectPt);break;case VALUE_PLANE_YZ:this[a(371)][a(400)](this.pIntersectPt);break;default:g_canvas[a(345)]=!1}},this.onMouseKeyUp=function(t,e){var a=_;if(!(this[a(344)]<0)){switch(this[a(344)]){case VALUE_AXIS_X:this.callbacks[a(439)]();break;case VALUE_AXIS_Y:this[a(371)][a(412)]();break;case VALUE_AXIS_Z:this[a(371)][a(466)]();break;case VALUE_AXIS_XY_CIR:this[a(371)][a(364)]();break;case VALUE_AXIS_XZ_CIR:this[a(371)].onNvgRotateXZ_Finish();break;case VALUE_AXIS_YZ_CIR:this.callbacks[a(355)]();break;case VALUE_PLANE_XY:this[a(371)][a(455)]();break;case VALUE_PLANE_XZ:this[a(371)].onNvgMovePlaneXZ_Finish();break;case VALUE_PLANE_YZ:this[a(371)][a(415)]()}g_canvas[a(345)]=!1,this.pickIndex=-1}},this.onMouseKeyMove=function(e,a){var n=_;if(!(this[n(344)]<0)){let t=0;switch(glRunTime[n(396)](e,a,this[n(385)],this[n(459)]),this.pickIndex){case VALUE_AXIS_X:this[n(463)](this[n(383)],this.axisXArrow,this[n(426)],this[n(385)],this.RayPoint2),this[n(371)][n(432)](this[n(333)]);break;case VALUE_AXIS_Y:this[n(463)](this[n(383)],this[n(452)],this[n(426)],this[n(385)],this[n(459)]),this[n(371)][n(461)](this[n(333)]);break;case VALUE_AXIS_Z:this.calAxisMoveUpdatePos(this.axisOrigin,this[n(384)],this[n(426)],this[n(385)],this.RayPoint2),this[n(371)][n(413)](this[n(333)]);break;case VALUE_AXIS_XY_CIR:this.calAxisRotateUpdatePos(this.xyCir,this[n(426)],this[n(385)],this.RayPoint2),t=this[n(401)](),this[n(371)][n(340)](t);break;case VALUE_AXIS_XZ_CIR:this.calAxisRotateUpdatePos(this.xzCir,this.nvgMatrix,this[n(385)],this[n(459)]),t=this[n(401)](),this.callbacks.onNvgRotateXZ_Update(t);break;case VALUE_AXIS_YZ_CIR:this[n(374)](this[n(392)],this[n(426)],this[n(385)],this.RayPoint2),t=this[n(401)](),this.callbacks[n(382)](t);break;case VALUE_PLANE_XY:this[n(406)](this[n(404)],this[n(417)],this.planeXY_M3,this[n(450)],this[n(426)],this[n(385)],this.RayPoint2)&&this[n(371)][n(395)](this.pIntersectPtMove);break;case VALUE_PLANE_XZ:this[n(406)](this[n(398)],this.planeXZ_M2,this[n(339)],this[n(336)],this[n(426)],this.RayPoint1,this.RayPoint2)&&this[n(371)][n(435)](this[n(333)]);break;case VALUE_PLANE_YZ:this.calPlaneMoveUpdatePos(this[n(448)],this[n(431)],this.planeYZ_M3,this.planeYZ_M4,this.nvgMatrix,this.RayPoint1,this[n(459)])&&this[n(371)][n(327)](this[n(333)])}}},this.axisNvgEnable=function(t){var e=_;switch(t){case VALUE_AXIS_X:return null!=this[e(371)][e(440)]&&null!=this[e(371)].onNvgMoveAxisX_Update&&null!=this[e(371)][e(439)];case VALUE_AXIS_Y:return null!=this[e(371)][e(447)]&&null!=this.callbacks.onNvgMoveAxisY_Update&&null!=this.callbacks[e(412)];case VALUE_AXIS_Z:return null!=this[e(371)][e(381)]&&null!=this[e(371)][e(413)]&&null!=this[e(371)][e(466)];case VALUE_AXIS_XY_CIR:return null!=this.callbacks[e(341)]&&null!=this[e(371)][e(340)]&&null!=this[e(371)][e(364)];case VALUE_AXIS_XZ_CIR:return null!=this[e(371)][e(393)]&&null!=this[e(371)][e(462)]&&null!=this[e(371)][e(409)];case VALUE_AXIS_YZ_CIR:return null!=this.callbacks[e(362)]&&null!=this[e(371)].onNvgRotateYZ_Update&&null!=this[e(371)][e(355)];case VALUE_PLANE_XY:return null!=this.callbacks.onNvgMovePlaneXY_Begin&&null!=this[e(371)].onNvgMovePlaneXY_Update&&null!=this.callbacks[e(455)];case VALUE_PLANE_XZ:return null!=this.callbacks[e(405)]&&null!=this.callbacks[e(435)]&&null!=this.callbacks[e(411)];case VALUE_PLANE_YZ:return null!=this[e(371)].onNvgMovePlaneYZ_Begin&&null!=this[e(371)][e(327)]&&null!=this[e(371)].onNvgMovePlaneYZ_Finish;default:return!1}},this[_(353)]=function(t,e){var n=_;if(null==this[n(371)])return null;if(this[n(445)].x=t.x,this.vLinePt1.y=t.y,this[n(445)].z=t.z,this.vLinePt2.x=e.x,this[n(420)].y=e.y,this[n(420)].z=e.z,this[n(424)][n(399)](0,this.arrDistance.length),this[n(456)][n(399)](0,this[n(456)][n(467)]),this[n(419)][n(399)](0,this[n(419)][n(467)]),this[n(402)][n(436)](t,e,this[n(422)],this[n(426)])&&(this[n(418)](VALUE_AXIS_X)&&this[n(329)](this[n(383)],this[n(433)],this[n(377)],this[n(426)],VALUE_AXIS_X),this[n(418)](VALUE_AXIS_Y)&&this[n(329)](this[n(383)],this.axisY,this[n(452)],this[n(426)],VALUE_AXIS_Y),this[n(418)](VALUE_AXIS_Z)&&this[n(329)](this[n(383)],this.axisZ,this[n(384)],this[n(426)],VALUE_AXIS_Z),this[n(418)](VALUE_AXIS_XY_CIR)&&this[n(332)](this[n(457)],this[n(426)],VALUE_AXIS_XY_CIR),this.axisNvgEnable(VALUE_AXIS_XZ_CIR)&&this[n(332)](this[n(380)],this[n(426)],VALUE_AXIS_XZ_CIR),this[n(418)](VALUE_AXIS_YZ_CIR)&&this[n(332)](this[n(392)],this[n(426)],VALUE_AXIS_YZ_CIR),this[n(418)](VALUE_PLANE_XY)&&this[n(359)](this[n(350)],this[n(352)],this[n(407)],this[n(449)],this[n(426)],VALUE_PLANE_XY),this[n(418)](VALUE_PLANE_XZ)&&this[n(359)](this[n(354)],this[n(348)],this.planeXZ_P3,this[n(403)],this[n(426)],VALUE_PLANE_XZ),this[n(418)](VALUE_PLANE_YZ))&&this.pickPlane(this[n(346)],this[n(451)],this[n(430)],this[n(373)],this[n(426)],VALUE_PLANE_YZ),0==this.arrDistance.length)return null;{let e=1/0,a=0;for(let t=0;t<this[n(424)][n(467)];t++)this[n(424)][t]<e&&(e=this[n(424)][t],a=t);return{dDistance:e,ptIntersect:this[n(456)][a],index:this[n(419)][a]}}},this[_(329)]=function(t,e,a,n,i){var r=_;CalTranslatePoint(t[0],t[1],t[2],n,this.vTriVer1),CalTranslatePoint(e[0],e[1],e[2],n,this.vTriVer2),CalTranslatePoint(a[0],a[1],a[2],n,this[r(465)]);let s=CalcDistanceOfTwoLineSeg(this[r(434)],this[r(369)],this[r(445)],this[r(420)],this.pIntersectPt);this.intersectTool[r(454)](this[r(368)],this[r(445)],this[r(458)])?(s=CalDistanceOfPoint3d(this[r(368)],this.vLinePt1),(t=new ADF_BASEFLOAT3)[r(391)](this[r(368)]),this[r(424)][r(360)](s),this[r(456)][r(360)](t),this[r(419)].push(i)):(s=CalcDistanceOfTwoLineSeg(this[r(369)],this[r(465)],this[r(445)],this[r(420)],this.pIntersectPt),this[r(402)].isInIntersectZero(this[r(368)],this[r(445)],this[r(453)])&&(s=CalDistanceOfPoint3d(this[r(368)],this.vLinePt1),(e=new ADF_BASEFLOAT3).Copy(this[r(368)]),this[r(424)][r(360)](s),this[r(456)][r(360)](e),this[r(419)][r(360)](i)))},this[_(332)]=function(e,a,t){var n=_;let i=1/0,r=!1,s=new ADF_BASEFLOAT3;for(let t=0;t<e[n(467)];t+=3){CalTranslatePoint(e[t],e[t+1],e[t+2],a,this[n(434)]),CalTranslatePoint(e[t+3],e[t+4],e[t+5],a,this[n(369)]);var o=CalcDistanceOfTwoLineSeg(this[n(434)],this[n(369)],this[n(445)],this[n(420)],this[n(368)]);this[n(402)].isInIntersectZero(this[n(368)],this[n(445)],this[n(349)])&&o<i&&(s[n(391)](this[n(368)]),i=o,r=!0)}r&&(this.arrDistance[n(360)](i),this[n(456)].push(s),this[n(419)][n(360)](t))},this.pickPlane=function(t,e,a,n,i,r){var s=_;CalTranslatePoint(t[0],t[1],t[2],i,this[s(434)]),CalTranslatePoint(e[0],e[1],e[2],i,this[s(369)]),CalTranslatePoint(a[0],a[1],a[2],i,this[s(465)]),CalTranslatePoint(n[0],n[1],n[2],i,this.vTriVer4);let o=-1,l=null;CalcIntersectOfLineSegTriangle(this[s(445)],this[s(420)],this[s(434)],this[s(369)],this[s(465)],this[s(368)])?(o=CalDistanceOfPoint3d(this[s(368)],this[s(445)]),(l=new ADF_BASEFLOAT3)[s(391)](this[s(368)]),this.arrDistance[s(360)](o),this[s(456)][s(360)](l),this[s(419)][s(360)](r)):CalcIntersectOfLineSegTriangle(this[s(445)],this.vLinePt2,this[s(465)],this[s(414)],this[s(434)],this.pIntersectPt)&&(o=CalDistanceOfPoint3d(this.pIntersectPt,this[s(445)]),(l=new ADF_BASEFLOAT3).Copy(this.pIntersectPt),this[s(424)][s(360)](o),this[s(456)][s(360)](l),this.arrIndexs[s(360)](r))},this[_(463)]=function(t,e,a,n,i){var r=_;this[r(445)].x=n.x,this[r(445)].y=n.y,this.vLinePt1.z=n.z,this[r(420)].x=i.x,this[r(420)].y=i.y,this[r(420)].z=i.z,CalTranslatePoint(t[0],t[1],t[2],a,this.vTriVer1),CalTranslatePoint(e[0],e[1],e[2],a,this[r(369)]),CalcDistanceOfTwoLineSeg(this[r(434)],this.vTriVer2,this[r(445)],this[r(420)],this[r(333)])},this[_(374)]=function(e,a,t,n){var i=_;this[i(445)].x=t.x,this[i(445)].y=t.y,this[i(445)].z=t.z,this[i(420)].x=n.x,this[i(420)].y=n.y,this[i(420)].z=n.z;let r=1/0,s=new ADF_BASEFLOAT3;for(let t=0;t<e[i(467)];t+=3){CalTranslatePoint(e[t],e[t+1],e[t+2],a,this[i(434)]),CalTranslatePoint(e[t+3],e[t+4],e[t+5],a,this.vTriVer2);var o=CalcDistanceOfTwoLineSeg(this[i(434)],this[i(369)],this[i(445)],this.vLinePt2,this[i(342)]);o<r&&(s[i(391)](this.pIntersectPtRotate),r=o)}this[i(342)][i(391)](s)},this[_(401)]=function(){var t=_;let e=0;return CalTranslatePoint(this.axisOrigin[0],this[t(383)][1],this[t(383)][2],this.nvgMatrix,this.vTriVer1),this[t(408)][t(410)](this.pIntersectPtRotate.x-this.vTriVer1.x,this[t(342)].y-this[t(434)].y,this.pIntersectPtRotate.z-this[t(434)].z),this[t(408)][t(444)](),Math[t(361)](this.vecDir2.y-this.vecDir1.y)<AXIS_ZERO&&Math[t(361)](this[t(408)].x-this.vecDir1.x)<AXIS_ZERO&&Math.abs(this[t(408)].z-this[t(351)].z)<AXIS_ZERO?0:(this[t(408)][t(328)](this[t(351)],this[t(378)]),e=0<this[t(378)].dot(this[t(464)])?-this.vecDir2[t(441)](this[t(351)]):this[t(408)].angle(this.vecDir1))},this[_(406)]=function(t,e,a,n,i,r,s){var o=_;return this[o(445)].x=r.x,this[o(445)].y=r.y,this[o(445)].z=r.z,this.vLinePt2.x=s.x,this[o(420)].y=s.y,this[o(420)].z=s.z,CalTranslatePoint(t[0],t[1],t[2],i,this.vTriVer1),CalTranslatePoint(e[0],e[1],e[2],i,this.vTriVer2),CalTranslatePoint(a[0],a[1],a[2],i,this[o(465)]),CalTranslatePoint(n[0],n[1],n[2],i,this[o(414)]),!!CalcIntersectOfLineSegTriangle(this.vLinePt1,this[o(420)],this.vTriVer1,this[o(369)],this[o(465)],this[o(333)])||!!CalcIntersectOfLineSegTriangle(this[o(445)],this[o(420)],this[o(465)],this[o(414)],this[o(434)],this[o(333)])}}var a100_0x28ca=["7rVbBrA","onNvgRotateXY_Begin","onNvgMovePlaneXY_Update","onNvgMoveAxisX_Begin","onNvgMovePlaneXY_Finish","mProj","init","object navigator bind fail!","onNvgRotateYZ_Finish","5477RASbnQ","onNvgRotateYZ_Update","onNvgRotateXZ_Begin","704262QYTFiH","objectRotateWorldFinish","unbind","onNvgRotateXY_Finish","objectMoveWorldStart","23917NiLhFP","onNvgRotateXZ_Finish","getPickedIndex","axisOrigin","onNvgMoveAxisX_Finish","multiply","onNvgMoveAxisZ_Update","unBind","bind object fail, no object is selected!","11RMmldJ","487801tMkmcR","onNvgMoveAxisY_Finish","onNvgRotateYZ_Begin","onNvgMoveAxisZ_Begin","onNvgMovePlaneYZ_Finish","objectRotateWorldStart","create","1GxrKom","onNvgMovePlaneYZ_Begin","objectRotateWorldUpdate","onNvgMoveAxisZ_Finish","onNvgRotateXZ_Update","log","onNvgMovePlaneXZ_Finish","objectMoveWorldFinish","updateBindMatrix","GetObjectScale","objectMoveWorldUpdate","onNvgMovePlaneYZ_Update","onNvgMoveAxisX_Update","516373SwUGIK","199501aHmcBS","onNvgMovePlaneXZ_Update","702458qUHRmF","onNvgMovePlaneXY_Begin"],a100_0x57acc2=a100_0x15bd;function a100_0x15bd(t,e){return a100_0x28ca[t-=224]}!function(e){for(var t=a100_0x15bd;;)try{if(453935===parseInt(t(240))*-parseInt(t(233))+-parseInt(t(232))*-parseInt(t(267))+parseInt(t(253))+-parseInt(t(270))+parseInt(t(256))+-parseInt(t(275))*-parseInt(t(258))+parseInt(t(254)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a100_0x28ca);var g_objNvgCallback=null,g_objNvgCenter=new Point3(0,0,0),g_objNvgScaleMat=mat4[a100_0x57acc2(239)](),g_objNvgBindMat=mat4.create(),g_objNvgBindIndex=-1;function ObjectAxisNavigator(){var i=a100_0x57acc2;(g_axisNvg=null==g_axisNvg?new AxisNavigator:g_axisNvg)[i(264)](),g_objNvgCallback=new AxisNvgCallbacks,this[i(248)]=function(){var t,e,a,n=i;g_objNvgBindIndex<0?(console[n(245)](n(265)),this[n(272)]()):(t=g_webglControl.m_arrObjectMatrix[g_objNvgBindIndex],e=g_GLObjectSet._arrObjectSet[g_objNvgBindIndex][n(249)](),CalTranslatePoint(g_axisNvg[n(226)][0],g_axisNvg[n(226)][1],g_axisNvg.axisOrigin[2],t,g_objNvgCenter),a=CalCameraProjectScale(g_objNvgCenter,g_camera.mView,g_camera[n(263)]),g_objNvgScaleMat[0]=a/e,g_objNvgScaleMat[5]=a/e,g_objNvgScaleMat[10]=a/e,mat4[n(228)](g_objNvgBindMat,t,g_objNvgScaleMat))},this.bind=function(){var e=i,t=g_glprogram[e(225)]();if(null==t||0==t.length)return console[e(245)](e(231)),!1;g_objNvgBindIndex=t[0],this[e(248)](),g_objNvgCallback[e(261)]=function(t){glRunTime[e(274)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(252)]=function(t){glRunTime[e(250)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(227)]=function(){glRunTime[e(247)]()},g_objNvgCallback.onNvgMoveAxisY_Begin=function(t){glRunTime[e(274)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback.onNvgMoveAxisY_Update=function(t){glRunTime[e(250)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(234)]=function(){glRunTime.objectMoveWorldFinish()},g_objNvgCallback[e(236)]=function(t){glRunTime[e(274)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(229)]=function(t){glRunTime.objectMoveWorldUpdate(g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(243)]=function(){glRunTime[e(247)]()},g_objNvgCallback[e(259)]=function(){glRunTime[e(238)](g_objNvgBindIndex)},g_objNvgCallback.onNvgRotateXY_Update=function(t){glRunTime[e(242)](g_objNvgBindIndex,g_axisZ,t)},g_objNvgCallback[e(273)]=function(){glRunTime[e(271)](g_objNvgBindIndex)},g_objNvgCallback[e(269)]=function(){glRunTime.objectRotateWorldStart(g_objNvgBindIndex)},g_objNvgCallback[e(244)]=function(t){glRunTime[e(242)](g_objNvgBindIndex,g_axisY,t)},g_objNvgCallback[e(224)]=function(){glRunTime[e(271)](g_objNvgBindIndex)},g_objNvgCallback[e(235)]=function(){glRunTime[e(238)](g_objNvgBindIndex)},g_objNvgCallback[e(268)]=function(t){glRunTime[e(242)](g_objNvgBindIndex,g_axisX,t)},g_objNvgCallback[e(266)]=function(){glRunTime.objectRotateWorldFinish(g_objNvgBindIndex)},g_objNvgCallback[e(257)]=function(t){glRunTime[e(274)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(260)]=function(t){glRunTime[e(250)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(262)]=function(){glRunTime[e(247)]()},g_objNvgCallback.onNvgMovePlaneXZ_Begin=function(t){glRunTime[e(274)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(255)]=function(t){glRunTime[e(250)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(246)]=function(){glRunTime[e(247)]()},g_objNvgCallback[e(241)]=function(t){glRunTime[e(274)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(251)]=function(t){glRunTime[e(250)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(237)]=function(){glRunTime.objectMoveWorldFinish()},g_axisNvg.bind(g_objNvgBindMat,g_objNvgCallback,this[e(248)]),g_isLocked=!0},this[i(272)]=function(){g_axisNvg[i(230)](),g_isLocked=!1}}const a98_0x1ed5=["responseType","length","GET","157098RCvWdD","send","78140iwMKlv","1229smtrDJ","arraybuffer","241OWtwLk","27089xHIDep","52617QntOER","open","1hcQMiG","onload","1729iEYxwU","response","171833iMCPNh"];function a98_0x1e15(t,e){return t-=212,a98_0x1ed5[t]}!function(e){for(var t=a98_0x1e15;;)try{if(121879===-parseInt(t(214))-parseInt(t(221))+parseInt(t(225))+-parseInt(t(215))*parseInt(t(217))+-parseInt(t(219))+-parseInt(t(227))+-parseInt(t(213))*-parseInt(t(228)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a98_0x1ed5);var httpTotal=0,httpCounter=0;function syncBufferFromUrl(t,a){const n=a98_0x1e15;let i,r=new XMLHttpRequest;r[n(216)](n(224),t),r.responseType="arraybuffer",r[n(218)]=function(t){var e=n;i=r[e(220)],a&&a(i)},r[n(226)](null)}function syncArraybufferFromUrl(t,e){const a=a98_0x1e15;httpCounter=0,httpTotal=t[a(223)];let s=new Array(httpTotal);!function n(i){const r=a;if(httpCounter===httpTotal)e&&e(s);else{let a=new XMLHttpRequest;a[r(216)](r(224),i[httpCounter]),a[r(222)]=r(212),a[r(218)]=function(t){var e=r;s[httpCounter]=a[e(220)],httpCounter++,n(i)},a[r(226)](null)}}(t)}var a12_0x15c3=["8FasVed","animRun()","_fFOVY","GetAnimCamera","121738VlXyJv","P3D_OnAnimRefreshCallBack","_uFrameSize","length","3nQgJbf","updateExplode","desc","未设置爆炸参数","360852mDDhuT","m_arrObjectMatrix","_arrObjectSet","863443huqagq","log","P3D_OnAnimFinishCallBack","GetAnimTransparent","updateDesc","setAnnotationAnim","endExplode","11lgLKZs","m_arrObjectTransparent","1004oSzrIK","beginExplode","83689zrTtYf","842PqXcZP","fAspect","66733orVlps","52522epLwVO"];!function(e){for(var t=a12_0x5cfa;;)try{if(521487===parseInt(t(322))*parseInt(t(335))+parseInt(t(325))+parseInt(t(339))+-parseInt(t(326))*-parseInt(t(318))+-parseInt(t(327))*-parseInt(t(331))+-parseInt(t(323))*parseInt(t(320))+-parseInt(t(342)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a12_0x15c3);const ANIMRUN=0,ANIMPAUSE=1,ANIMEND=2,ANIMTERMINAL=3;var animationClock=null,animationStatus=ANIMTERMINAL,uTotalFrame=0,uCurFrame=0,uFrameStep=1,uSleepTime=40,uBaseTime=40,uAnimSpeed=1,g_nAnimationStart=0,g_nAnimationEnd=0,g_animMode=0,g_doObjectAnim=!0,g_doCameraAnim=!0,g_doTransAnim=!0,adfCamera=new ADF_CAMERA;function setAnimType(t,e,a){g_doObjectAnim=t,g_doCameraAnim=e,g_doTransAnim=a}function setAnimSpeed(t){t<.5||10<t||(4<t?(uAnimSpeed=1,uSleepTime=uBaseTime,uFrameStep=Math.ceil(t)):(uFrameStep=1,uSleepTime=uBaseTime/(uAnimSpeed=t)))}function a12_0x5cfa(t,e){return a12_0x15c3[t-=313]}function getAnimSpeed(){return uAnimSpeed*uFrameStep}function getTotalFrames(){return g_GLObjectSet[a12_0x5cfa(333)]}function setAnimationStart(){var t=a12_0x5cfa;animTerminal(),(uTotalFrame=g_GLObjectSet[t(333)])<=0||(animationStatus==ANIMTERMINAL&&glRunTime.home(HOME_ALL),uTotalFrame<=uCurFrame&&(uCurFrame=0),animRun(),g_animMode=1)}function PlaySceneAnimation(){animTerminal(),(uTotalFrame=g_nAnimationEnd)<=(uCurFrame=g_nAnimationStart)&&(uCurFrame=g_nAnimationStart),animationStatus=ANIMRUN,animRun(),g_animMode=2}function PlayUsrFrameAnimation(t,e){if(e<=t||e>=g_GLObjectSet[a12_0x5cfa(333)])return-1;animTerminal(),uCurFrame=t,uTotalFrame=e,animationStatus=ANIMRUN,animRun(),g_animMode=2}function animRun(){var t=a12_0x5cfa;uCurFrame<uTotalFrame&&setObjectAnim(uCurFrame)?(g_doCameraAnim&&setCameraAnim(uCurFrame),g_doTransAnim&&setAnnotationAnim(uCurFrame),glRunTime.flush(),callback_v3.P3D_OnAnimRefreshCallBack(uCurFrame),uCurFrame+=uFrameStep,animationClock=setTimeout(t(328),uSleepTime),animationStatus=ANIMRUN):(animPause(),animationStatus=ANIMEND,callback_v3.P3D_OnAnimFinishCallBack(!0))}function animPause(){uTotalFrame<=0||(null!=animationClock&&clearTimeout(animationClock),animationClock=null,animationStatus=ANIMPAUSE)}function animTerminal(){uTotalFrame<=0||(uCurFrame=0,callback_v3[a12_0x5cfa(332)](uCurFrame),uTotalFrame=0,setObjectAnim(uCurFrame)&&(g_doCameraAnim&&setCameraAnim(uCurFrame),g_doTransAnim&&setAnnotationAnim(uCurFrame),glRunTime.draw3D()),animPause(),animationStatus=ANIMTERMINAL,g_animMode=0)}function setCurFrame(t){var e=a12_0x5cfa;if(!(uTotalFrame<=0)){if(1==g_animMode){if(t<0||uTotalFrame<=t)return}else{if(2!=g_animMode)return;if(t<g_nAnimationStart||uTotalFrame<=t)return}setObjectAnim(uCurFrame=t)&&(g_doCameraAnim&&setCameraAnim(uCurFrame),g_doTransAnim)&&setAnnotationAnim(uCurFrame),glRunTime.flush(),animPause(),callback_v3[e(313)](!0)}}function setCameraAnim(t){var e=a12_0x5cfa;return!(t>g_GLObjectSet[e(333)]||t<0||(g_GLCameraSet[e(330)](t,adfCamera),adfCamera[e(329)]<=1e-4||(Common.fromCleCamera(g_cameraDesc,adfCamera),g_cameraDesc[e(324)]=g_camera[e(337)][e(324)],Camera[e(315)](g_camera,g_cameraDesc)),0))}function setObjectAnim(e){var a=a12_0x5cfa;if(e>g_GLObjectSet[a(333)]||e<0)return!1;for(let t=0;t<g_webglControl[a(340)][a(334)];t++){g_GLObjectSet[a(341)][t].GetAnimMatrix(e,g_webglControl[a(340)][t]);var n=g_GLObjectSet[a(341)][t][a(314)](e);g_webglControl[a(319)][t]=n}return!0}function setAnnotationAnim(t){var e=a12_0x5cfa;return!(t>g_GLObjectSet[e(333)]||t<0||(g_sceneAnnotation[e(316)](t),0))}var scope=1,totalFrame=0,mode=0,explode=!1;function setExplodeStart(t,e,a,n){return!(a<1||n<0||!g_sceneExploder[a12_0x5cfa(321)](t))&&(scope=a,totalFrame=n,mode=e,explode=!0)}function updateExplodeFrame(t){var e=a12_0x5cfa;return explode?!(t<0||totalFrame<t)&&(t=t/totalFrame*(scope-1)+1,g_sceneExploder[e(336)](mode,t)):(console[e(343)](e(338)),!1)}function finishExplode(){var t=a12_0x5cfa;if(null!=g_sceneExploder)return g_sceneExploder[t(317)]()}function clearAnimation(){null!=g_GLObjectSet&&(animationStatus!=ANIMTERMINAL&&animTerminal(),explodeStatus)&&finishExplode()}const a13_0xcad9=["splice","634316tPzpKW","flush","translate","beginExplode","getObjectWorldCenterByIndex","push","m_arrObjIndex","getObjectIndexById","156920JLpkoQ","home","1qEtsGG","multiply","7GQBYHe","create","copy","m_vExplodedCenter","objectMovematrix","The input has invalid object ids","set","70544ikmCll","m_modelBox","862887Zqvfwa","492216DMlDnr","929527fGkVEg","length","curMoveVec","m_arrObjectOriWld","1507276DrKPjA","m_arrObjectOriPos","m_arrObjectMatrix"];function a13_0x4ede(t,e){return t-=402,a13_0xcad9[t]}!function(e){for(var t=a13_0x4ede;;)try{if(507690===-parseInt(t(424))*-parseInt(t(431))+-parseInt(t(404))*parseInt(t(422))-parseInt(t(403))+parseInt(t(420))+-parseInt(t(402))+parseInt(t(412))+parseInt(t(408)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a13_0xcad9);var explodeStatus=!1;function SceneExplode(){const _=a13_0x4ede;this[_(418)]=new Array,this[_(427)]=new Point3(0,0,0),this[_(409)]=new Array,this.m_arrObjectOriWld=new Array,this.curMoveVec=vec3.create(),this[_(428)]=mat4[_(425)](),this[_(415)]=function(e){var a=_;if(glRunTime[a(421)](HOME_ALL),this.m_arrObjIndex[a(411)](0,this[a(418)][a(405)]),null==e||0==e[a(405)])for(let t=0;t<g_GLObjectSet._arrObjectSet[a(405)];++t)this[a(418)][a(417)](t);else for(let t=0;t<e[a(405)];++t){var n=glRunTime[a(419)](e[t]);if(t<0)return console.log(a(429)),!1;this[a(418)].push(n)}this[a(409)].splice(0,this[a(409)][a(405)]),this[a(407)][a(411)](0,this[a(407)][a(405)]),getModelBoxCenter(glRunTime[a(432)],this[a(427)]);for(let t=0;t<this[a(418)][a(405)];t++){this[a(409)][t]=glRunTime[a(416)](this.m_arrObjIndex[t]);var i=mat4[a(425)]();mat4[a(426)](i,g_webglControl.m_arrObjectMatrix[this[a(418)][t]]),this.m_arrObjectOriWld[t]=i}return explodeStatus=!0},this.updateExplode=function(t,e){var a=_;let n,i,r;switch(t){case P3D_EXPLODE_MODE_X:n=e,i=1,r=1;break;case P3D_EXPLODE_MODE_Y:n=1,i=e,r=1;break;case P3D_EXPLODE_MODE_Z:n=1,i=1,r=e;break;default:P3D_EXPLODE_MODE_FREE;n=e,i=e,r=e}var s,o,l;for(let t=0;t<this[a(418)][a(405)];t++)s=(this[a(409)][t].x-this.m_vExplodedCenter.x)*n,o=(this[a(409)][t].y-this[a(427)].y)*i,l=(this[a(409)][t].z-this.m_vExplodedCenter.z)*r,vec3[a(430)](this.curMoveVec,this.m_vExplodedCenter.x+s-this[a(409)][t].x,this.m_vExplodedCenter.y+o-this[a(409)][t].y,this[a(427)].z+l-this[a(409)][t].z),mat4[a(414)](this[a(428)],IDENTITY_MATRIX,this[a(406)]),mat4[a(423)](g_webglControl[a(410)][this[a(418)][t]],this[a(428)],this[a(407)][t]);return glRunTime[a(413)](),!0},this.endExplode=function(){var e=_;for(let t=0;t<this[e(418)][e(405)];t++)mat4[e(426)](g_webglControl[e(410)][this[e(418)][t]],this.m_arrObjectOriWld[t]);return glRunTime[e(413)](),!(explodeStatus=!1)}}