const a67_0x58f9=["1uZWong","1532887BZyNfA","864115LqFeWZ","Grey","1032342xvWQFw","74133WxfCDV","DarkRed","DarkBlue","Ink","DarkGrey","2HXUxrj","Yellow","18EuwlUG","clipPlaneMtlGreen","fromSysMaterial","fromMaterial","Brightgreen","1445077DZySwi","Black","Red","from","1476650lzJhYy","Green","968437PmRNGA","Violet","clipPlaneMtlRed","DarkYellow","fromColor","CyanGreen","Blue"],g_cmonlineMtlIDBase=(!function(e){for(var t=a67_0x58d6;;)try{if(931099===parseInt(t(475))+-parseInt(t(466))*-parseInt(t(489))+-parseInt(t(484))*-parseInt(t(471))+-parseInt(t(486))*parseInt(t(464))+-parseInt(t(485))+-parseInt(t(488))+parseInt(t(477)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a67_0x58f9),2e5),P3D_MATERIAL_TYPE_MESH_COLOR=0,P3D_MATERIAL_TYPE_MESH_TEXTURE=1,P3D_MATERIAL_TYPE_LINE=2,P3D_MATERIAL_TYPE_PURE_COLOR=3;var g_newMaterialID=g_cmonlineMtlIDBase,g_materialData=new MeshMaterialData,g_lineMtlData=new LineMaterialData,g_pureColor=new PureColorData;function MeshMaterialData(){var t=a67_0x58d6;this.Default=MeshMaterial[t(468)](-1,!1),this[t(473)]=MeshMaterial[t(468)](100,!1),this[t(470)]=MeshMaterial[t(468)](101,!1),this[t(483)]=MeshMaterial.fromSysMaterial(102,!1),this[t(465)]=MeshMaterial[t(468)](103,!1),this.Pink=MeshMaterial[t(468)](104,!1),this[t(482)]=MeshMaterial[t(468)](105,!1),this[t(472)]=MeshMaterial[t(468)](106,!1),this.White=MeshMaterial[t(468)](107,!1),this[t(487)]=MeshMaterial[t(468)](108,!1),this[t(490)]=MeshMaterial[t(468)](109,!1),this[t(476)]=MeshMaterial[t(468)](110,!1),this[t(491)]=MeshMaterial[t(468)](111,!1),this[t(480)]=MeshMaterial[t(468)](112,!1),this[t(478)]=MeshMaterial[t(468)](113,!1),this.CyanBlue=MeshMaterial[t(468)](114,!1),this[t(462)]=MeshMaterial.fromMaterial(float3[t(474)](.46,.46,.46),float3[t(474)](.5,.5,.5),float3[t(474)](.5,.5,.5),float3[t(474)](.314,.314,.314),1,10),this.Ink2=MeshMaterial[t(469)](float3[t(474)](.156863,.156863,.156863),float3[t(474)](.87451,.87451,.87451),float3[t(474)](.847059,.847059,.847059),float3[t(474)](1,1,1),1,10)}function PureColorData(){var t=a67_0x58d6;this.White=PureColor[t(468)](303)}function LineMaterialData(){var t=a67_0x58d6;this[t(473)]=LineMaterial[t(468)](200),this[t(470)]=LineMaterial.fromSysMaterial(201),this.CyanBlue=LineMaterial[t(468)](202),this[t(480)]=LineMaterial[t(468)](203),this[t(487)]=LineMaterial[t(468)](204),this[t(463)]=LineMaterial[t(468)](205)}function PlaneMaterialData(){var t=a67_0x58d6;this[t(479)]=PureColor.fromSysMaterial(300),this[t(467)]=PureColor[t(468)](301),this.clipPlaneMtlBlue=PureColor[t(468)](302)}function a67_0x58d6(t,e){return t-=462,a67_0x58f9[t]}function ConvertColorToMaterial(t,e,a,n){return 1<(t=t<0?0:t)&&(t=1),1<(e=e<0?0:e)&&(e=1),1<(a=a<0?0:a)&&(a=1),1<(n=n<0?0:n)&&(n=1),MeshMaterial[a67_0x58d6(481)](t,e,a,n,!1)}var a20_0x1076=["eRotDir","53653FQiyCH","1urNuOv","max","fFOVInRadian","_fFOVY","43VIvPrF","setControl","730502DIGpHs","rotPos","updateDesc","selfRotateAnimRun()","isCompleted","flush","eRotPos","desc","59233pgKYCz","ePan","pan","_upAxis","106831iIWHjo","_fAspect","1qtqwBh","fromCleCamera","93981NqAVoh","11hEAToR","tick","lockUpAxis","fAspect","7793kZxIfm","zoomWithMouseWheel","rotate","558515zmyGdy","from","_onTick"],a20_0x347b88=a20_0x28a2,g_camera=(!function(e){for(var t=a20_0x28a2;;)try{if(341292===parseInt(t(178))*-parseInt(t(168))+parseInt(t(182))+parseInt(t(170))*-parseInt(t(183))+-parseInt(t(171))*-parseInt(t(162))+-parseInt(t(166))+parseInt(t(152))*-parseInt(t(175))+parseInt(t(154)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a20_0x1076),null),g_cameraController=null,g_cameraDesc=null,g_cameraTweener=null,g_fElapseTimeInSeconds=null,g_selfRotateHandle=null,g_selfRotateElapse=30,g_selfRotateDelta=float2[a20_0x347b88(179)](-1,0);function shiftViewOnTick(e){var a=a20_0x347b88;if(null==g_cameraTweener)g_render[a(180)]=null,g_fElapseTimeInSeconds=null;else{let t=0;null!=g_fElapseTimeInSeconds&&(t=e-g_fElapseTimeInSeconds,t=Math[a(184)](t,0),t*=.001),g_fElapseTimeInSeconds=e,0==CameraTweener[a(158)](g_cameraTweener)&&(CameraTweener[a(172)](g_cameraTweener,t),Camera[a(156)](g_camera,g_cameraTweener[a(161)]),glRunTime[a(159)]()),0==CameraTweener[a(158)](g_cameraTweener)?window.requestAnimationFrame(function(t){shiftViewOnTick(t)}):g_cameraTweener=null}}function shiftViewAnim(t,e){var a=a20_0x347b88;g_cameraTweener=CameraTweener.make(g_camera.desc,t,e),g_fElapseTimeInSeconds=null,g_render[a(180)]=shiftViewOnTick,glRunTime[a(159)]()}function selfRotateAnimRun(){var t=a20_0x347b88;CameraController[t(155)](g_cameraController,g_camera,g_selfRotateDelta),glRunTime[t(159)](),g_selfRotateHandle=setTimeout(t(157),g_selfRotateElapse)}function selfRotateAnimStop(){null!=g_selfRotateHandle&&clearTimeout(g_selfRotateHandle),g_selfRotateHandle=null}function setCameraControlMode(t){var e=a20_0x347b88;0==t?(selfRotateAnimStop(),CameraController[e(153)](g_cameraController,CameraController.eRotPos)):1==t?(CameraController[e(173)](g_cameraController,g_sceneConfig[e(165)]),CameraController.setControl(g_cameraController,CameraController[e(160)]),selfRotateAnimRun()):2==t?(selfRotateAnimStop(),CameraController[e(153)](g_cameraController,CameraController[e(163)])):3!=t&&4!=t&&5!=t||(selfRotateAnimStop(),CameraController[e(153)](g_cameraController,CameraController[e(181)]))}function getCameraCurView(){var t=a20_0x347b88,e=new P3D_CAMERA;return Common.exportToCleCamera(e,g_camera[t(161)]),e[t(151)]=g_camera[t(161)][t(150)],e[t(167)]=g_camera[t(161)][t(174)],e._fInterocularDistance=0,e}function setCameraCurView(t){var e=a20_0x347b88;return Common[e(169)](g_cameraDesc,t),g_cameraDesc.fAspect=g_camera.desc.fAspect,Camera.updateDesc(g_camera,g_cameraDesc),glRunTime[e(159)](),!0}function setCameraRotate(t,e,a){var n=a20_0x347b88,t=float2[n(179)](-t,e);CameraController[n(177)](g_cameraController,g_camera,CameraController.eRotPos,t),glRunTime.flush()}function a20_0x28a2(t,e){return a20_0x1076[t-=150]}function setCameraZoom(t){var e=a20_0x347b88;CameraController[e(176)](g_cameraController,g_camera,t),glRunTime[e(159)]()}function setCameraSlide(t,e){var a=a20_0x347b88,t=float2[a(179)](-t,e);CameraController[a(164)](g_cameraController,g_camera,t),glRunTime[a(159)]()}const a62_0x5251=["length","_uObjectIndex","SCALE_MAX","PARTLODDATA","intersectRayScene","setObjectSurfaceMaterialByIndex","fAspect","Clone","digitalWorldMat","pick","GLPmiSet","_vFocus","getBackgroundColor","m_arrBgTexId","renderPixel","left","fFOVInRadian","endLoadModel","pickModelByIndexs","transformMat4","updateDesc","cvtWorldToCMOnline","_arrObjectSet","setObjectMaterial","getTreeNodeSubObjectIndex","1163153aiyNpC","max","create","render","tcFormat","make","pickUnit","requestAnimationFrame","objectIndex","Center2D","initOperationParams","_matLocal","ObjectOriginalCenter","initGLData","getObjectIndexById","setHighlightShow","clearSection","onload","curRotateVec","setSceneLightPosition","m_fModelLength","setSceneLightOn","curRuntimeMode","isContainsGeom","_uPartIndex","objectRotateWorldStart","clearPickSurfaceIndex","cvtScreenPtToWebGL","ray_clip_far","eRotPos","fNear","m_defEyePos","_uObjectID","getWebglExtension","min","362hpPVbZ","ray_clip_near","move","m_BgColor","GLObjectSet","pcLightPower","m_modelBox","fSensRot","getObjectIdByIndex","_DefaultCamera","ObjectMoveCenterStart","flush","captureType","fromValues","ClearCache","projectionMatInverse","clearBuffers","onceLoadScleModel","objectMoveWorldUpdate","pickPmi","_SurfaceBoxes","GLCamera","setObjectVisibleByIndexs","VPMatrix","add","width","shiftView","getObjectVisible","_uMtlID","getTreeNodeById","_upAxis","RayPoint2","setPickType","_SurfaceShape","uninitSection","pickModelTreeNode","pickByRay","getObjectNameByID","_eMtlType","getObjectBoxById","setMultObjectVisible","home","height","setObjectSurfaceMaterialById","setBackgroundColor","updateScleModel","setObjectsPickedByIds","1952064bPonhn","GLAnnotData","cvtModelToScreen","geomSurfaceIndex","pickModelByRect","resetScene","reset","initBuffers","getObjectMetialList","_arrSurfaceMaterialIndex","SCALE_MIN","getObjectOriWorldMatrix","setBoxShow","1TnQDnu","_boxset","MVPMatrix","addUsrBackground","setSurfaceMaterialMode","setBackground","setObjectMatrixTranslate","_uIsUV","top","Copy","getRectSelectionStatus","pickMultObjectByIndexs","getTreeNodeSubObjectID","arrModelData","flush2D","geomCurveIndex","GLMatertalSet","draw3D","clearScene","webglRect","mapMaterialIDIndex","m_defFocus","mViewProjI","captureGeomtry","getObjectSurfacesNum","_arrPartSet","createUrlRgbaTexture","_Vertex","moveModelCenter","fromCleVec3","_arrSubNode","clearMap","ObjectStartFlag","normalize","_arrSubset","curObjectCenter","GLModelTreeNode","startScelModel","multiply","set","isDuringRectSel","captureUnit","WIDTH","cos","addBackground","curMoveVec","pickObjectSurfaceByIndex","3436pwTgJn","getObjectModelMatrix","setObjectMeshMaterialUnitByPart","ray_world_far","setSceneLightPower","_nPrimitType","getObjectModelIndex","mapMeshIDIndex","Clear","setObjectVisible","uninitGLData","objectMoveWorld","setObjectMaterialTexture2D","setSurfaceMaterial","curPickUnit","draw","copy","setObjectMaterialTextureBasis","1OxQOQP","cvtScreenToWorld","ObjectStartmatrix","objectSetMoveWorld","_CurveShape","recorderViewImage","5702498LYWCfd","ray_nds_far","geomPointIndex","digitalLocalMat","4937zQnoLR","cvtCMOnlineToWorld","wasmInit","setObjectOriWorldMatrix","vecLightType","ray_world_near","identity","_uPartID","_arrPartLODData","m_arrObjectMatrix","setSelectedShow","getSubObjectsByTreeId","setRectSelection","initSceneBox","push","_arrVertex","m_bgIndex","assignDesc","objectRotateWorldFinish","isShowImageBk","rotate","translate","initScene","desc","clear","setViewport","computeSafeMinDistance","_arrNodeParameters","selRect","doGetPickMeasureIndex","distance","current loader is not slice mode","isObjectInRect","normal","isCaptureGeomtry","pickNone","setObjectMatrixByIndex","draw2D","initMap","initCanvasView","setMutiSample","HEIGHT","_onTick","getObjectWorldCenterByIndex","digitalMultiplyMat","getMaterialById","setObjectSurfaceMaterial","vEye","getObjectWorldMatrix","ObjectMoveCenterEnd","RayPoint1","uninitRender","ray_nds_near","uninit","_ObjectBox","src","_arrMaterialSet","uID","getObjectCenterByIndex","doMeasureAction","msaaChangeed","_matWorld","surfaceIndex","getPickObjectIndexs","getPickUnit","_uRequestRender","_uElapseTimeMillSec","ObjectMovematrix","initRuntimeParams","setObjectEnhancedDisplayByIndex","initCamera","log","m_defUpAxis","createCompressedTexture","initRender","PointNDCCenter","vAt","setCaptureMode","clearGLData","setObjectTransparentByIndex","clearPmi","1245420XkQbuE","uninitScene","fFar","ObjectRotatematrix","clearCommon","objectMoveWorldStart","initSurfaceGLData","getMaterialIndexById","getObjectParamsByID","updatePartData","_uPickType","pickModelByIDs","dst","setObjectEnhancedDisplayById","pickIndexs","_uTreeNodeID","objectRotateWorldUpdate","setHighlight","resetWindow","PARTCURVEDATA","objectMoveWindow","1626415FUPnTs","splice","mViewProj","setObjectSurfaceMaterialIndex","fromCleCamera","_MtlData","pickMeasureMode","curModelCenter","getPickedIndex","getPickStatus","getBoundingClientRect","vUp","510zLHaki","isOnceLoad","setCaptureModeByMeasure","getObjectCurWorldMatrix","setFocusOnObject","makeDesc","setObjectEnhancedDisplayByTreeId","getObjectTreeIDByID","getObjectTransparent","mapObjectIDIndex","_oPickUnit"];!function(e){for(var t=a62_0x15bc;;)try{if(993038===-parseInt(t(662))*-parseInt(t(757))+parseInt(t(626))*-parseInt(t(484))+parseInt(t(593))+parseInt(t(697))*-parseInt(t(512))+-parseInt(t(614))+-parseInt(t(744))+parseInt(t(508))*parseInt(t(502)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a62_0x5251);var g_GLData=null,g_GLObjectSet=null,g_GLPartSet=null,g_GLMaterialSet=null,g_GLAnnoSet=null,g_GLCameraSet=null,g_GLPmiSet=null,g_glprogram=null,g_webgl=null,g_buffers=null,g_webglControl=null,g_canvas=null,g_xmlTool=null,g_sceneConfig=null,g_sceneMeasure=null,g_sceneAnnotation=null,g_sceneSection=null,g_scenePmiManager=null,g_texBasisu=null,g_texturer=new Texturer2D,g_render=null,g_axisNvg=null,g_objectAxisNvg=null,g_sceneExploder=null;const RUNTIME_MODE_NORMAL=-1,RUNTIME_MODE_ANNOTATION=0,RUNTIME_MODE_MEASURE=1,RUNTIME_MODE_SECTION=2,RUNTIME_MODE_PMI=3,RUNTIME_RENDER_STOP=0,RUNTIME_RENDER_GO=1,ANIM_FRAME_STEP=30,SCENE_DEFAULT_ROT_SENS=3;function a62_0x15bc(t,e){return t-=465,a62_0x5251[t]}function RunTimePickUnit(){const t=a62_0x15bc;this[t(603)]=-2,this[t(636)]=null,this[t(492)]=function(){this[t(603)]=-2,this._oPickUnit=null}}function RunTimeRender(){const e=a62_0x15bc;this[e(577)]=!1,this[e(578)]=0,this[e(554)]=null,this[e(492)]=function(){var t=e;this[t(577)]=!1,this[t(578)]=0}}function GLRunTime(){const c=a62_0x15bc;this.WIDTH=0,this.HEIGHT=0,this.SCALE_STEP=10,this[c(754)]=10,this[c(639)]=2e3,this[c(682)]=1,this.m_fOperateSensitivity=1,this[c(703)]=new Box3D,this.m_defFocus=new Point3(0,0,0),this[c(693)]=new Point3(0,0,0),this.m_defUpAxis=new Point3(0,0,0),this.ray_nds_near=vec3[c(664)](),this[c(509)]=vec3.create(),this[c(698)]=vec4[c(664)](),this[c(690)]=vec4.create(),this.viewMatInverse=mat4.create(),this[c(712)]=mat4[c(664)](),this.MMatrix=mat4.create(),this[c(720)]=mat4[c(664)](),this.MVPMatrix=mat4[c(664)](),this.inverseMVPMatrix=mat4.create(),this[c(517)]=vec4.create(),this[c(487)]=vec4.create(),this[c(562)]=new Point3(0,0,0),this.RayPoint2=new Point3(0,0,0),this.ObjectOriginalCenter=new Point3(0,0,0),this[c(587)]=new Point3(0,0,0),this[c(707)]=new Point3(0,0,0),this[c(561)]=new Point3(0,0,0),this.ObjectMovematrix=mat4[c(664)](),this[c(596)]=mat4[c(664)](),this[c(504)]=mat4[c(664)](),this.ObjectStartFlag=0,this.curMoveVec=vec3[c(664)](),this[c(680)]=vec3[c(664)](),this[c(621)]=new Point3(0,0,0),this[c(472)]=new Point3(0,0,0),this.pickIndexs=new Array,this[c(776)]=new Rect2D(0,0,0,0),this[c(546)]=!0,this[c(709)]=CAPTURE_NONE,this[c(478)]=new GL_PICK_UNIT,this[c(511)]=mat4[c(664)](),this[c(645)]=mat4[c(664)](),this[c(556)]=mat4.create(),this.isOnceLoad=!1,this[c(684)]=-1,this.curPickUnit=new RunTimePickUnit,this[c(635)]=null,this.mapMeshIDIndex=null,this[c(777)]=null,this[c(586)]=function(){var t=c;"4"==g_product&&(g_webgl=new(g_isWebgl2?(g_buffers=new WebGL2Buffer(gl),WebGL2RenderTarget):(g_buffers=new WebGL1Buffer(gl),WebGL1))(gl),g_glprogram=new GLProgram,g_canvas=new Canvas2D,g_webglControl=new WebGLControl(gl),g_sceneMeasure=new SceneMeasure,g_sceneAnnotation=new SceneAnnotation,g_sceneSection=new SceneSection,g_scenePmiManager=new ScenePmiManager,g_render=new RunTimeRender,(g_texBasisu=new TexturerBasisu(gl))[t(695)](),g_sceneExploder=new SceneExplode,g_camera=Camera.make(),g_cameraController=CameraController[t(667)](),g_cameraDesc=Camera[t(631)](),g_cameraController[t(704)]=SCENE_DEFAULT_ROT_SENS,this.initRuntimeParams(),this[t(550)](),g_glprogram[t(675)](),g_webgl[t(534)](),g_buffers[t(751)](),g_canvas[t(551)](this[t(479)],this[t(553)]))},this[c(563)]=function(){var t=c;null!=g_glprogram&&g_glprogram[t(494)](),null!=g_sceneSection&&g_sceneSection[t(731)](),null!=g_scenePmiManager&&g_scenePmiManager.uninit(),null!=g_webgl&&g_webgl[t(594)](),null!=g_buffers&&g_buffers[t(713)](),this[t(597)]()},this[c(536)]=function(){var t=c;null!=g_glprogram&&g_glprogram[t(590)](),null!=g_scenePmiManager&&g_scenePmiManager[t(592)](),null!=g_webgl&&g_webgl[t(775)](),null!=g_buffers&&g_buffers[t(713)](),this[t(597)]()},this[c(597)]=function(){var t=c;null!=g_sceneAnnotation&&g_sceneAnnotation[t(565)](),null!=g_sceneMeasure&&g_sceneMeasure[t(565)](),null!=g_GLObjectSet&&g_GLObjectSet[t(492)](),null!=g_GLPartSet&&g_GLPartSet[t(492)](),null!=g_GLMaterialSet&&g_GLMaterialSet[t(492)](),null!=g_GLAnnoSet&&g_GLAnnoSet[t(492)](),null!=g_GLCameraSet&&g_GLCameraSet.Clear(),(g_GLData=null)!=g_sceneSection&&g_sceneSection[t(678)](),this[t(468)]()},this.clearMap=function(){var t=c;null!=this[t(635)]&&this[t(635)].splice(0,this.mapObjectIDIndex.length),null!=this[t(491)]&&this.mapMeshIDIndex[t(615)](0,this[t(491)][t(637)]),null!=this[t(777)]&&this[t(777)][t(615)](0,this[t(777)][t(637)])},this[c(750)]=function(){var t=c;this[t(580)](),g_glprogram.resetGLData(),g_webgl[t(749)](),g_canvas[t(551)](this[t(479)],this[t(553)])},this[c(580)]=function(){var t=c;this[t(479)]=getContextWidth(gl),this.HEIGHT=getContextHeight(gl),null==g_GLData&&(g_GLData=Cle2Data(),g_GLObjectSet=g_GLData[t(701)],g_GLMaterialSet=g_GLData[t(773)],g_GLAnnoSet=g_GLData[t(745)],g_sceneConfig=g_GLData.GLSceneConfig,g_GLCameraSet=g_GLData[t(718)],g_GLPmiSet=g_GLData[t(647)]),null==g_webglControl[t(650)]&&(g_webglControl[t(528)]=g_bgImageIndex,g_webglControl[t(650)]=new Array(g_bgImage[t(637)]),GetDefaultBgImg(g_webglControl.m_arrBgTexId,g_bgImage[t(637)]))},this[c(550)]=function(){var t,e,a=c;for(t in this[a(635)]=new Array,g_GLObjectSet[a(659)])this[a(635)][g_GLObjectSet[a(659)][t][a(694)]]=t;for(e in this.mapMaterialIDIndex=new Array,g_GLMaterialSet._arrMaterialSet)this.mapMaterialIDIndex[g_GLMaterialSet[a(568)][e][a(569)]]=e},this.initCamera=function(){var t=c,e=web3dCanvas[t(624)]();this[t(479)]=e[t(722)],this[t(553)]=e[t(739)],1e-4<g_GLCameraSet[t(706)]._fFOVY?(this[t(674)].x=g_GLCameraSet[t(706)][t(648)].x,this.ObjectOriginalCenter.y=g_GLCameraSet[t(706)][t(648)].y,this[t(674)].z=g_GLCameraSet[t(706)][t(648)].z,Common[t(618)](g_cameraDesc,g_GLCameraSet._DefaultCamera),g_cameraDesc[t(643)]=this[t(479)]/this.HEIGHT,Camera[t(657)](g_camera,g_cameraDesc),Camera[t(537)](g_camera,this[t(479)],this[t(553)],web3dCanvas.left,web3dCanvas[t(765)])):(getModelBoxCenter(this[t(703)],this[t(674)]),g_glprogram.setModelCenter(this.ObjectOriginalCenter),getModelDefEyePos(this[t(703)],this[t(693)],this[t(778)],this[t(584)]),Common[t(466)](g_cameraDesc[t(559)],this[t(693)]),Common.fromCleVec3(g_cameraDesc[t(588)],this[t(778)]),Common.fromCleVec3(g_cameraDesc[t(625)],this[t(584)]),g_cameraDesc.fAspect=this[t(479)]/this[t(553)],e=float3[t(542)](g_cameraDesc[t(559)],g_cameraDesc.vAt),g_cameraDesc[t(692)]=.02*e,g_cameraDesc[t(595)]=200*e,g_cameraDesc[t(653)]=45*Math.PI/180,Camera[t(657)](g_camera,g_cameraDesc),Camera.setViewport(g_camera,this.WIDTH,this[t(553)],web3dCanvas[t(652)],web3dCanvas.top)),CameraController.lockUpAxis(g_cameraController,g_sceneConfig[t(727)]),CameraController.setControl(g_cameraController,CameraController[t(691)])},this[c(525)]=function(){var t=c;this[t(627)]?this.m_modelBox=getModelBox(g_GLObjectSet,g_GLPartSet):this[t(703)]=getSliceScleBox(g_GLObjectSet,g_sceneData[t(770)])},this[c(672)]=function(){var t=c;this[t(682)]=getModelBoxLength(this[t(703)]),this.SCALE_MIN=this[t(682)]/20,this[t(639)]=2*this[t(682)],this.SCALE_STEP=this[t(754)]},this[c(708)]=function(){const a=c;0==g_render[a(577)]&&(window[a(669)](function(t){var e=a;null!=gl&&g_webgl[e(665)](),null!=gl2d&&g_canvas.draw(),updateNvgCamera(g_camera),null!=g_render._onTick&&g_render[e(554)](t),g_render[e(577)]=!1}),g_render[a(577)]=!0)},this[c(771)]=function(){const a=c;0==g_render[a(577)]&&(window[a(669)](function(t){var e=a;null!=gl2d&&g_canvas[e(499)](),null!=g_render[e(554)]&&g_render[e(554)](t),g_render[e(577)]=!1}),g_render[a(577)]=!0)},this[c(774)]=function(){var t=c;null!=gl&&g_webgl[t(665)]()},this.draw2D=function(){var t=c;null!=gl2d&&g_canvas[t(499)]()},this[c(611)]=function(t,e){var a=c;this[a(479)]=t,this[a(553)]=e,Camera.setViewport(g_camera,t,e,web3dCanvas[a(652)],web3dCanvas[a(765)]),g_webgl.initViewPort(),g_canvas[a(551)](this.WIDTH,this[a(553)]),this.flush()},this[c(699)]=function(t,e){var a=c,t=(getModelBoxCenter(this[a(703)],this[a(621)]),CalTranslatePoint(this[a(621)].x,this[a(621)].y,this[a(621)].z,g_camera[a(616)],this.PointNDCCenter),-t/this.WIDTH),e=-e/this[a(553)],t=(CalTranslatePoint(0,0,this[a(587)].z,g_camera[a(779)],this[a(707)]),CalTranslatePoint(t,e,this[a(587)].z,g_camera.mViewProjI,this[a(561)]),this.curModelCenter.x=this[a(561)].x-this[a(707)].x,this[a(621)].y=this[a(561)].y-this.ObjectMoveCenterStart.y,this[a(621)].z=this[a(561)].z-this[a(707)].z,g_glprogram[a(465)](this[a(621)]),float3.make()),e=(float3.set(t,this[a(621)].x,this.curModelCenter.y,this[a(621)].z),float3.add(null,g_camera[a(535)][a(559)],t)),t=float3.add(null,g_camera[a(535)][a(588)],t);Camera.setViewParam(g_camera,e,t,null),this[a(708)]()},this[c(613)]=function(t,e,a){var n=c,i=g_glprogram[n(485)](t),t=g_GLObjectSet._arrObjectSet[t]._uPartIndex,t=(getModelBoxCenter(g_GLPartSet[n(782)][t][n(520)][0][n(758)][n(566)],this[n(621)]),mat4.multiply(this[n(759)],g_camera.mViewProj,i),CalTranslatePoint(this[n(621)].x,this[n(621)].y,this[n(621)].z,this[n(759)],this[n(587)]),e/this[n(479)]),i=a/this[n(553)];CalTranslatePoint(0,0,this.PointNDCCenter.z,g_camera[n(779)],this[n(707)]),CalTranslatePoint(t,i,this[n(587)].z,g_camera.mViewProjI,this.ObjectMoveCenterEnd),mat4[n(518)](this[n(579)]),mat4.translate(this[n(579)],this.ObjectMovematrix,vec3[n(710)](this.ObjectMoveCenterEnd.x-this[n(707)].x,this[n(561)].y-this[n(707)].y,this[n(561)].z-this[n(707)].z)),g_glprogram.setObjectModelMatrixPicked(this[n(579)]),this[n(708)]()},this[c(495)]=function(t,e,a,n){var i=c;vec3[i(476)](this[i(482)],e,a,n),this[i(504)]=g_webglControl[i(521)][t],mat4[i(533)](this[i(579)],IDENTITY_MATRIX,this.curMoveVec),mat4.multiply(g_webglControl[i(521)][t],this[i(579)],this[i(504)]),this[i(708)]()},this[c(598)]=function(t,e,a,n){var i=c;this[i(707)].set(e,a,n),mat4[i(500)](this.ObjectStartmatrix,g_webglControl[i(521)][t]),this.ObjectStartFlag=1},this[c(715)]=function(t,e,a,n){var i=c;0!=this[i(469)]&&(vec3[i(476)](this[i(482)],e-this[i(707)].x,a-this.ObjectMoveCenterStart.y,n-this[i(707)].z),mat4[i(533)](this[i(579)],IDENTITY_MATRIX,this[i(482)]),mat4[i(475)](g_webglControl[i(521)][t],this[i(579)],this[i(504)]),this.flush())},this.objectMoveWorldFinish=function(){var t=c;mat4[t(518)](this[t(504)]),this[t(469)]=0,this.flush2D()},this[c(687)]=function(t){var e=c;mat4[e(500)](this[e(504)],g_webglControl[e(521)][t]),this.ObjectStartFlag=1},this[c(609)]=function(t,e,a){var n=c;0!=this[n(469)]&&(vec3.set(this.curRotateVec,e.x,e.y,e.z),mat4[n(532)](g_webglControl.m_arrObjectMatrix[t],this[n(504)],a,this[n(680)]),this.flush())},this[c(530)]=function(){var t=c;mat4.identity(this[t(504)]),this[t(469)]=0,this.flush2D()},this[c(505)]=function(t,e,a,n){var i=c,s=getPublicModelBox(g_GLObjectSet,g_GLPartSet,t,g_webglControl[i(521)]);getModelBoxCenter(s,this[i(621)]),mat4[i(518)](this[i(579)]),mat4[i(533)](this[i(579)],this.ObjectMovematrix,vec3[i(710)](e,a,n)),g_glprogram[i(763)](t,this[i(579)]),this[i(708)]()},this[c(756)]=function(t){var e=c;g_glprogram[e(756)](t),this[e(708)]()},this[c(610)]=function(t){var e=c;g_glprogram[e(677)](t),this.flush()},this[c(522)]=function(t){var e=c;g_glprogram.setBoxShow(t),g_glprogram.setHighlightShow(t),this[e(708)]()},this.cvtScreenToWorld=function(t,e,a,n){var i=c,t=2*t/this[i(479)]-1,e=1-2*e/this[i(553)];this[i(564)][0]=t,this[i(564)][1]=e,this[i(564)][2]=-1,this[i(509)][0]=t,this[i(509)][1]=e,this[i(509)][2]=1,this[i(698)][0]=this.ray_nds_near[0],this[i(698)][1]=this[i(564)][1],this[i(698)][2]=this.ray_nds_near[2],this[i(698)][3]=1,this.ray_clip_far[0]=this[i(509)][0],this.ray_clip_far[1]=this.ray_nds_far[1],this[i(690)][2]=this[i(509)][2],this[i(690)][3]=1,vec4[i(656)](this[i(517)],this.ray_clip_near,g_camera.mViewProjI),vec4.transformMat4(this[i(487)],this[i(690)],g_camera.mViewProjI),0!=this[i(517)][3]&&(this[i(517)][0]/=this[i(517)][3],this[i(517)][1]/=this[i(517)][3],this[i(517)][2]/=this[i(517)][3]),0!=this[i(487)][3]&&(this[i(487)][0]/=this[i(487)][3],this[i(487)][1]/=this[i(487)][3],this[i(487)][2]/=this.ray_world_far[3]),a.x=this.ray_world_near[0],a.y=this[i(517)][1],a.z=this[i(517)][2],n.x=this.ray_world_far[0],n.y=this[i(487)][1],n.z=this.ray_world_far[2]},this[c(513)]=function(t,e){var a=c;CalTranslatePoint(t.x,t.y,t.z,g_webglControl[a(521)][e],t)},this[c(658)]=function(t,e){var a,n=c;-1<e&&(a=new Point3(t.x,t.y,t.z),CalInversePoint(a,g_webglControl[n(521)][e],t))},this.cvtWebGLPtToScreen=function(t,e){var a=c;e.x=(t.x+1)/2*this[a(479)],e.y=(1-t.y)/2*this[a(553)]},this[c(689)]=function(t,e){var a=c;e.x=t.x/this[a(479)]*2-1,e.y=1-t.y/this[a(553)]*2},this.getCanvasPosByModelPos=function(t,e){var a=c,a=g_canvas[a(746)](t,e);return{x:(a.x+1)/2,y:(1-a.y)/2}},this[c(646)]=function(t,e,a,n){var i=c;if(this[i(684)]==RUNTIME_MODE_MEASURE){this[i(498)][i(603)]=RUNTIME_MODE_MEASURE;var s=g_sceneMeasure[i(541)](t,e);if(-1<s)return g_glprogram[i(547)](),this[i(498)][i(636)]=s,this.curPickUnit}return this[i(684)]==RUNTIME_MODE_PMI&&(this.curPickUnit[i(603)]=RUNTIME_MODE_PMI,this.curPickUnit[i(636)]=g_scenePmiManager[i(716)](t,e,a,n),null!=this.curPickUnit[i(636)])?(g_glprogram[i(547)](),this[i(498)]):(this.cvtScreenToWorld(t,e,this[i(562)],this.RayPoint2),this.curRuntimeMode!=RUNTIME_MODE_SECTION?(this[i(498)][i(636)]=g_glprogram[i(733)](this[i(562)],this[i(728)],a,n),-1<this.curPickUnit[i(636)][i(670)]?(this.curPickUnit._uPickType=RUNTIME_MODE_NORMAL,1==g_sceneMeasure[i(620)]&&1==g_webglControl.isContainsGeom&&(this.curPickUnit._uPickType=RUNTIME_MODE_MEASURE,g_sceneMeasure[i(571)](this.curPickUnit[i(636)]))):this.curPickUnit[i(492)](),this[i(708)](),this[i(498)]):void this[i(498)][i(492)]())},this.pickObjectIndex=function(t,e,a,n){var i=c,t=this[i(646)](t,e,a,n);return null==t||null==t[i(636)]?-1:t._oPickUnit.objectIndex},this[c(655)]=function(t){var e=c;null==t||t[e(637)]<1||(g_glprogram[e(768)](t),this[e(708)]())},this[c(604)]=function(a){var n=c;if(null==a||a[n(637)]<1)g_glprogram[n(547)](),this[n(708)]();else{var i=new Array;for(let e=0;e<a[n(637)];++e)for(let t=0;t<g_GLObjectSet[n(659)][n(637)];++t)if(g_GLObjectSet[n(659)][t]._uObjectID==a[e]){i[n(526)](t);break}this.pickModelByIndexs(i),this.flush()}},this[c(623)]=function(){return g_glprogram.getPickStatus()},this[c(575)]=function(){return g_glprogram.getPickedIndex()},this.getPickObjectIds=function(){var e=c,a=new Array,n=g_glprogram[e(622)]();for(let t=0;t<n[e(637)];t++)a[e(526)](g_GLObjectSet[e(659)][n[t]][e(694)]);return a},this.getPickObjectIdByIndex=function(t){var e=c;return t<0||t>=g_GLObjectSet[e(659)][e(637)]?null:g_GLObjectSet._arrObjectSet[t]._uObjectID},this[c(748)]=function(t){var e=c,a=(t[e(470)](),this[e(689)](t.min,this[e(776)][e(696)]),this.cvtScreenPtToWebGL(t.max,this.webglRect[e(663)]),this[e(776)].normalize(),new Array);for(let t=0;t<g_GLObjectSet[e(659)][e(637)];++t){var n=g_GLObjectSet._arrObjectSet[t][e(686)];mat4[e(475)](this[e(759)],g_camera[e(616)],g_glprogram.getObjectModelMatrix(t)),g_glprogram[e(544)](g_GLPartSet[e(782)][n][e(520)][0],this.MVPMatrix,this[e(776)])&&a[e(526)](t)}return this[e(655)](a)},this[c(576)]=function(){var t=c;return g_glprogram[t(668)]},this[c(676)]=function(t){t=this[c(635)][t];return null==t?-1:t},this[c(705)]=function(t){var e=c;return t<0||t>=g_GLObjectSet._arrObjectSet[e(637)]?-1:g_GLObjectSet._arrObjectSet[t][e(694)]},this[c(734)]=function(e,a){var n=c;if(a[n(694)]==e)return a._strName;var i;for(let t=0;t<a[n(467)].length;++t)if(null!=(i=this[n(734)](e,a[n(467)][t])))return i;return null},this.getObjectTreeIDByID=function(e,a){var n=c;if(a._uObjectID==e)return a[n(608)];var i;for(let t=0;t<a[n(467)].length;++t)if(null!=(i=this[n(633)](e,a[n(467)][t])))return i;return null},this[c(601)]=function(e,a){var n=c;if(a._uObjectID==e)return a[n(539)];var i;for(let t=0;t<a[n(467)][n(637)];++t)if(null!=(i=this[n(601)](e,a[n(467)][t])))return i;return null},this.getObjectCenterById=function(t){var e=c;let a=this[e(676)](t),n=null;return 0<=a&&(t=this[e(570)](a)[e(671)],(n=new Point2(0,0)).x=(t.x+1)*this[e(479)]/2,n.y=(1-t.y)*this[e(553)]/2),n},this.getObjectCenterByIndex=function(t){var e=c;return{Center2D:this.getObjectWindowCenterByIndex(t),Center3D:this[e(555)](t)}},this[c(555)]=function(t){var e,a=c,n=g_GLObjectSet[a(659)][t][a(686)];return null==g_GLPartSet[a(782)][n]?null:(e=new Point3(0,0,0),t=g_webglControl[a(521)][t],getModelBoxCenter(g_GLPartSet[a(782)][n][a(520)][0][a(758)]._ObjectBox,this[a(621)]),CalTranslatePoint(this.curModelCenter.x,this[a(621)].y,this[a(621)].z,t,e),e)},this.getObjectWindowCenterByIndex=function(t){var e,a=c,n=g_GLObjectSet[a(659)][t][a(686)];return null==g_GLPartSet[a(782)][n]?null:(e=new Point3(0,0,0),t=g_webglControl[a(521)][t],getModelBoxCenter(g_GLPartSet[a(782)][n][a(520)][0][a(758)][a(566)],this[a(621)]),mat4[a(475)](this.MVPMatrix,g_camera[a(616)],t),CalTranslatePoint(this[a(621)].x,this[a(621)].y,this.curModelCenter.z,this[a(759)],e),e)},this[c(781)]=function(t){var e=c,t=g_GLObjectSet[e(659)][t][e(686)];return null==g_GLPartSet[e(782)][t]?0:g_GLPartSet[e(782)][t][e(520)][0][e(758)][e(717)][e(637)]},this[c(490)]=function(t){var e=c,t=this[e(676)](t);return t<0?-1:g_GLObjectSet[e(659)][t][e(686)]},this.getObjectModelId=function(t){var e=c,t=this[e(490)](t);return t<0?-1:g_GLPartSet[e(782)][t][e(519)]},this[c(630)]=function(){var t=c;if(this.pickIndexs[t(615)](0,this.pickIndexs[t(637)]),this[t(607)]=g_glprogram[t(622)](),null==this.pickIndexs||0==this.pickIndexs[t(637)])for(let t=0;t<g_webglControl.m_arrObjectMatrix.length;t++)this.pickIndexs.push(t);var e=getPublicModelBox(g_GLObjectSet,g_GLPartSet,this[t(607)],g_webglControl[t(521)]);getModelBoxCenter(e,this[t(621)]);let a=getModelBoxLength(e),n=Camera[t(538)](g_camera),i=.5*a,s=0;s=i<n?n:1.5*a;e=new Vector3(g_camera[t(535)][t(559)][0]-g_camera[t(535)][t(588)][0],g_camera[t(535)][t(559)][1]-g_camera[t(535)][t(588)][1],g_camera[t(535)].vEye[2]-g_camera[t(535)][t(588)][2]);e[t(470)](),Camera[t(529)](g_cameraDesc,g_camera.desc),float3[t(476)](g_cameraDesc[t(588)],this[t(621)].x,this.curModelCenter.y,this[t(621)].z),float3[t(476)](g_cameraDesc[t(559)],g_cameraDesc[t(588)][0]+e.x*s,g_cameraDesc[t(588)][1]+e.y*s,g_cameraDesc.vAt[2]+e.z*s),shiftViewAnim(g_cameraDesc,.5)},this[c(732)]=function(t){var e=c;return g_glprogram[e(768)](t)},this[c(762)]=function(t){var e=c;g_glprogram.setBackground(t),g_webglControl[e(531)]=!0,this[e(708)]()},this[c(760)]=function(t){const e=c;let a=new Image,n=void(a.src=t);a[e(679)]=function(){var t=e;null!=(n=g_texturer.createUrlRgbaTexture(gl,a,g_isWebgl2))&&g_glprogram[t(481)](n)},g_webglControl[e(531)]=!0,this.flush()},this[c(741)]=function(t,e,a){var n=c;float4[n(476)](g_webglControl[n(700)],t,e,a,1),g_webglControl[n(531)]=!1,this[n(708)]()},this[c(649)]=function(){var t,e=c;return null!=g_webglControl[e(650)]&&0<g_webglControl[e(650)].length&&g_webglControl[e(531)]?null:((t=new Array)[e(526)](g_webglControl[e(700)][0]),t[e(526)](g_webglControl[e(700)][1]),t[e(526)](g_webglControl[e(700)][2]),t)},this[c(723)]=function(t){var e=c;if(null!=g_cameraDesc&&null!=g_camera){Camera[e(529)](g_cameraDesc,g_camera[e(535)]);var a=float3.make();switch(t){case 0:float3.set(a,0,0,this[e(682)]),float3.set(g_cameraDesc.vUp,0,1,0);break;case 1:float3[e(476)](a,0,0,-this[e(682)]),float3.set(g_cameraDesc[e(625)],0,1,0);break;case 2:float3[e(476)](a,-this[e(682)],0,0),float3.set(g_cameraDesc[e(625)],0,1,0);break;case 3:float3[e(476)](a,this[e(682)],0,0),float3[e(476)](g_cameraDesc[e(625)],0,1,0);break;case 4:float3[e(476)](a,0,this[e(682)],0),float3.set(g_cameraDesc[e(625)],0,0,-1);break;case 5:float3[e(476)](a,0,-this[e(682)],0),float3[e(476)](g_cameraDesc[e(625)],0,0,1);break;case 6:float3[e(476)](a,this[e(682)]/2,this.m_fModelLength/Math[e(480)](45*Math.PI/180),this.m_fModelLength/2),float3[e(476)](g_cameraDesc[e(625)],0,0,1)}g_glprogram[e(547)](),float3[e(721)](g_cameraDesc[e(559)],g_camera[e(535)][e(588)],a),shiftViewAnim(g_cameraDesc,.5)}},this.setObjectTransparent=function(e,a){var n=c;if(null==e||0==e[n(637)])g_glprogram.setObjectTransparent(-1,a);else{var i;for(let t=0;t<e[n(637)];++t)0<=(i=this[n(676)](e[t]))&&g_glprogram.setObjectTransparent(i,a)}this.flush()},this[c(634)]=function(t){var e=c;return g_glprogram[e(634)](t)},this.setObjectVisible=function(t,e){var a=c;g_glprogram[a(493)](t,e),this.flush()},this[c(724)]=function(t){return g_glprogram.getObjectVisible(t)},this[c(737)]=function(t,e){var a=c;null==t||t[a(637)]<1||(g_glprogram[a(719)](t,e),this[a(708)]())},this[c(660)]=function(t,e,a,n,i){var s=c,e=ConvertColorToMaterial(e,a,n,i),a=this[s(676)](t);return!(a<0||(g_glprogram[s(660)](a,e),this[s(708)](),0))},this.setObjectMaterialById=function(t,e){var a=c,e=this[a(557)](e);null!=e&&(g_glprogram[a(660)](t,e),this[a(708)]())},this[c(496)]=function(t,e,a,n){const i=c;t=this[i(676)](t);if(t<0)return-1;var s=g_GLObjectSet[i(659)][t]._uPartIndex;if(null==g_GLPartSet[i(782)][s]||1!=g_GLPartSet[i(782)][s][i(520)][0][i(764)])return-1;s=this.getMaterialById(a);if(null==s)return-1;let r=s.Clone(),o=(r[i(725)]=g_newMaterialID++,r._MtlData[i(735)]=ADFMTLTYPE_PICTURE,t),l=e,_=new Image;_.onload=function(){var e=i;if(r[e(619)]._arrTexID[0]=g_texturer[e(783)](gl,_,g_isWebgl2),null==l||0==l.length)g_glprogram[e(660)](o,r);else for(let t=0;t<l[e(637)];++t)g_glprogram[e(558)](o,l[t],r);this.flush()},_[i(567)]=n},this[c(501)]=function(t,e,a,n){var i=c,s=this.getObjectIndexById(t);if(s<0)return-1;t=g_GLObjectSet[i(659)][s][i(686)];if(null==g_GLPartSet[i(782)][t]||1!=g_GLPartSet[i(782)][t][i(520)][0][i(764)])return-1;t=this[i(557)](a);if(null==t)return-1;var r=t[i(644)]();if(r[i(725)]=g_newMaterialID++,r._MtlData[i(735)]=ADFMTLTYPE_PICTURE,null==g_texBasisu||!g_texBasisu[i(514)])return console[i(583)]("basis unversal not support"),-1;a=g_texBasisu.loadBasisData(n);if(null==a)return-1;if(r._MtlData._arrTexID[0]=g_texBasisu[i(585)](a[i(605)],a[i(722)],a.height,a[i(666)]),null==e||0==e[i(637)])g_glprogram.setObjectMaterial(s,r);else for(let t=0;t<e[i(637)];++t)g_glprogram.setObjectSurfaceMaterial(s,e[t],r)},this[c(558)]=function(t,e,a,n,i,s){a=ConvertColorToMaterial(a,n,i,1);g_glprogram.setObjectSurfaceMaterial(t,e,a),this.flush()},this[c(740)]=function(t,e,a){var n=c,i=this[n(676)](t);if(0<=i){if(null==e||0==e[n(637)]){var s=this[n(781)](i);for(let t=0;t<s;++t)this[n(642)](i,t,a)}else for(let t=0;t<e[n(637)];++t)this[n(642)](i,e[t],a);return 0}return-1},this[c(642)]=function(t,e,a){var n=c;t<0||e<0||(a=this[n(600)](a))<0||(g_glprogram[n(617)](t,e,a),this[n(708)]())},this.clearObjectSurfaceMaterial=function(t){var e=c,t=this[e(676)](t);if(0<=t)return g_glprogram[e(558)](t,-1,null);this[e(708)]()},this[c(752)]=function(t){var e=c;if(-1==t)return g_GLMaterialSet[e(766)]();var a=this[e(676)](t);if(0<=a){var n=new Array;for(i=0;i<g_GLObjectSet[e(659)][a][e(753)][e(637)];++i){var s=g_GLMaterialSet.GetMaterialInfo(g_GLObjectSet[e(659)][a]._arrSurfaceMaterialIndex[i]);n[e(526)](s)}return n}return null},this[c(557)]=function(t){var e=c;return 0<=this[e(600)](t)?g_GLMaterialSet[e(568)][i]:null},this.getMaterialIndexById=function(t){t=this[c(777)][t];return null==t?-1:t},this[c(736)]=function(t){var e=c,a=this[e(676)](t);if(a<0)return null;t=g_GLObjectSet[e(659)][a][e(686)];if(null==g_GLPartSet._arrPartSet[t])return null;var n=g_GLPartSet[e(782)][t][e(520)][0][e(758)][e(566)],i=new P3D_BOX;for(let t=0;t<n[e(784)][e(637)];++t){var s=new Point3;CalTranslatePoint(n[e(784)][t].x,n[e(784)][t].y,n[e(784)][t].z,g_glprogram[e(485)](a),s),i[e(527)][e(526)](s)}return i},this[c(523)]=function(t){var e,a=c,t=this[a(726)](t,g_GLData[a(473)]);return null==t?null:(e=new Array,this[a(769)](t,e),e)},this.setSubObjectMoveByTreeId=function(t,e,a,n){var i,s=c,t=this.getTreeNodeById(t,g_GLData.GLModelTreeNode);return null!=t&&(i=new Array,this[s(661)](t,i),!(i.length<=0||(this.objectSetMoveWorld(i,e,a,n),0)))},this[c(726)]=function(e,a){var n=c;if(a[n(608)]==e)return a;var i;for(let t=0;t<a[n(467)][n(637)];++t)if(null!=(i=this[n(726)](e,a._arrSubNode[t])))return i;return null},this[c(661)]=function(e,a){var n=c;if(0<=e._uObjectIndex)a.push(e[n(638)]);else for(let t=0;t<e[n(467)][n(637)];++t)this.getTreeNodeSubObjectIndex(e[n(467)][t],a)},this.getTreeNodeSubObjectID=function(e,a){var n=c;if(0<=e[n(638)])a[n(526)](e[n(694)]);else for(let t=0;t<e[n(467)][n(637)];++t)this[n(769)](e[n(467)][t],a)},this[c(632)]=function(t){var e,a=c,t=this.getTreeNodeById(t,g_GLData[a(473)]);if(null!=t)return e=new Array,this[a(661)](t,e),this.setObjectEnhancedDisplayByIndex(e)},this[c(606)]=function(n){var i=c,s=new Array;for(let t=0;t<g_GLObjectSet[i(659)][i(637)];t++){let e=!1,a=g_GLObjectSet._arrObjectSet[t][i(694)];for(let t=0;t<n[i(637)];++t)if(a==n[t]){e=!0;break}e||s[i(526)](t)}g_glprogram.setObjectTransparentByIndex(s,.2),this[i(708)]()},this[c(581)]=function(n){var i=c,t=new Array;for(let a=0;a<g_GLObjectSet[i(659)][i(637)];a++){let e=!1;for(let t=0;t<n[i(637)];++t)if(a==n[t]){e=!0;break}e||t[i(526)](a)}g_glprogram[i(591)](t,.2),this[i(708)]()},this[c(761)]=function(t){var e=c;1==t?g_glprogram[e(729)](PICK_GEOM_SURFACE):g_glprogram[e(729)](PICK_OBJECT),g_sceneGeomtryOn&&g_glprogram[e(599)]()},this[c(497)]=function(t,e,a,n){var i=c,s=glRunTime.getPickUnit();this[i(558)](s[i(670)],s[i(574)],t,e,a,n)},this.home=function(t){var e=c;switch(t){case HOME_ALL:case HOME_TYPE_CAMERA:this[e(582)]()}g_glprogram[e(738)](t),g_sceneAnnotation[e(738)](t),this[e(708)]()},this[c(515)]=function(t,e){var a=c,t=this.getObjectIndexById(t);t<0||(CalMat4(g_GLObjectSet[a(659)][t][a(673)],this[a(511)]),CalMat4(e,this[a(645)]),mat4[a(475)](this[a(556)],this[a(645)],this[a(511)]),g_glprogram[a(548)](t,this[a(556)]),this[a(708)]())},this[c(755)]=function(t){var e=c,t=this[e(676)](t);if(!(t<0))return g_GLObjectSet._arrObjectSet[t][e(573)]},this[c(629)]=function(t){var e=c,t=this.getObjectIndexById(t);if(!(t<0))return e=g_glprogram[e(560)](t),CalADFMat(e)},this[c(743)]=function(a){var n=c;if(null!=a){var i=new Array;for(let e=0;e<a[n(637)];++e)for(let t=0;t<g_GLObjectSet[n(659)][n(637)];t++)if(g_GLObjectSet[n(659)][t][n(694)]==a[e]){i[n(526)](t);break}g_glprogram.pickMultObjectByIndexs(i),this[n(708)]()}},this[c(767)]=function(){var t=c;return g_canvas[t(477)]},this[c(524)]=function(t,e){var a=c;g_canvas[a(477)]=t,g_canvas[a(540)][a(500)](e),this[a(549)]()},this[c(589)]=function(t){this[c(709)]=t},this[c(628)]=function(t){var e=c;g_webglControl[e(685)]&&(t==MEASURE_NONE?this.captureType=CAPTURE_NONE:t==MEASURE_OBJECT?this[e(709)]=CAPTURE_OBJECT:t==MEASURE_SURFACE?this[e(709)]=CAPTURE_GEOM_SURFACE:t==MEASURE_CURVE?this[e(709)]=CAPTURE_GEOM_CURVE:t==MEASURE_POINT?this[e(709)]=CAPTURE_GEOM_POINT:t==MEASURE_TWO_CURVES?this[e(709)]=CAPTURE_GEOM_CURVE:t==MEASURE_TWO_POINTS&&(this[e(709)]=CAPTURE_GEOM_POINT))},this[c(780)]=function(t,e){var a=c;if(this.captureType==CAPTURE_NONE)return g_canvas[a(478)]=null;if(-1<g_sceneMeasure.pickMeasureUintByRay(t,e,!1))return null;this[a(503)](t,e,this[a(562)],this[a(728)]);t=g_glprogram[a(641)](this[a(562)],this[a(728)],this[a(478)]);if(this.captureType==CAPTURE_OBJECT){if((g_canvas[a(478)]=null)==t||-1==this[a(478)][a(670)])return null}else{if(this[a(709)]==CAPTURE_GEOM_SURFACE){if((g_canvas[a(478)]=null)==t||-1==this[a(478)][a(670)]||this[a(478)][a(747)]<0)return g_glprogram[a(688)](),null;g_glprogram[a(483)](this[a(478)][a(670)],this[a(478)][a(574)],!1)}else{if(this[a(709)]==CAPTURE_GEOM_CURVE){if(null==t||-1==this.captureUnit[a(670)]||this[a(478)][a(772)]<0)return g_canvas[a(478)]=null}else{if(this[a(709)]!=CAPTURE_GEOM_POINT)return null;if(null==t||-1==this[a(478)].objectIndex||this[a(478)][a(510)]<0)return g_canvas.captureUnit=null}g_canvas[a(478)]=this[a(478)]}this[a(708)]()}return this[a(478)]},this[c(683)]=function(t){var e=c;g_webglControl[e(516)][0]=t?1:0},this[c(681)]=function(t,e,a){},this[c(488)]=function(t,e,a){var n=c;0!=g_webglControl[n(516)][0]&&(1<(t=t<0?0:t)&&(t=1),1<(e=e<0?0:e)&&(e=1),1<(a=a<0?0:a)&&(a=1),g_webglControl[n(702)][0]=t,g_webglControl.pcLightPower[1]=e,g_webglControl[n(702)][2]=a,this[n(708)]())},this[c(714)]=function(){var e=c;this[e(627)]=!0,g_GLPartSet=GetSVZPartSet(),this.initSceneBox(),this[e(582)](),this[e(672)]();for(let t=0;t<g_GLPartSet[e(782)][e(637)];++t)g_glprogram[e(486)](t,g_GLPartSet[e(782)][t]),g_buffers[e(602)](t);g_GLPartSet[e(711)](),this[e(708)]()},this[c(474)]=function(){var t=c;this[t(627)]=!1,(g_GLPartSet=new GL_PARTSET)[t(782)]=new Array(g_sceneData.arrModelData.length),this[t(525)](),this[t(582)](),this.initOperationParams()},this[c(742)]=function(t,e){var a,n,i=c;t<0||t>g_GLPartSet._arrPartSet[i(637)]||(this[i(627)]?console[i(583)](i(543)):(a=new GL_PART,n=GetSVZPartData(e,0,0),a[i(520)][0]=n[i(640)],a[i(730)]=n.PARTSURFACEDATA,a[i(506)]=n[i(612)],a._uPrimitType=e[i(471)][0][i(489)],g_GLPartSet[i(782)][t]=a,g_glprogram.setObjectMeshMaterialUnitByPart(t,a),g_buffers[i(602)](t),g_GLPartSet[i(782)][t][i(711)](),this[i(708)]()))},this[c(654)]=function(){var t=c;g_sceneAnnotation.init(),g_sceneData.Clear(),this[t(708)]()},this.importSecToolData=function(t){var e=c;Cle2Data().GLObjectSet,GetSVZPartSet();g_sceneData[e(492)](),this.flush()},this[c(572)]=function(t){var e=c;2==t||4==t||8==t?g_webgl[e(552)](t):g_webgl.setMutiSample(0),this[e(708)]()},this[c(507)]=function(t,e,a){var n=c;let i=null,s="";return s=0==a?(i=g_webgl[n(651)](t,e),n(545)):(i=g_webgl.renderPixelMSAA(t,e),"high"),this[n(708)](),{type:0,desc:s,width:t,height:e,pixels:i}}}var a100_0x4a04=["webgl2","Navigator/navigator_circle_x_focus.png","Navigator/navigator_circle_ey_light.png","height","initNavigator","normalize","611670DXWbfY","beginDrag","Navigator/navigator_circle_y_focus.png","onmousewheel","left","onmousemove","onmouseup","mul","updateDesc","getContext","2534TOeqWi","65598CHOvFr","length","vUp","fNear","width","vAt","Navigator/navigator_circle_x_light.png","setViewport","fSensRot","push","style","vEye","clientY","Navigator/navigator_circle_ey_dark.png","isPointInside","fWidth","requestAnimationFrame","373zneMqt","fill","top","Navigator/navigator_circle_e_focus.png","Navigator/navigator_circle_y_light.png","Navigator/navigator_circle_ex_dark.png","sub","5px","Navigator/navigator_circle_z_light.png","Navigator/navigator_circle_ez_dark.png","oncontextmenu","drawNavigator","fFar","button","fFOVInRadian","1196858DImdwr","closePath","setFocus","onmouseout","right","clientX","set","distance","shiftView","Navigator/navigator_circle_x_dark.png","arc","bottom","Navigator/navigator_circle_ex_light.png","splice","drag","Navigator/navigator_circle_ez_light.png","initNvgCamera","onmousedown","make","21292dhLNqR","uninitNavigator","initNvgNodePt","1135358gHmgqu","Navigator/navigator_circle_z_focus.png","Navigator/navigator_circle_z_dark.png","calFront","makeDesc","from","mViewProj","desc","587845lYZSBD","clearRect","isHide","dot"],a100_0x2f780b=a100_0x1d65;function a100_0x1d65(t,e){return a100_0x4a04[t-=339]}!function(e){for(var t=a100_0x1d65;;)try{if(895967===-parseInt(t(386))-parseInt(t(418))-parseInt(t(389))+parseInt(t(367))+-parseInt(t(407))+-parseInt(t(352))*-parseInt(t(417))+parseInt(t(397)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a100_0x4a04);const NVG_CAMERA_DISTANCE=4,NVG_NODE_RADIUS=.13,NVG_LAYOUT_TOP_LEFT=0,NVG_LAYOUT_TOP_RIGHT=1,NVG_LAYOUT_BOTTOM_LEFT=2,NVG_LAYOUT_BOTTOM_RIGHT=3;var nvgController=null,nvg2dCanvas=null,nvg3dCanvas=null,nvgGl=null,nvg2d=null,nvgCamera=Camera[a100_0x2f780b(385)](),nvgCameraController=CameraController[a100_0x2f780b(385)](),nvgCameraDesc=Camera[a100_0x2f780b(393)](),nvgEyeDir=float3[a100_0x2f780b(385)](),nvgVertex=[0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1];const nvgAxisCount=[2,2,2],nvgBillbordList=[a100_0x2f780b(376),a100_0x2f780b(402),a100_0x2f780b(341),a100_0x2f780b(357),a100_0x2f780b(379),"Navigator/navigator_circle_y_dark.png",a100_0x2f780b(409),a100_0x2f780b(356),a100_0x2f780b(348),a100_0x2f780b(403),a100_0x2f780b(391),a100_0x2f780b(390),a100_0x2f780b(360),a100_0x2f780b(361),a100_0x2f780b(382),a100_0x2f780b(355)];var nvgBillboardPt=[float3[a100_0x2f780b(385)](),float3.make(),float3[a100_0x2f780b(385)](),float3[a100_0x2f780b(385)](),float3[a100_0x2f780b(385)](),float3[a100_0x2f780b(385)]()];const nvgBillboardVertex=[1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1],nvgBillboardSize=[-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,NVG_NODE_RADIUS,-NVG_NODE_RADIUS,-NVG_NODE_RADIUS],nvgBillboardUV=[0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,1];var nodeCircle=new Circle2D(0,0,0),nodeProjPt=new Point3(0,0,0),pickScreenPt=new Point3(0,0,0),pickProjPt=new Point3(0,0,0),pickNodeArray=new Array,isNvgReqRender=!1;const NVG_DEFAULT_ROT_SENS=6;function initNavigatorCanvas(){var t=a100_0x2f780b;null!=nvg2dCanvas&&null!=nvg3dCanvas&&(nvg2d=nvg2dCanvas[t(416)]("2d",{alpha:!0}),addNvgMouseListener(nvg2dCanvas),nvgGl=nvg3dCanvas[t(416)](t(401),{alpha:!0,antialias:!0,preserveDrawingBuffer:!0}),(nvgController=new GLNavigator(nvgGl))[t(405)](),this[t(388)](),this[t(383)](),LoadNvgBillBoardTexture(nvgGl,flushNavigator))}function uninitNavigatorCanvas(){null!=nvgController&&nvgController[a100_0x2f780b(387)](),DeleteNvgBillBoardTexture(nvgGl),nvgController=null}function clearNavigatorCanvas(){}function initNvgCamera(){var t=a100_0x2f780b,e=(float3[t(373)](nvgCameraDesc[t(346)],0,0,NVG_CAMERA_DISTANCE),float3[t(373)](nvgCameraDesc[t(340)],0,0,0),float3[t(373)](nvgCameraDesc[t(420)],0,1,0),nvgCameraDesc[t(350)]=nvg3dCanvas[t(339)],nvgCameraDesc.fAspect=nvg3dCanvas[t(339)]/nvg3dCanvas.height,float3[t(374)](nvgCameraDesc[t(346)],nvgCameraDesc[t(340)]));nvgCameraDesc[t(421)]=.02*e,nvgCameraDesc[t(364)]=200*e,nvgCameraDesc[t(366)]=45*Math.PI/180,Camera[t(415)](nvgCamera,nvgCameraDesc),Camera[t(342)](nvgCamera,nvg3dCanvas[t(339)],nvg3dCanvas[t(404)],0,0)}function updateNvgCamera(t){var e=a100_0x2f780b;float3[e(358)](nvgEyeDir,t[e(396)][e(346)],t.desc.vAt),float3[e(406)](nvgEyeDir,nvgEyeDir),float3[e(414)](nvgCameraDesc[e(346)],NVG_CAMERA_DISTANCE,nvgEyeDir),float3.assign(nvgCameraDesc[e(420)],t[e(396)][e(420)]),Camera.updateDesc(nvgCamera,nvgCameraDesc),flushNavigator()}function addNvgMouseListener(e){var t=a100_0x2f780b;e[t(384)]=function(t){webNvgKeyDown(t,e)},e[t(413)]=function(t){webNvgKeyUp(t,e)},e[t(410)]=function(t){webNvgWheel(t,e)},e[t(412)]=function(t){webNvgKeyMove(t,e)},e.onmouseover=function(t){webNvgMouseOver(t,e)},e[t(370)]=function(t){webNvgMouseOut(t,e)}}var isNvgMove=!1,isNvgDragLeft=!1;function webNvgKeyDown(t,e){var a=a100_0x2f780b;switch(getNvgScreenPt(t[a(372)],t.clientY,pickScreenPt),t[a(365)]){case 0:isNvgDragLeft=!0,null!=g_cameraController&&CameraController[a(408)](g_cameraController,g_camera,float2[a(394)](pickScreenPt.x,pickScreenPt.y),null);break;case 1:break;case 2:e[a(362)]=function(){return!1}}lastX=pickScreenPt.x,lastY=pickScreenPt.y}function webNvgKeyUp(t,e){var a=a100_0x2f780b;getNvgScreenPt(t[a(372)],t.clientY,pickScreenPt),0===t[a(365)]&&(isNvgDragLeft=!1,isNvgMove||doPickNvgNode(pickNvgNode(pickScreenPt.x,pickScreenPt.y))),isNvgMove=!1}function webNvgKeyMove(t,e){var a=a100_0x2f780b;getNvgScreenPt(t[a(372)],t[a(347)],pickScreenPt),isNvgDragLeft&&(isNvgMove=!0,null!=g_cameraController)&&(CameraController[a(381)](g_cameraController,float2[a(394)](pickScreenPt.x,pickScreenPt.y)),glRunTime.flush())}function webNvgWheel(t,e){}function webNvgMouseOver(t,e){isMoveIn=!0,null!=g_cameraController&&(g_cameraController.fSensRot=NVG_DEFAULT_ROT_SENS),drawNvg()}function webNvgMouseOut(t,e){var a=a100_0x2f780b;isMoveIn=!1,isNvgDragLeft=isNvgMove=!1,null!=g_cameraController&&(g_cameraController[a(343)]=SCENE_DEFAULT_ROT_SENS),nvgController[a(369)](-1),flushNavigator(),drawNvg()}function drawNvg(){var t=a100_0x2f780b;nvg2d[t(398)](0,0,nvg2dCanvas[t(339)],nvg2dCanvas[t(404)]),isMoveIn&&!nvgController[t(399)]&&(nvg2d.beginPath(),nvg2d[t(377)](nvg2dCanvas[t(339)]/2,nvg2dCanvas[t(404)]/2,nvg2dCanvas[t(339)]/2,0,2*Math.PI),nvg2d[t(368)](),nvg2d.fillStyle="rgba(222,222,222,0.2)",nvg2d[t(353)]())}function initNvgNodePt(){var t=a100_0x2f780b;float3[t(373)](nvgBillboardPt[0],1,0,0),float3[t(373)](nvgBillboardPt[1],-1,0,0),float3.set(nvgBillboardPt[2],0,1,0),float3.set(nvgBillboardPt[3],0,-1,0),float3.set(nvgBillboardPt[4],0,0,1),float3[t(373)](nvgBillboardPt[5],0,0,-1)}function getNvgScreenPt(t,e,a){var n=a100_0x2f780b,i=nvg2dCanvas.getBoundingClientRect();a.x=t-i[n(411)],a.y=e-i.top}function isNodeFront(t){var e=a100_0x2f780b;return 0<float3[e(400)](nvgBillboardPt[t],nvgCamera[e(396)][e(346)])}function pickNvgNode(t,e){var a=a100_0x2f780b;pickNodeArray[a(380)](0,pickNodeArray[a(419)]),pickProjPt.x=2*t/nvg2dCanvas[a(339)]-1,pickProjPt.y=1-2*e/nvg2dCanvas[a(404)];for(let t=0;t<nvgBillboardPt[a(419)];++t)CalTranslatePoint(nvgBillboardPt[t][0],nvgBillboardPt[t][1],nvgBillboardPt[t][2],nvgCamera[a(395)],nodeProjPt),nodeCircle[a(373)](nodeProjPt.x,nodeProjPt.y,NVG_NODE_RADIUS),nodeCircle[a(349)](pickProjPt)&&pickNodeArray[a(344)](t);return 1==pickNodeArray[a(419)]?pickNodeArray[0]:1<pickNodeArray.length?isNodeFront(pickNodeArray[0])?pickNodeArray[0]:pickNodeArray[1]:-1}function doPickNvgNode(t){var e=a100_0x2f780b;nvgController.setFocus(t),0==t?glRunTime[e(375)](3):1==t?glRunTime[e(375)](2):2==t?glRunTime[e(375)](1):3==t?glRunTime[e(375)](0):4==t?glRunTime.shiftView(5):5==t?glRunTime[e(375)](4):flushNavigator()}function flushNavigator(){var a=a100_0x2f780b;0==isNvgReqRender&&(window[a(351)](function(t){var e=a;nvgController[e(392)](),nvgController[e(363)](),isNvgReqRender=!1}),isNvgReqRender=!0)}function hideNavigator(t){var e=a100_0x2f780b;nvgController[e(399)]=!!t,flushNavigator()}function setNavigatorLayout(t){var e=a100_0x2f780b;switch(t){case NVG_LAYOUT_TOP_LEFT:nvg3dCanvas[e(345)].top="5px",nvg3dCanvas[e(345)].left=e(359),nvg3dCanvas[e(345)][e(378)]="",nvg3dCanvas[e(345)][e(371)]="",nvg2dCanvas[e(345)][e(354)]=e(359),nvg2dCanvas.style[e(411)]=e(359),nvg2dCanvas[e(345)][e(378)]="",nvg2dCanvas[e(345)][e(371)]="";break;case NVG_LAYOUT_TOP_RIGHT:nvg3dCanvas[e(345)].top="5px",nvg3dCanvas[e(345)][e(371)]=e(359),nvg3dCanvas.style[e(378)]="",nvg3dCanvas[e(345)][e(411)]="",nvg2dCanvas.style[e(354)]="5px",nvg2dCanvas.style[e(371)]="5px",nvg2dCanvas[e(345)][e(378)]="",nvg2dCanvas[e(345)][e(411)]="";break;case NVG_LAYOUT_BOTTOM_LEFT:nvg3dCanvas[e(345)].bottom=e(359),nvg3dCanvas[e(345)][e(411)]=e(359),nvg3dCanvas[e(345)][e(354)]="",nvg3dCanvas[e(345)][e(371)]="",nvg2dCanvas.style.bottom=e(359),nvg2dCanvas[e(345)][e(411)]=e(359),nvg2dCanvas[e(345)][e(354)]="",nvg2dCanvas[e(345)][e(371)]="";break;case NVG_LAYOUT_BOTTOM_RIGHT:nvg3dCanvas[e(345)][e(378)]=e(359),nvg3dCanvas[e(345)][e(371)]="5px",nvg3dCanvas[e(345)][e(354)]="",nvg3dCanvas.style[e(411)]="",nvg2dCanvas.style[e(378)]=e(359),nvg2dCanvas[e(345)].right=e(359),nvg2dCanvas[e(345)][e(354)]="",nvg2dCanvas[e(345)].left=""}}var a59_0x57ba=["min","P3D_OnKeyboardUpCallBack","fill","rect","preventDefault","itemIndex","deleteCommentInput","offsetHeight","P3D_OnMouseMoveCallBack","createCommentCancel","_arrPickElements","moveMeasureUnit","pickModelByIDs","max","byteLength","1GgEuXC","_arrayCleBuffer","keyup","getRectSelectionStatus","button","beginDrag","115344zEXchI","web3dCanvas","P3D_OnTouchStartCallBack","requestUpdate","captureGeomtry","mousePt","getContext","P3D_OnMouseDownCallBack","blue.jpg","createCommentUpdate","pickModelByRect","move","defaultBgUrl","getObjectIdByIndex","266467fxDCXM","from","_Loaded","data","arrModelData","onceLoadScleModel","getBoundingClientRect","requestAnimationFrame","pickMeasureMode","P3D_OnMouseWheelCallBack","createElement","P3D_OnCommentCreateCallback","isDuringComment","resetWindow","100%","showCommentInput","endDrag","viewIndex","136241Adqvwz","defaultLightOn","P3D_OnSectionUpdateCallback","left","objectIndex","init","onmouseup","removeEventListener","appendChild","position","onmouseout","onMouseOver","_strModelName","_arrayByteBuffer","clientX","intersectUnit","P3D_OnCameraChangeCallback","addEventListener","offsetWidth","width","keydown","onmouseover","updateScleModel","_uRequestRender","nvg3dCanvas","white.jpg","stopPropagation","ctx","P3D_OnUpdateUICallBack","P3D_OnMouseUpCallBack","length","keyCode","drag","onMouseKeyDown","pick","defaultBgImage","./P3DToolkit/Resource/Background/","commentOnChange","1079431rAKOBf","754694jnrpIl","setRectSelection","ver","getPickObjectIdByIndex","objectMoveWindow","initRender","abs","onunload","P3D_OnCommentDeleteCallback","pickMeasureUnitIndex","splice","right","style","2KoSCPV","curPickUnit","_attachPt","pmiIndex","deltaY","28677IrzrWC","onmousemove","absolute","5px","1EewKjS","clientHeight","text2dCanvas","3gLpAvz","_oPickUnit","commentOnClick","_ModelInfo","onmousedown","P3D_OnTouchMoveCallBack","moveCommentInput","setFocusOnObject","zoomWithMouseWheel","undefined","clientY","push","onMouseKeyUp","Clear","_uPickType","height","P3D_OnAnimRefreshCallBack","createMeasureCancel","oncontextmenu","./P3DToolkit/Resource/","P3D_OnTouchEndCallBack","top","nvg2dCanvas","canvas","2080201mxWESg","clientWidth","curRuntimeMode","flush","cancelBubble","grey.jpg","DOMMouseScroll","isBind","ctrlKey","P3D_OnKeyboardDownCallBack","P3D_OnLoadModelEndCallback","setFocusOnPmiItemByIndex"],a59_0x294c6f=a59_0x1706;function CALLBACK_V2(){var t=a59_0x1706;this.refreshNotation=function(){},this[t(448)]=function(t){},this.showCommentInput=function(t){},this.commentOnSubmit=function(t,e,a,n){},this[t(480)]=function(t,e,a,n){},this[t(509)]=function(t,e,a,n){},this[t(549)]=function(){},this[t(513)]=function(t,e,a,n){},this.setActiveByIndex=null}function CALLBACK_V3(){var t=a59_0x1706;this[t(471)]=function(){},this[t(523)]=function(t){},this.P3D_OnAnimFinishCallBack=function(t){},this[t(540)]=function(t){},this[t(544)]=function(t){},this.P3D_OnMouseDownCallBack=function(t){},this[t(472)]=function(t){},this.P3D_OnMouseMoveCallBack=function(t){},this[t(434)]=function(t){},this[t(413)]=function(t){},this[t(512)]=function(t){},this[t(527)]=function(t){},this[t(459)]=function(){},this[t(541)]=function(){},this[t(445)]=function(){},this.P3D_OnSectionFinishCallback=function(){},this[t(436)]=function(t){},this[t(490)]=function(t){}}!function(e){for(var t=a59_0x1706;;)try{if(551560==-parseInt(t(500))+parseInt(t(425))*parseInt(t(495))+-parseInt(t(405))*-parseInt(t(482))+parseInt(t(504))*parseInt(t(481))-parseInt(t(411))+parseInt(t(443))*parseInt(t(507))-parseInt(t(531)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a59_0x57ba);var container=null,web3dCanvas=null,gl=null,g_isWebgl2=!0,text2dCanvas=null,gl2d=null,callback_v2=new CALLBACK_V2,callback_v3=new CALLBACK_V3,g_bTestMode=!0;function a59_0x1706(t,e){return a59_0x57ba[t-=397]}const g_resFoder=a59_0x294c6f(526),g_bgFoder=a59_0x294c6f(479);var g_bgImage=[a59_0x294c6f(419),a59_0x294c6f(468),a59_0x294c6f(536)],g_bgImageUrl=[],g_bgImageIndex=0,g_sceneLightOn=!0,g_sceneGeomtryOn=!0,g_canvasTransparency=!1,glRunTime=new GLRunTime,isLockCavans=!1,isShiftDown=!1,lastPickType=-2,curPickType=-2,g_operationMode=MOUSE_OPERATION_MODE_DEFAULT,doubleClickTimeMS=300,isMove=!1,curDate=null,lastTime=0,curTime=0,isDigitalTwinMode=!1,isMultPick=!1,isMotionCapture=!1,motionCaptureObjID=null,scrollLeft=0,scrollTop=0,originPt=new Point2(0,0),selRect=new Rect2D(0,0,0,0),isKeyTap=!1,dragLeft=!1,dragMid=!1,dragRight=!1,lastX=-1,lastY=-1;function initComponet(t){var e=a59_0x294c6f;typeof t!=e(516)&&null!=t&&(container=t,(web3dCanvas=document[e(435)](e(530))).id=e(412),web3dCanvas[e(494)][e(452)]=e(502),web3dCanvas[e(494)][e(462)]="100%",web3dCanvas.style[e(522)]="100%",container[e(451)](web3dCanvas),initSceneCanvas(),(text2dCanvas=document.createElement(e(530))).id=e(506),text2dCanvas.style.position="absolute",text2dCanvas[e(494)][e(462)]=e(439),text2dCanvas[e(494)][e(522)]=e(439),container[e(451)](text2dCanvas),init2dCanvas(),(nvg3dCanvas=document[e(435)](e(530))).id=e(467),nvg3dCanvas[e(494)][e(452)]=e(502),nvg3dCanvas[e(462)]=150,nvg3dCanvas[e(522)]=150,nvg3dCanvas[e(494)].top="5px",nvg3dCanvas.style.right="5px",container.appendChild(nvg3dCanvas),(nvg2dCanvas=document[e(435)](e(530))).id=e(529),nvg2dCanvas[e(494)][e(452)]=e(502),nvg2dCanvas[e(462)]=150,nvg2dCanvas[e(522)]=150,nvg2dCanvas.style[e(528)]=e(503),nvg2dCanvas[e(494)][e(493)]="5px",container[e(451)](nvg2dCanvas),initNavigatorCanvas())}function destoryComponet(){glRunTime.uninitRender(),commentDataClear(),uninitNavigatorCanvas()}function initModuleCallbacks(t){callback_v3=t}function initSettings(e){var a=a59_0x294c6f;if(typeof e!=a(516)&&null!=e){if(null!=e[a(423)]&&0<e[a(423)][a(473)])g_bgImage[a(518)](e.defaultBgUrl),g_bgImageIndex=g_bgImage[a(473)];else for(let t=0;t<g_bgImage[a(473)];++t)if(e[a(478)]==g_bgImage[t]){g_bgImageIndex=t;break}g_sceneLightOn=e[a(444)],g_sceneGeomtryOn=e.defaultGeomtryOn,g_bParsejq=g_sceneGeomtryOn,g_operationMode=e.defaultBaseOptMode,g_canvasTransparency=e.defaultCanvasTransparency}}function initP3DUIAPI(){var t=a59_0x294c6f;(callback_v2=P3DUIAPI)[t(448)](container),callback_v2.commentOnSubmit=commentOnSubmit,callback_v2.commentOnChange=commentOnChange,callback_v2[t(509)]=commentOnClick,callback_v2.deleteCommentInput=deleteCommentInput,callback_v2[t(513)]=moveCommentInput}function initSceneCanvas(){var t=a59_0x294c6f,e=(web3dCanvas[t(462)]=container[t(461)],web3dCanvas.height=container[t(397)],createWebglContext());gl=e[t(470)],g_isWebgl2=2==e[t(484)]}function init2dCanvas(){var t=a59_0x294c6f;text2dCanvas[t(462)]=container[t(461)],text2dCanvas[t(522)]=container[t(397)],(gl2d=text2dCanvas[t(417)]("2d",{alpha:!0}))[t(546)](0,0,text2dCanvas[t(462)],text2dCanvas[t(522)]),gl2d.fillStyle="rgb(80,91,119,1.0)",gl2d[t(545)]()}function startRender(){var t=a59_0x294c6f;gl&&gl2d&&(initP3DUIAPI(),glRunTime[t(487)](),addMouseListener(text2dCanvas),text2dCanvas[t(460)](t(537),fireFoxScollFun,!1),window[t(489)]=addCloseListenser,window.onresize=onCanvasResize,0==g_sceneData[t(429)][t(473)]||g_sceneData[t(429)][0][t(510)][t(427)]?(glRunTime[t(430)](),glRunTime.endLoadModel(),callback_v3.P3D_OnLoadModelEndCallback&&callback_v3.P3D_OnLoadModelEndCallback()):glRunTime.startScelModel())}function updateModel(a,n,i){var s=a59_0x294c6f;if(!(a<0||a>g_sceneData[s(429)][s(473)])){let t=new ADFCleParser,e=(t[s(456)]=n,t[s(406)]=new DataView(t[s(456)],0,t[s(456)][s(404)]),t._nCleBufferlength=t._arrayByteBuffer[s(404)],new ADF_MODEL_SAVEDATA);t.CleStreamModelDataParser(e),g_sceneData[s(429)][a]._ModelInfo[s(427)]=!0,t=null,glRunTime[s(465)](a,e),e[s(520)](),e=null,i&&startLoadModels(a+1)}}function clearModel(){glRunTime.clear(),commentDataClear(),clearNavigatorCanvas()}function getModelList(){var e=a59_0x294c6f;if(null==g_sceneData)return null;var a=new Array;for(let t=0;t<g_sceneData[e(429)].length;t++)a[e(518)](g_sceneData.arrModelData[t][e(510)][e(455)]);return a}function stopDefault(t){var e=a59_0x294c6f;t.preventDefault?(t[e(547)](),t[e(469)]()):(t[e(535)]=!0,t.returnValue=!1)}function fireFoxScollFun(t){var e=a59_0x294c6f;if(!isLockCavans)return CameraController[e(515)](g_cameraController,g_camera,-t[e(499)]),!1}function addKeyboardListener(t){var e=a59_0x294c6f;document[e(460)](e(463),onDocumentKeyDown,!1),document[e(460)](e(407),onDocumentKeyUp,!1)}function removeKeyboardListener(){var t=a59_0x294c6f;document[t(450)]("keydown",onDocumentKeyDown,!1),document[t(450)]("keyup",onDocumentKeyUp,!1)}function getCanvasOrigin(){var t=a59_0x294c6f,e=web3dCanvas[t(431)]();originPt.x=e[t(446)],originPt.y=e[t(528)]}var g_isLocked=!1;function getPickElement(t,e,a,n){var i=a59_0x294c6f;g_isLocked||(t=glRunTime[i(477)](t,e,a,n),curPickType=null==t||null==t[i(508)]?-2:t[i(521)])}function onDocumentKeyDown(t){var e=a59_0x294c6f;isLockCavans||(t[e(539)]?isMultPick=isShiftDown=!0:(isMultPick=isShiftDown=!1,32==t.keyCode?isCommentEditting()||glRunTime[e(514)]():27==t[e(474)]&&setUsrCommentMode(0,1)),callback_v3[e(540)](t))}function onDocumentKeyUp(t){isLockCavans||(isMultPick=isShiftDown=!1,callback_v3[a59_0x294c6f(544)](t))}function webKeyDown(t,e){var a=a59_0x294c6f;if(!isLockCavans){isKeyTap=!0,getCanvasOrigin();var n=t[a(457)]-originPt.x,i=t[a(517)]-originPt.y;switch(t[a(409)]){case 0:onMouseLeftKeyDown(e,n,i);break;case 1:onMouseMidKeyDown(e,n,i);break;case 2:onMouseRightKeyDown(e,n,i)}lastX=n,lastY=i}}function webKeyUp(t,e){if(!isLockCavans){getCanvasOrigin();var a=t.clientX-originPt.x,n=t.clientY-originPt.y;switch(t.button){case 0:onMouseLeftKeyUp(e,a,n);break;case 1:onMouseMidKeyUp(e,a,n);break;case 2:onMouseRightKeyUp(e,a,n)}pickedCommentIndex=-1,isKeyTap=!1}}function webWheel(t,e){var a=a59_0x294c6f;isLockCavans||(CameraController[a(515)](g_cameraController,g_camera,-t[a(499)]),glRunTime[a(534)](),stopDefault(t))}function webKeyMove(t,e){var a,n=a59_0x294c6f;isLockCavans||(getCanvasOrigin(),a=t[n(457)]-originPt.x,t=t.clientY-originPt.y,isKeyTap?dragLeft?onMouseLeftKeyMove(e,a,t):dragMid&&onMouseMidKeyMove(e,a,t):isMotionCapture&&(e=glRunTime[n(415)](a,t),motionCaptureObjID=null!=e?glRunTime[n(485)](e[n(447)]):null),isUsrCommentFlag&&!isUsrCommInputShow&&(g_canvas[n(416)].set(a,t),glRunTime.flush()),g_sceneMeasure.pickMeasureMode&&(g_canvas[n(416)].set(a,t),glRunTime[n(534)]()),null!=g_axisNvg&&g_axisNvg[n(538)]&&!g_canvas.isDuringAxis&&g_axisNvg[n(454)](a,t),lastX=a,lastY=t)}function onMouseLeftKeyDown(t,e,a){var n=a59_0x294c6f;dragLeft=!0,selRect[n(543)].x=e,selRect.min.y=a,t.oncontextmenu=function(){return!1},g_operationMode==MOUSE_OPERATION_MODE_DEFAULT?isShiftDown?glRunTime[n(533)]==RUNTIME_MODE_NORMAL&&getPickElement(e,a,isMultPick,!1):glRunTime.curRuntimeMode==RUNTIME_MODE_MEASURE?0<=g_sceneMeasure[n(491)]&&g_sceneMeasure.refreshPickMeasureUnitPos(e,a):null!=g_axisNvg&&g_axisNvg[n(538)]&&g_axisNvg[n(476)](e,a):g_operationMode==MOUSE_OPERATION_MODE_ROTATE&&CameraController[n(410)](g_cameraController,g_camera,float2[n(426)](e,a),null)}function onMouseMidKeyDown(t,e,a){var n=a59_0x294c6f;dragMid=!0,CameraController.beginDrag(g_cameraController,g_camera,float2[n(426)](e,a),null)}function onMouseRightKeyDown(t,e,a){dragRight=!0,t[a59_0x294c6f(525)]=function(){return!1}}function onMouseLeftKeyUp(t,e,a){var n=a59_0x294c6f;if(dragLeft=!1,isKeyTap){if(null!=g_axisNvg&&g_axisNvg[n(538)]&&g_axisNvg[n(519)](e,a),glRunTime[n(408)]())return glRunTime[n(402)](null),glRunTime[n(421)](selRect),void glRunTime[n(483)](!1,selRect);if(isUsrCommentFlag&&isSingleComment)addSingleComment(lastX,lastY,test_note);else if(isUsrCommentFlag&&g_canvas[n(437)])return void g_sceneAnnotation[n(420)](lastX,lastY);if(getPickElement(lastX,lastY,isMultPick,!0),isMultPick)return;curDate=new Date,(curTime=curDate.getTime())-lastTime<doubleClickTimeMS&&lastPickType==curPickType&&(curPickType==RUNTIME_MODE_NORMAL?glRunTime[n(514)]():curPickType==RUNTIME_MODE_PMI?g_scenePmiManager[n(542)](g_scenePmiManager.intersectUnit.pmiIndex,g_scenePmiManager[n(458)][n(442)],g_scenePmiManager[n(458)][n(548)]):-2==curPickType&&glRunTime[n(514)]()),lastTime=curTime,lastPickType=curPickType}lastX=e,lastY=a}function onMouseMidKeyUp(t,e,a){CameraController[a59_0x294c6f(441)](g_cameraController),dragMid=!1,isUsrCommentFlag&&g_canvas.isDuringComment?getNewCommentNote(lastX,lastY):(lastX=e,lastY=a)}function onMouseRightKeyUp(t,e,a){var n=a59_0x294c6f;dragRight=!1,isUsrCommentFlag&&!isUsrCommInputShow?g_sceneAnnotation[n(399)]():g_sceneMeasure[n(433)]?g_sceneMeasure[n(524)]():(lastX=e,lastY=a)}function onMouseLeftKeyMove(t,a,n){var i=a59_0x294c6f;g_operationMode==MOUSE_OPERATION_MODE_DEFAULT?isShiftDown?isMove&&curPickType==RUNTIME_MODE_NORMAL&&-1<glRunTime[i(496)][i(508)][i(447)]&&glRunTime[i(486)](glRunTime[i(496)][i(508)][i(447)],2*(a-lastX),-2*(n-lastY)):null!=g_axisNvg&&g_axisNvg.isBind?0==g_axisNvg[i(414)]&&(window[i(432)](function(t){var e=i;g_axisNvg.onMouseKeyMove(a,n),null!=callback_v3[e(445)]&&callback_v3[e(445)](),g_axisNvg[e(466)]=!1}),g_axisNvg[i(466)]=!0):curPickType<0?(3<Math[i(488)](a-selRect.min.x)||3<Math[i(488)](n-selRect[i(543)].y))&&(selRect.max.x=a,selRect[i(403)].y=n,glRunTime[i(483)](!0,selRect)):curPickType==RUNTIME_MODE_MEASURE&&0<=g_sceneMeasure[i(491)]&&(g_sceneMeasure[i(401)](g_sceneMeasure.pickMeasureUnitIndex,a,n),glRunTime[i(534)]()):g_operationMode==MOUSE_OPERATION_MODE_MOVE?glRunTime[i(422)](2*(a-lastX),-2*(n-lastY)):g_operationMode==MOUSE_OPERATION_MODE_ROTATE&&(CameraController.drag(g_cameraController,float2[i(426)](a,n)),glRunTime[i(534)]()),lastX=a,lastY=n}function onMouseMidKeyMove(t,e,a){var n=a59_0x294c6f;isShiftDown?glRunTime.move(2*(e-lastX),-2*(a-lastY)):(CameraController[n(475)](g_cameraController,float2[n(426)](e,a)),glRunTime.flush()),lastX=e,lastY=a}function addMouseListener(a){var n=a59_0x294c6f;a[n(511)]=function(t){var e=n;webKeyDown(t,a),stopDefault(t),callback_v3[e(418)](t)},a[n(449)]=function(t){var e=n;webKeyUp(t,a),callback_v3[e(472)](t)},a.onmousewheel=function(t){var e=n;webWheel(t,a),stopDefault(t),callback_v3[e(434)](t)},a[n(501)]=function(t){var e=n;webKeyMove(t,a),callback_v3[e(398)](t)},a[n(464)]=function(t){addKeyboardListener()},a[n(453)]=function(t){removeKeyboardListener()}}function addCloseListenser(){destoryComponet()}function onCanvasResize(){var e=a59_0x294c6f,t=getContextWidth(gl),a=getContextHeight(gl),n=(resizeContext(gl,t,a),glRunTime[e(438)](t,a),new Point2(0,0));for(let t=0;t<g_usrCommOption[e(428)][e(473)];++t)g_canvas.adapterLocalToScreen(g_usrCommOption.data[t][e(497)].x,g_usrCommOption.data[t]._attachPt.y,n),g_usrCommOption[e(428)][t].cvtPointToStyle(n);callback_v2[e(440)](g_usrCommOption),gl2d[e(530)][e(462)]=gl2d[e(530)][e(532)],gl2d.canvas[e(522)]=gl2d[e(530)][e(505)]}function setMouseOperationMode(t){t<MOUSE_OPERATION_MODE_DEFAULT||t>=MOUSE_OPERATION_MODE_END||(g_operationMode=t)}function transP3DTookkitPickElem(t,e){var a=a59_0x294c6f;t[a(521)]=P3D_PICK_TYPE_NONE,t._arrPickElements[a(492)](0,t[a(400)][a(473)]);let n=0;e[a(521)]==RUNTIME_MODE_NORMAL?(t[a(521)]=P3D_PICK_TYPE_PART,n=glRunTime[a(424)](e._oPickUnit[a(447)]),t[a(400)][a(518)](n)):e._uPickType==RUNTIME_MODE_PMI&&(t[a(521)]=P3D_PICK_TYPE_PMI_ITEM,n=g_scenePmiManager.getItemIdByIndex(e[a(508)][a(498)],e[a(508)][a(548)]),t[a(400)][a(518)](n))}var a95_0x17f3=["244263VGpbTI","userAgent","1rHityt","clientY","setFocusOnObject","_oPickUnit","curPickUnit","from","P3D_OnTouchStartCallBack","1txXeyC","touches","ontouchmove","31qYwmGA","68501ioQFjT","test","400080flbTDE","atan2","isDuringComment","clientX","309654dIqKYC","P3D_OnTouchMoveCallBack","ontouchend","targetTouches","objectMoveWindow","27535nQQRFc","beginDrag","P3D_OnTouchEndCallBack","createCommentUpdate","endDrag","1vCahcw","169583jgidzn","zoomWithTouch","length","494338EGMfEg","abs","pow"],a95_0x2e0de0=a95_0x6230,isPhone=(!function(e){for(var t=a95_0x6230;;)try{if(262642===parseInt(t(126))+-parseInt(t(143))*parseInt(t(145))+-parseInt(t(140))+parseInt(t(137))*parseInt(t(116))+parseInt(t(120))+parseInt(t(136))*-parseInt(t(122))+-parseInt(t(131))*-parseInt(t(119)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a95_0x17f3),/(iPhone|iPad|iPod|iOS|Android|ipad)/i[a95_0x2e0de0(121)](navigator.userAgent)||/(Macintosh)/i[a95_0x2e0de0(121)](navigator[a95_0x2e0de0(144)])&&a95_0x2e0de0(128)in document),lastX1=-1,lastY1=-1,lastX2=-1,lastY2=-1,x1=-1,y1=-1,x2=-1,y2=-1,touch1=null,touch2=null,scaleFactor=1.2,moveSensitivity=1,rotateSensitivity=1,zRotateSensitive=.03,cameraMoveSensitivity=3,scaleSensitivity=.1,isKeyDown=!1,isKeyMove=!1,isKeyRotate=!1,isKeyScale=!1;function phoneKeyDown(t){var e=a95_0x2e0de0;isLockCavans||(isKeyDown=!0,getCanvasOrigin(),1==t[e(129)][e(139)]?(touch1=t[e(129)][0],x1=touch1.clientX-originPt.x,y1=touch1[e(146)]-originPt.y,CameraController[e(132)](g_cameraController,g_camera,float2[e(114)](x1,y1),null),lastX1=x1,lastY1=y1):2==t[e(129)][e(139)]&&(touch1=t[e(129)][0],touch2=t.targetTouches[1],lastX1=touch1[e(125)]-originPt.x,lastY1=touch1.clientY-originPt.y,lastX2=touch2[e(125)]-originPt.x,lastY2=touch2[e(146)]-originPt.y))}function phoneKeyMove(t){var e,a,n,i=a95_0x2e0de0;isLockCavans||isKeyDown&&(getCanvasOrigin(),1==t.targetTouches[i(139)]?(touch1=t.targetTouches[0],x1=touch1[i(125)]-originPt.x,y1=touch1[i(146)]-originPt.y,isMove?curPickType==RUNTIME_MODE_NORMAL&&(Math[i(141)](x1-lastX1)>moveSensitivity||Math[i(141)](y1-lastY1)>moveSensitivity)&&(glRunTime[i(130)](glRunTime[i(113)][i(148)].objectIndex,2*(x1-lastX1),-2*(y1-lastY1)),lastX1=x1,lastY1=y1,isKeyMove=!0):(Math[i(141)](x1-lastX1)>rotateSensitivity||Math[i(141)](y1-lastY1)>rotateSensitivity)&&(CameraController.drag(g_cameraController,float2[i(114)](x1,y1)),isKeyRotate=!0),lastX1=x1,lastY1=y1):2==t[i(129)][i(139)]&&(touch1=t.targetTouches[0],touch2=t[i(129)][1],x1=touch1[i(125)]-originPt.x,y1=touch1[i(146)]-originPt.y,x2=touch2[i(125)]-originPt.x,y2=touch2[i(146)]-originPt.y,t=lastX1-lastX2,e=lastY1-lastY2,a=x1-x2,n=y1-y2,t=Math.sqrt(t*t+e*e),e=Math.sqrt(a*a+n*n),a=Math[i(123)](lastY2-lastY1,lastX2-lastX1),n=Math.atan2(y2-y1,x2-x1),Math[i(141)](a-n)<=zRotateSensitive&&Math.abs(e-t)<=cameraMoveSensitivity?(Math.abs(x1-lastX1)>moveSensitivity||Math[i(141)](y1-lastY1)>moveSensitivity)&&0<(x1-lastX1)*(x2-lastX2)&&(glRunTime.move(2*(x1-lastX1),-2*(y1-lastY1)),isKeyMove=!0):(a=Math.pow(Math[i(142)](lastX1-lastX2,2)+Math[i(142)](lastY1-lastY2,2),.5),n=Math.pow(Math.pow(x1-x2,2)+Math[i(142)](y1-y2,2),.5),CameraController[i(138)](g_cameraController,g_camera,n-a)),lastX1=x1,lastY1=y1,lastX2=x2,lastY2=y2))}function a95_0x6230(t,e){return a95_0x17f3[t-=113]}function phoneKeyUp(t){var e=a95_0x2e0de0;if(!isLockCavans){if(getCanvasOrigin(),isKeyDown&&!isKeyMove&&!isKeyRotate&&!isKeyScale)if(touch1=t.changedTouches[0],x1=touch1[e(125)]-originPt.x,y1=touch1[e(146)]-originPt.y,getPickElement(x1,y1,isMultPick,!0),curDate=new Date,(curTime=curDate.getTime())-lastTime<doubleClickTimeMS&&lastPickType==curPickType&&curPickType==RUNTIME_MODE_NORMAL&&glRunTime[e(147)](),lastTime=curTime,lastX1=x1,lastY1=y1,lastPickType=curPickType,1==t[e(117)][e(139)]&&isUsrCommentFlag&&g_canvas[e(124)]&&getNewCommentNote(lastX1,lastY1),isUsrCommentFlag&&isSingleComment)addSingleComment(lastX,lastY,test_note);else if(isUsrCommentFlag&&g_canvas[e(124)])return void g_sceneAnnotation[e(134)](lastX1,lastY1);pickedCommentIndex=-1,isKeyScale=isKeyRotate=isKeyMove=isKeyDown=isKeyTap=!1,CameraController[e(135)](g_cameraController)}}function addTouchListener(t){var a=a95_0x2e0de0;t.ontouchstart=function(t){var e=a95_0x6230;phoneKeyDown(t),callback_v3[e(115)](t)},t[a(118)]=function(t){var e=a;phoneKeyMove(t),callback_v3[e(127)](t)},t.ontouchend=function(t){var e=a;phoneKeyUp(t),callback_v3[e(133)](t)}}const a96_0xf240=["yzCirRev","xzCirRev","vecDirCross","onNvgMoveAxisZ_Update","axisXCir","planeXZ_M3","planeXZ_P2","onNvgMoveAxisX_Begin","pIntersectPtRotate","planeXZ_M1","6ElDRAl","vecDir2","planeXZ_P3","planeYZ_P2","529526zhBlwF","calAxisMoveUpdatePos","yzCir","xyCirRev","splice","box","cvtScreenToWorld","setScale","vTriVer2","pickPlane","intersectAxisZero","pIntersectPt","planeYZ_P3","427225fIkgZC","72823NiZTPV","onNvgMovePlaneYZ_Finish","681Ynkkup","requestUpdate","vTriVer3","onMouseOver","axisY","vecDir1","arrIntersectPt","from","axisXArrow","pickArc","planeXY_M3","calAxisRotateUpdatePos","vLinePt1","vTriVer4","onNvgMovePlaneXZ_Finish","planeXY_P4","onNvgMovePlaneXY_Begin","RayPoint1","onNvgMovePlaneXZ_Begin","axisZCir","741479QFQYLc","axisNvgEnable","calAxisRotateUpdateAngle","onNvgRotateYZ_Update","isBind","onNvgMovePlaneXZ_Update","onNvgMoveAxisZ_Begin","pIntersectPtMove","planeXY_P3","planeYZ_M3","callbacks","onNvgRotateYZ_Begin","planeXY_M4","vLinePt2","planeXZ_P4","calPlaneMoveUpdatePos","10337muxSrt","onNvgMovePlaneYZ_Begin","flush2D","updateBindMat","isDuringAxis","axisArrowB","intersectArcZero","xzCir","pickAxisNvg","onNvgMovePlaneXY_Update","unInit","abs","onNvgRotateXY_Begin","intersectRayBox","vTriVer1","normalize","onMouseKeyMove","push","onNvgRotateXZ_Finish","nvgMatrix","onNvgMoveAxisY_Update","planeYZ_M2","onNvgRotateXZ_Update","axisCircleR","vecAxis","arrIndexs","axisOrigin","pickIndex","onNvgMoveAxisX_Update","mul","scale","length","1307xyUZnq","onMouseKeyDown","onNvgRotateXY_Finish","2pMVHLI","axisX","isInIntersectZero","setShowLeadLines","RayPoint2","intersectTool","intersectArrowZero","init","cross","axisZ","planeYZ_P1","planeXY_M2","moveDir","Copy","onNvgMoveAxisY_Begin","onNvgRotateXY_Update","showLeadLine","xyCir","axisZArrow","planeYZ_M4","planeXZ_M2","onNvgMoveAxisZ_Finish","planeYZ_P4","angle","arrDistance","planeXY_P2","1rglozw","index","onNvgMoveAxisY_Finish","planeXY_P1","onNvgMoveAxisX_Finish","axisYArrow","onNvgMovePlaneXY_Finish","onNvgRotateXZ_Begin","458719jeMqSM","onNvgRotateYZ_Finish","planeXZ_P1","set","isInit","pickAxis"],a96_0x2443a6=a96_0x2cad;function a96_0x2cad(t,e){return t-=401,a96_0xf240[t]}!function(e){for(var t=a96_0x2cad;;)try{if(433068===-parseInt(t(456))*parseInt(t(512))+parseInt(t(496))+parseInt(t(473))+parseInt(t(460))+parseInt(t(440))*-parseInt(t(432))+-parseInt(t(474))*-parseInt(t(406))+parseInt(t(403))*-parseInt(t(476)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a96_0xf240);const AXIS_LENGTH=1,AXIS_ARROW_B=.02,AXIS_ARROW_H=.15,AXIS_CIRCLE_R=.7,AXIS_PLANE_OFFSET=.1,AXIS_PLANE_E=.15,AXIS_SCALE=.3,AXIS_ZERO=1e-6,_axisX=float3[a96_0x2443a6(483)](AXIS_LENGTH,0,0),_axisY=float3[a96_0x2443a6(483)](0,AXIS_LENGTH,0),_axisZ=float3[a96_0x2443a6(483)](0,0,AXIS_LENGTH),_axisX_A=float3[a96_0x2443a6(483)](AXIS_LENGTH+AXIS_ARROW_H,0,0),_axisY_A=float3[a96_0x2443a6(483)](0,AXIS_LENGTH+AXIS_ARROW_H,0),_axisZ_A=float3.from(0,0,AXIS_LENGTH+AXIS_ARROW_H),_axisXCir=float3.from(AXIS_CIRCLE_R,0,0),_axisYCir=float3[a96_0x2443a6(483)](0,AXIS_CIRCLE_R,0),_axisZCir=float3.from(0,0,AXIS_CIRCLE_R),_planeXZ_P1=float3[a96_0x2443a6(483)](AXIS_PLANE_OFFSET,0,AXIS_PLANE_OFFSET),_planeXZ_P2=float3.from(AXIS_PLANE_OFFSET+AXIS_PLANE_E,0,AXIS_PLANE_OFFSET),_planeXZ_P3=float3[a96_0x2443a6(483)](AXIS_PLANE_OFFSET+AXIS_PLANE_E,0,AXIS_PLANE_OFFSET+AXIS_PLANE_E),_planeXZ_P4=float3.from(AXIS_PLANE_OFFSET,0,AXIS_PLANE_OFFSET+AXIS_PLANE_E),_planeXZ_M1=float3[a96_0x2443a6(483)](-AXIS_LENGTH,0,-AXIS_LENGTH),_planeXZ_M2=float3[a96_0x2443a6(483)](AXIS_LENGTH,0,-AXIS_LENGTH),_planeXZ_M3=float3[a96_0x2443a6(483)](AXIS_LENGTH,0,AXIS_LENGTH),_planeXZ_M4=float3[a96_0x2443a6(483)](-AXIS_LENGTH,0,AXIS_LENGTH),_planeXY_P1=float3[a96_0x2443a6(483)](AXIS_PLANE_OFFSET,AXIS_PLANE_OFFSET,0),_planeXY_P2=float3[a96_0x2443a6(483)](AXIS_PLANE_OFFSET+AXIS_PLANE_E,AXIS_PLANE_OFFSET,0),_planeXY_P3=float3[a96_0x2443a6(483)](AXIS_PLANE_OFFSET+AXIS_PLANE_E,AXIS_PLANE_OFFSET+AXIS_PLANE_E,0),_planeXY_P4=float3[a96_0x2443a6(483)](AXIS_PLANE_OFFSET,AXIS_PLANE_OFFSET+AXIS_PLANE_E,0),_planeXY_M1=float3[a96_0x2443a6(483)](-AXIS_LENGTH,-AXIS_LENGTH,0),_planeXY_M2=float3[a96_0x2443a6(483)](-AXIS_LENGTH,AXIS_LENGTH,0),_planeXY_M3=float3[a96_0x2443a6(483)](AXIS_LENGTH,AXIS_LENGTH,0),_planeXY_M4=float3[a96_0x2443a6(483)](AXIS_LENGTH,-AXIS_LENGTH,0),_planeYZ_P1=float3[a96_0x2443a6(483)](0,AXIS_PLANE_OFFSET,AXIS_PLANE_OFFSET),_planeYZ_P2=float3.from(0,AXIS_PLANE_OFFSET+AXIS_PLANE_E,AXIS_PLANE_OFFSET),_planeYZ_P3=float3.from(0,AXIS_PLANE_OFFSET+AXIS_PLANE_E,AXIS_PLANE_OFFSET+AXIS_PLANE_E),_planeYZ_P4=float3[a96_0x2443a6(483)](0,AXIS_PLANE_OFFSET,AXIS_PLANE_OFFSET+AXIS_PLANE_E),_planeYZ_M1=float3[a96_0x2443a6(483)](0,-AXIS_LENGTH,-AXIS_LENGTH),_planeYZ_M2=float3[a96_0x2443a6(483)](0,-AXIS_LENGTH,AXIS_LENGTH),_planeYZ_M3=float3.from(0,AXIS_LENGTH,AXIS_LENGTH),_planeYZ_M4=float3.from(0,AXIS_LENGTH,-AXIS_LENGTH),VALUE_AXIS_X=0,VALUE_AXIS_Y=1,VALUE_AXIS_Z=2,VALUE_AXIS_XY_CIR=3,VALUE_AXIS_XZ_CIR=4,VALUE_AXIS_YZ_CIR=5,VALUE_PLANE_XY=6,VALUE_PLANE_XZ=7,VALUE_PLANE_YZ=8;function AxisNvgCallbacks(){var t=a96_0x2443a6;this[t(453)]=null,this[t(540)]=null,this[t(436)]=null,this[t(420)]=null,this.onNvgMoveAxisY_Update=null,this[t(434)]=null,this[t(502)]=null,this[t(449)]=null,this.onNvgMoveAxisZ_Finish=null,this[t(524)]=null,this[t(421)]=null,this[t(405)]=null,this[t(439)]=null,this[t(534)]=null,this[t(530)]=null,this[t(507)]=null,this[t(499)]=null,this.onNvgRotateYZ_Finish=null,this.onNvgMovePlaneXY_Begin=null,this[t(521)]=null,this[t(438)]=null,this[t(494)]=null,this.onNvgMovePlaneXZ_Update=null,this[t(490)]=null,this[t(513)]=null,this.onNvgMovePlaneYZ_Update=null,this.onNvgMovePlaneYZ_Finish=null}function AxisNavigator(){const _=a96_0x2443a6;this[_(538)]=float3[_(483)](0,0,0),this[_(444)]=!1,this[_(500)]=!1,this[_(477)]=!1,this[_(401)]=AXIS_SCALE,this[_(422)]=!0,this.pickIndex=-1,this.nvgMatrix=null,this[_(506)]=null,this[_(515)]=null,this[_(411)]=new CommonItersectTool,this[_(493)]=new Point3(0,0,0),this[_(410)]=new Point3(0,0,0),this[_(488)]=new ADF_BASEFLOAT3,this[_(509)]=new ADF_BASEFLOAT3,this[_(526)]=new ADF_BASEFLOAT3,this.vTriVer2=new ADF_BASEFLOAT3,this[_(478)]=new ADF_BASEFLOAT3,this.vTriVer4=new ADF_BASEFLOAT3,this[_(471)]=new ADF_BASEFLOAT3,this[_(470)]=30,this[_(412)]=50,this[_(518)]=50,this[_(537)]=new Array,this[_(430)]=new Array,this.arrIntersectPt=new Array,this.vecDir1=new Vector3(0,0,0),this[_(457)]=new Vector3(0,0,0),this[_(536)]=new Vector3(0,0,0),this.vecDirCross=new Vector3(0,0,0),this.pIntersectPtMove=new ADF_BASEFLOAT3,this[_(454)]=new ADF_BASEFLOAT3,this[_(418)]=new ADF_BASEFLOAT3,this[_(413)]=function(t=AXIS_SCALE){var e=_;return this[e(444)]||(this.setScale(t),this[e(444)]=!0),!0},this[_(522)]=function(){var t=_;this[t(423)]=null,this[t(519)]=null,this[t(462)]=null,this[t(444)]=!1},this.bind=function(t,e,a){var n=_;this.nvgMatrix=t,this[n(506)]=e,this.updateBindMat=a,this[n(500)]=!0},this.unBind=function(){var t=_;this.nvgMatrix=null,this[t(506)]=null,this[t(515)]=null,this.isBind=!1},this[_(467)]=function(t){var e=_,a=(this[e(401)]=t,this.axisX=float3.mul(null,_axisX,t),this[e(480)]=float3[e(541)](null,_axisY,t),this.axisZ=float3[e(541)](null,_axisZ,t),this[e(484)]=float3[e(541)](null,_axisX_A,t),this.axisYArrow=float3[e(541)](null,_axisY_A,t),this[e(424)]=float3.mul(null,_axisZ_A,t),this[e(450)]=float3[e(541)](null,_axisXCir,t),this.axisYCir=float3[e(541)](null,_axisYCir,t),this[e(495)]=float3[e(541)](null,_axisZCir,t),this[e(442)]=float3.mul(null,_planeXZ_P1,t),this[e(452)]=float3[e(541)](null,_planeXZ_P2,t),this[e(458)]=float3.mul(null,_planeXZ_P3,t),this.planeXZ_P4=float3[e(541)](null,_planeXZ_P4,t),this[e(435)]=float3.mul(null,_planeXY_P1,t),this[e(431)]=float3[e(541)](null,_planeXY_P2,t),this[e(504)]=float3[e(541)](null,_planeXY_P3,t),this[e(491)]=float3[e(541)](null,_planeXY_P4,t),this[e(416)]=float3.mul(null,_planeYZ_P1,t),this[e(459)]=float3[e(541)](null,_planeYZ_P2,t),this[e(472)]=float3[e(541)](null,_planeYZ_P3,t),this[e(428)]=float3[e(541)](null,_planeYZ_P4,t),this.planeXY_M1=float3[e(541)](null,_planeXY_M1,t),this[e(417)]=float3[e(541)](null,_planeXY_M2,t),this.planeXY_M3=float3.mul(null,_planeXY_M3,t),this[e(508)]=float3[e(541)](null,_planeXY_M4,t),this[e(455)]=float3[e(541)](null,_planeXZ_M1,t),this[e(426)]=float3.mul(null,_planeXZ_M2,t),this[e(451)]=float3.mul(null,_planeXZ_M3,t),this.planeXZ_M4=float3.mul(null,_planeXZ_M4,t),this.planeYZ_M1=float3[e(541)](null,_planeYZ_M1,t),this[e(533)]=float3[e(541)](null,_planeYZ_M2,t),this[e(505)]=float3[e(541)](null,_planeYZ_M3,t),this[e(425)]=float3[e(541)](null,_planeYZ_M4,t),this[e(535)]=AXIS_CIRCLE_R*t,this[e(517)]=AXIS_ARROW_B*t,-AXIS_ARROW_H*t),n=(AXIS_LENGTH+AXIS_ARROW_H)*t,a=new Point3(a,a,a),n=new Point3(n,n,n),a=(this[e(465)]=new Box3D,TranBox3D(a,n,this[e(465)]),new ADF_BASEFLOAT3),n=new ADF_BASEFLOAT3,i=new ADF_BASEFLOAT3,s=new ADF_BASEFLOAT3,r=new ADF_BASEMATRIX,o=(a.x=this[e(538)][0],a.y=this[e(538)][1],a.z=this[e(538)][2],n.x=this[e(407)][0],n.y=this[e(407)][1],n.z=this[e(407)][2],i.x=this[e(480)][0],i.y=this[e(480)][1],i.z=this[e(480)][2],s.x=this.axisZ[0],s.y=this.axisZ[1],s.z=this[e(415)][2],Math.PI/2/alpha+1),l=3*Math.PI/2/alpha+1;this[e(423)]=new Float32Array(3*o),this[e(519)]=new Float32Array(3*o),this[e(462)]=new Float32Array(3*o),this[e(463)]=new Float32Array(3*l),this[e(447)]=new Float32Array(3*l),this.yzCirRev=new Float32Array(3*l),GetArcTransformMatrix(a,n,i,0,Math.PI/2,this[e(535)],null,r),SplitArc_LineTripFloat32Array(this[e(535)],0,Math.PI/2,r,eAxisZ,this.xyCir),SplitArc_LineTripFloat32Array(this.axisCircleR,Math.PI/2,2*Math.PI,r,eAxisZ,this[e(463)]),ADFMatrixIdentity(r),GetArcTransformMatrix(a,n,s,0,Math.PI/2,this[e(535)],null,r),SplitArc_LineTripFloat32Array(this[e(535)],0,Math.PI/2,r,eAxisY,this[e(519)]),SplitArc_LineTripFloat32Array(this[e(535)],Math.PI/2,2*Math.PI,r,eAxisY,this[e(447)]),ADFMatrixIdentity(r),GetArcTransformMatrix(a,i,s,0,Math.PI/2,this[e(535)],null,r),SplitArc_LineTripFloat32Array(this[e(535)],0,Math.PI/2,r,eAxisX,this[e(462)]),SplitArc_LineTripFloat32Array(this[e(535)],Math.PI/2,2*Math.PI,r,eAxisX,this[e(446)]),this.intersectAxisZero*=t,this[e(412)]*=t,this[e(518)]*=t,this.isInit&&g_canvas[e(514)]()},this[_(409)]=function(t){this[_(422)]=t},this[_(479)]=function(t,e){var a=_,t=(glRunTime[a(466)](t,e,this[a(493)],this[a(410)]),this[a(520)](this.RayPoint1,this.RayPoint2));if(null==t)return 0<=this[a(539)]&&(this.pickIndex=-1,glRunTime[a(514)]()),-1;this[a(539)]!=t[a(433)]&&(this.pickIndex=t[a(433)],glRunTime[a(514)]()),this[a(471)][a(419)](t.ptIntersect)},this[_(404)]=function(t,e){var a=_;if(!(this[a(539)]<0))switch(g_canvas[a(516)]=!0,this.pickIndex){case VALUE_AXIS_X:this[a(506)][a(453)](this[a(471)]);break;case VALUE_AXIS_Y:this.callbacks[a(420)](this[a(471)]);break;case VALUE_AXIS_Z:this[a(506)][a(502)](this[a(471)]);break;case VALUE_AXIS_XY_CIR:CalTranslatePoint(this.axisOrigin[0],this.axisOrigin[1],this.axisOrigin[2],this[a(531)],this[a(526)]),this.vecDir1[a(443)](this[a(471)].x-this[a(526)].x,this[a(471)].y-this[a(526)].y,this.pIntersectPt.z-this.vTriVer1.z),this[a(481)][a(527)](),CalTranslatePoint(this.axisZ[0],this[a(415)][1],this.axisZ[2],this[a(531)],this[a(468)]),this[a(536)][a(443)](this[a(468)].x-this[a(526)].x,this.vTriVer2.y-this.vTriVer1.y,this.vTriVer2.z-this.vTriVer1.z),this[a(536)][a(527)](),this[a(506)].onNvgRotateXY_Begin();break;case VALUE_AXIS_XZ_CIR:CalTranslatePoint(this[a(538)][0],this.axisOrigin[1],this[a(538)][2],this[a(531)],this.vTriVer1),this[a(481)][a(443)](this[a(471)].x-this[a(526)].x,this[a(471)].y-this[a(526)].y,this.pIntersectPt.z-this[a(526)].z),this[a(481)][a(527)](),CalTranslatePoint(this[a(480)][0],this.axisY[1],this[a(480)][2],this.nvgMatrix,this[a(468)]),this.vecAxis.set(this.vTriVer2.x-this[a(526)].x,this[a(468)].y-this.vTriVer1.y,this.vTriVer2.z-this[a(526)].z),this[a(536)][a(527)](),this[a(506)][a(439)]();break;case VALUE_AXIS_YZ_CIR:CalTranslatePoint(this[a(538)][0],this[a(538)][1],this[a(538)][2],this[a(531)],this[a(526)]),this[a(481)][a(443)](this.pIntersectPt.x-this[a(526)].x,this[a(471)].y-this[a(526)].y,this[a(471)].z-this[a(526)].z),this.vecDir1[a(527)](),CalTranslatePoint(this[a(407)][0],this[a(407)][1],this.axisX[2],this[a(531)],this[a(468)]),this[a(536)][a(443)](this[a(468)].x-this[a(526)].x,this[a(468)].y-this[a(526)].y,this[a(468)].z-this[a(526)].z),this.vecAxis.normalize(),this.callbacks[a(507)]();break;case VALUE_PLANE_XY:this[a(506)][a(492)](this[a(471)]);break;case VALUE_PLANE_XZ:this[a(506)][a(494)](this[a(471)]);break;case VALUE_PLANE_YZ:this[a(506)].onNvgMovePlaneYZ_Begin(this[a(471)]);break;default:g_canvas.isDuringAxis=!1}},this.onMouseKeyUp=function(t,e){var a=_;if(!(this[a(539)]<0)){switch(this[a(539)]){case VALUE_AXIS_X:this.callbacks[a(436)]();break;case VALUE_AXIS_Y:this.callbacks.onNvgMoveAxisY_Finish();break;case VALUE_AXIS_Z:this[a(506)][a(427)]();break;case VALUE_AXIS_XY_CIR:this.callbacks.onNvgRotateXY_Finish();break;case VALUE_AXIS_XZ_CIR:this[a(506)][a(530)]();break;case VALUE_AXIS_YZ_CIR:this.callbacks[a(441)]();break;case VALUE_PLANE_XY:this[a(506)][a(438)]();break;case VALUE_PLANE_XZ:this[a(506)].onNvgMovePlaneXZ_Finish();break;case VALUE_PLANE_YZ:this[a(506)].onNvgMovePlaneYZ_Finish()}g_canvas[a(516)]=!1,this[a(539)]=-1}},this[_(528)]=function(e,a){var n=_;if(!(this[n(539)]<0)){let t=0;switch(glRunTime.cvtScreenToWorld(e,a,this.RayPoint1,this.RayPoint2),this.pickIndex){case VALUE_AXIS_X:this.calAxisMoveUpdatePos(this[n(538)],this[n(484)],this[n(531)],this[n(493)],this[n(410)]),this.callbacks[n(540)](this[n(503)]);break;case VALUE_AXIS_Y:this.calAxisMoveUpdatePos(this[n(538)],this[n(437)],this[n(531)],this[n(493)],this[n(410)]),this[n(506)].onNvgMoveAxisY_Update(this[n(503)]);break;case VALUE_AXIS_Z:this.calAxisMoveUpdatePos(this[n(538)],this[n(424)],this[n(531)],this[n(493)],this[n(410)]),this[n(506)].onNvgMoveAxisZ_Update(this[n(503)]);break;case VALUE_AXIS_XY_CIR:this[n(487)](this.xyCir,this[n(531)],this[n(493)],this[n(410)]),t=this.calAxisRotateUpdateAngle(),this[n(506)][n(421)](t);break;case VALUE_AXIS_XZ_CIR:this[n(487)](this.xzCir,this[n(531)],this[n(493)],this[n(410)]),t=this[n(498)](),this[n(506)][n(534)](t);break;case VALUE_AXIS_YZ_CIR:this[n(487)](this[n(462)],this[n(531)],this[n(493)],this[n(410)]),t=this[n(498)](),this[n(506)][n(499)](t);break;case VALUE_PLANE_XY:this.calPlaneMoveUpdatePos(this.planeXY_M1,this[n(417)],this[n(486)],this[n(508)],this.nvgMatrix,this[n(493)],this[n(410)])&&this[n(506)][n(521)](this[n(503)]);break;case VALUE_PLANE_XZ:this.calPlaneMoveUpdatePos(this.planeXZ_M1,this[n(426)],this[n(451)],this.planeXZ_M4,this.nvgMatrix,this[n(493)],this[n(410)])&&this[n(506)][n(501)](this[n(503)]);break;case VALUE_PLANE_YZ:this[n(511)](this.planeYZ_M1,this.planeYZ_M2,this.planeYZ_M3,this.planeYZ_M4,this[n(531)],this[n(493)],this[n(410)])&&this.callbacks.onNvgMovePlaneYZ_Update(this.pIntersectPtMove)}}},this[_(497)]=function(t){var e=_;switch(t){case VALUE_AXIS_X:return null!=this[e(506)][e(453)]&&null!=this[e(506)][e(540)]&&null!=this[e(506)][e(436)];case VALUE_AXIS_Y:return null!=this[e(506)].onNvgMoveAxisY_Begin&&null!=this.callbacks[e(532)]&&null!=this[e(506)][e(434)];case VALUE_AXIS_Z:return null!=this[e(506)].onNvgMoveAxisZ_Begin&&null!=this[e(506)][e(449)]&&null!=this[e(506)].onNvgMoveAxisZ_Finish;case VALUE_AXIS_XY_CIR:return null!=this[e(506)].onNvgRotateXY_Begin&&null!=this[e(506)].onNvgRotateXY_Update&&null!=this[e(506)][e(405)];case VALUE_AXIS_XZ_CIR:return null!=this[e(506)][e(439)]&&null!=this.callbacks[e(534)]&&null!=this.callbacks[e(530)];case VALUE_AXIS_YZ_CIR:return null!=this[e(506)][e(507)]&&null!=this.callbacks.onNvgRotateYZ_Update&&null!=this[e(506)][e(441)];case VALUE_PLANE_XY:return null!=this[e(506)].onNvgMovePlaneXY_Begin&&null!=this[e(506)].onNvgMovePlaneXY_Update&&null!=this.callbacks.onNvgMovePlaneXY_Finish;case VALUE_PLANE_XZ:return null!=this[e(506)][e(494)]&&null!=this[e(506)][e(501)]&&null!=this[e(506)].onNvgMovePlaneXZ_Finish;case VALUE_PLANE_YZ:return null!=this[e(506)].onNvgMovePlaneYZ_Begin&&null!=this[e(506)].onNvgMovePlaneYZ_Update&&null!=this.callbacks[e(475)];default:return!1}},this[_(520)]=function(t,e){var n=_;if(null==this.callbacks)return null;if(this.vLinePt1.x=t.x,this[n(488)].y=t.y,this[n(488)].z=t.z,this[n(509)].x=e.x,this[n(509)].y=e.y,this[n(509)].z=e.z,this[n(430)][n(464)](0,this[n(430)][n(402)]),this.arrIntersectPt[n(464)](0,this[n(482)][n(402)]),this[n(537)][n(464)](0,this[n(537)][n(402)]),this.intersectTool[n(525)](t,e,this[n(465)],this[n(531)])&&(this[n(497)](VALUE_AXIS_X)&&this[n(445)](this.axisOrigin,this[n(407)],this[n(484)],this.nvgMatrix,VALUE_AXIS_X),this[n(497)](VALUE_AXIS_Y)&&this[n(445)](this[n(538)],this[n(480)],this[n(437)],this[n(531)],VALUE_AXIS_Y),this[n(497)](VALUE_AXIS_Z)&&this.pickAxis(this[n(538)],this.axisZ,this[n(424)],this.nvgMatrix,VALUE_AXIS_Z),this[n(497)](VALUE_AXIS_XY_CIR)&&this[n(485)](this[n(423)],this[n(531)],VALUE_AXIS_XY_CIR),this.axisNvgEnable(VALUE_AXIS_XZ_CIR)&&this[n(485)](this.xzCir,this[n(531)],VALUE_AXIS_XZ_CIR),this.axisNvgEnable(VALUE_AXIS_YZ_CIR)&&this.pickArc(this[n(462)],this[n(531)],VALUE_AXIS_YZ_CIR),this[n(497)](VALUE_PLANE_XY)&&this.pickPlane(this[n(435)],this.planeXY_P2,this.planeXY_P3,this[n(491)],this[n(531)],VALUE_PLANE_XY),this[n(497)](VALUE_PLANE_XZ)&&this.pickPlane(this[n(442)],this[n(452)],this.planeXZ_P3,this[n(510)],this.nvgMatrix,VALUE_PLANE_XZ),this[n(497)](VALUE_PLANE_YZ))&&this[n(469)](this[n(416)],this.planeYZ_P2,this[n(472)],this[n(428)],this[n(531)],VALUE_PLANE_YZ),0==this[n(430)].length)return null;{let e=1/0,a=0;for(let t=0;t<this[n(430)][n(402)];t++)this.arrDistance[t]<e&&(e=this[n(430)][t],a=t);return{dDistance:e,ptIntersect:this[n(482)][a],index:this[n(537)][a]}}},this[_(445)]=function(t,e,a,n,i){var s=_;CalTranslatePoint(t[0],t[1],t[2],n,this.vTriVer1),CalTranslatePoint(e[0],e[1],e[2],n,this.vTriVer2),CalTranslatePoint(a[0],a[1],a[2],n,this[s(478)]);let r=CalcDistanceOfTwoLineSeg(this[s(526)],this[s(468)],this[s(488)],this.vLinePt2,this[s(471)]);this[s(411)][s(408)](this[s(471)],this[s(488)],this[s(470)])?(r=CalDistanceOfPoint3d(this.pIntersectPt,this[s(488)]),(t=new ADF_BASEFLOAT3).Copy(this[s(471)]),this[s(430)].push(r),this[s(482)][s(529)](t),this[s(537)][s(529)](i)):(r=CalcDistanceOfTwoLineSeg(this.vTriVer2,this[s(478)],this[s(488)],this[s(509)],this[s(471)]),this[s(411)][s(408)](this[s(471)],this[s(488)],this[s(412)])&&(r=CalDistanceOfPoint3d(this[s(471)],this[s(488)]),(e=new ADF_BASEFLOAT3)[s(419)](this[s(471)]),this.arrDistance[s(529)](r),this[s(482)][s(529)](e),this[s(537)][s(529)](i)))},this[_(485)]=function(e,a,t){var n=_;let i=1/0,s=!1,r=new ADF_BASEFLOAT3;for(let t=0;t<e[n(402)];t+=3){CalTranslatePoint(e[t],e[t+1],e[t+2],a,this.vTriVer1),CalTranslatePoint(e[t+3],e[t+4],e[t+5],a,this[n(468)]);var o=CalcDistanceOfTwoLineSeg(this[n(526)],this[n(468)],this.vLinePt1,this[n(509)],this[n(471)]);this[n(411)][n(408)](this[n(471)],this[n(488)],this.intersectArcZero)&&o<i&&(r.Copy(this.pIntersectPt),i=o,s=!0)}s&&(this[n(430)][n(529)](i),this[n(482)][n(529)](r),this.arrIndexs[n(529)](t))},this[_(469)]=function(t,e,a,n,i,s){var r=_;CalTranslatePoint(t[0],t[1],t[2],i,this[r(526)]),CalTranslatePoint(e[0],e[1],e[2],i,this.vTriVer2),CalTranslatePoint(a[0],a[1],a[2],i,this[r(478)]),CalTranslatePoint(n[0],n[1],n[2],i,this[r(489)]);let o=-1,l=null;CalcIntersectOfLineSegTriangle(this[r(488)],this[r(509)],this[r(526)],this[r(468)],this[r(478)],this[r(471)])?(o=CalDistanceOfPoint3d(this[r(471)],this[r(488)]),(l=new ADF_BASEFLOAT3).Copy(this[r(471)]),this[r(430)][r(529)](o),this[r(482)][r(529)](l),this[r(537)][r(529)](s)):CalcIntersectOfLineSegTriangle(this.vLinePt1,this[r(509)],this[r(478)],this[r(489)],this[r(526)],this.pIntersectPt)&&(o=CalDistanceOfPoint3d(this[r(471)],this[r(488)]),(l=new ADF_BASEFLOAT3)[r(419)](this[r(471)]),this[r(430)][r(529)](o),this.arrIntersectPt.push(l),this.arrIndexs[r(529)](s))},this[_(461)]=function(t,e,a,n,i){var s=_;this[s(488)].x=n.x,this[s(488)].y=n.y,this[s(488)].z=n.z,this[s(509)].x=i.x,this[s(509)].y=i.y,this[s(509)].z=i.z,CalTranslatePoint(t[0],t[1],t[2],a,this[s(526)]),CalTranslatePoint(e[0],e[1],e[2],a,this[s(468)]),CalcDistanceOfTwoLineSeg(this[s(526)],this[s(468)],this[s(488)],this[s(509)],this[s(503)])},this[_(487)]=function(e,a,t,n){var i=_;this[i(488)].x=t.x,this[i(488)].y=t.y,this[i(488)].z=t.z,this[i(509)].x=n.x,this[i(509)].y=n.y,this.vLinePt2.z=n.z;let s=1/0,r=new ADF_BASEFLOAT3;for(let t=0;t<e[i(402)];t+=3){CalTranslatePoint(e[t],e[t+1],e[t+2],a,this.vTriVer1),CalTranslatePoint(e[t+3],e[t+4],e[t+5],a,this[i(468)]);var o=CalcDistanceOfTwoLineSeg(this.vTriVer1,this[i(468)],this[i(488)],this[i(509)],this[i(454)]);o<s&&(r[i(419)](this[i(454)]),s=o)}this[i(454)][i(419)](r)},this[_(498)]=function(){var t=_;let e=0;return CalTranslatePoint(this.axisOrigin[0],this[t(538)][1],this[t(538)][2],this.nvgMatrix,this[t(526)]),this[t(457)].set(this[t(454)].x-this.vTriVer1.x,this[t(454)].y-this[t(526)].y,this[t(454)].z-this[t(526)].z),this[t(457)][t(527)](),Math[t(523)](this[t(457)].y-this[t(481)].y)<AXIS_ZERO&&Math[t(523)](this[t(457)].x-this[t(481)].x)<AXIS_ZERO&&Math.abs(this[t(457)].z-this[t(481)].z)<AXIS_ZERO?0:(this[t(457)][t(414)](this[t(481)],this[t(448)]),e=0<this[t(448)].dot(this[t(536)])?-this[t(457)].angle(this[t(481)]):this[t(457)][t(429)](this[t(481)]))},this[_(511)]=function(t,e,a,n,i,s,r){var o=_;return this[o(488)].x=s.x,this[o(488)].y=s.y,this.vLinePt1.z=s.z,this[o(509)].x=r.x,this[o(509)].y=r.y,this[o(509)].z=r.z,CalTranslatePoint(t[0],t[1],t[2],i,this[o(526)]),CalTranslatePoint(e[0],e[1],e[2],i,this[o(468)]),CalTranslatePoint(a[0],a[1],a[2],i,this[o(478)]),CalTranslatePoint(n[0],n[1],n[2],i,this[o(489)]),!!CalcIntersectOfLineSegTriangle(this[o(488)],this[o(509)],this[o(526)],this[o(468)],this[o(478)],this[o(503)])||!!CalcIntersectOfLineSegTriangle(this[o(488)],this[o(509)],this[o(478)],this[o(489)],this[o(526)],this.pIntersectPtMove)}}var a99_0x376b=["onNvgMovePlaneXZ_Begin","object navigator bind fail!","updateBindMatrix","length","unBind","15959ZJUCxX","onNvgMovePlaneXY_Begin","onNvgMoveAxisZ_Update","onNvgMoveAxisX_Update","onNvgRotateXY_Finish","objectMoveWorldFinish","627309cEfPtv","onNvgMovePlaneYZ_Begin","163Vdnmqz","log","769JFbZJz","m_arrObjectMatrix","onNvgMoveAxisX_Begin","objectRotateWorldFinish","onNvgRotateXZ_Finish","onNvgRotateYZ_Update","axisOrigin","onNvgMovePlaneYZ_Update","onNvgMovePlaneXZ_Update","objectRotateWorldUpdate","onNvgMovePlaneXZ_Finish","onNvgRotateXY_Begin","onNvgMoveAxisY_Update","onNvgMoveAxisX_Finish","unbind","bind object fail, no object is selected!","onNvgMovePlaneYZ_Finish","mProj","getPickedIndex","40245rGzKRn","create","286229qPhhoT","onNvgMovePlaneXY_Update","objectMoveWorldStart","mView","init","355134pjYkFm","onNvgRotateXZ_Begin","objectMoveWorldUpdate","bind","onNvgMoveAxisZ_Begin","11EhUWKp","693674DouKLE"],a99_0x491b65=a99_0x1031;function a99_0x1031(t,e){return a99_0x376b[t-=315]}!function(e){for(var t=a99_0x1031;;)try{if(378231===parseInt(t(345))+-parseInt(t(322))+parseInt(t(339))+parseInt(t(333))+parseInt(t(320))*-parseInt(t(332))+-parseInt(t(327))+-parseInt(t(349))*-parseInt(t(347)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a99_0x376b);var g_objNvgCallback=null,g_objNvgCenter=new Point3(0,0,0),g_objNvgScaleMat=mat4[a99_0x491b65(321)](),g_objNvgBindMat=mat4[a99_0x491b65(321)](),g_objNvgBindIndex=-1;function ObjectAxisNavigator(){var n=a99_0x491b65;(g_axisNvg=null==g_axisNvg?new AxisNavigator:g_axisNvg)[n(326)](),g_objNvgCallback=new AxisNvgCallbacks,this[n(336)]=function(){var t,e,a=n;g_objNvgBindIndex<0?(console[a(348)](a(335)),this[a(315)]()):(t=g_webglControl[a(350)][g_objNvgBindIndex],e=g_GLObjectSet._arrObjectSet[g_objNvgBindIndex].GetObjectScale(),CalTranslatePoint(g_axisNvg.axisOrigin[0],g_axisNvg.axisOrigin[1],g_axisNvg[a(355)][2],t,g_objNvgCenter),a=CalCameraProjectScale(g_objNvgCenter,g_camera[a(325)],g_camera[a(318)]),g_objNvgScaleMat[0]=a/e,g_objNvgScaleMat[5]=a/e,g_objNvgScaleMat[10]=a/e,mat4.multiply(g_objNvgBindMat,t,g_objNvgScaleMat))},this[n(330)]=function(){var e=n,t=g_glprogram[e(319)]();if(null==t||0==t[e(337)])return console[e(348)](e(316)),!1;g_objNvgBindIndex=t[0],this.updateBindMatrix(),g_objNvgCallback[e(351)]=function(t){glRunTime[e(324)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(342)]=function(t){glRunTime[e(329)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(362)]=function(){glRunTime[e(344)]()},g_objNvgCallback.onNvgMoveAxisY_Begin=function(t){glRunTime.objectMoveWorldStart(g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(361)]=function(t){glRunTime[e(329)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback.onNvgMoveAxisY_Finish=function(){glRunTime[e(344)]()},g_objNvgCallback[e(331)]=function(t){glRunTime[e(324)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(341)]=function(t){glRunTime[e(329)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback.onNvgMoveAxisZ_Finish=function(){glRunTime.objectMoveWorldFinish()},g_objNvgCallback[e(360)]=function(){glRunTime.objectRotateWorldStart(g_objNvgBindIndex)},g_objNvgCallback.onNvgRotateXY_Update=function(t){glRunTime[e(358)](g_objNvgBindIndex,g_axisZ,t)},g_objNvgCallback[e(343)]=function(){glRunTime[e(352)](g_objNvgBindIndex)},g_objNvgCallback[e(328)]=function(){glRunTime.objectRotateWorldStart(g_objNvgBindIndex)},g_objNvgCallback.onNvgRotateXZ_Update=function(t){glRunTime.objectRotateWorldUpdate(g_objNvgBindIndex,g_axisY,t)},g_objNvgCallback[e(353)]=function(){glRunTime[e(352)](g_objNvgBindIndex)},g_objNvgCallback.onNvgRotateYZ_Begin=function(){glRunTime.objectRotateWorldStart(g_objNvgBindIndex)},g_objNvgCallback[e(354)]=function(t){glRunTime[e(358)](g_objNvgBindIndex,g_axisX,t)},g_objNvgCallback.onNvgRotateYZ_Finish=function(){glRunTime[e(352)](g_objNvgBindIndex)},g_objNvgCallback[e(340)]=function(t){glRunTime[e(324)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(323)]=function(t){glRunTime[e(329)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback.onNvgMovePlaneXY_Finish=function(){glRunTime[e(344)]()},g_objNvgCallback[e(334)]=function(t){glRunTime.objectMoveWorldStart(g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(357)]=function(t){glRunTime.objectMoveWorldUpdate(g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(359)]=function(){glRunTime[e(344)]()},g_objNvgCallback[e(346)]=function(t){glRunTime.objectMoveWorldStart(g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(356)]=function(t){glRunTime[e(329)](g_objNvgBindIndex,t.x,t.y,t.z)},g_objNvgCallback[e(317)]=function(){glRunTime[e(344)]()},g_axisNvg.bind(g_objNvgBindMat,g_objNvgCallback,this[e(336)]),g_isLocked=!0},this.unbind=function(){g_axisNvg[n(338)](),g_isLocked=!1}}var a12_0x36c9=["updateDesc","beginExplode","home","299478vidEYv","updateExplode","m_arrObjectMatrix","369ZMUFvh","endExplode","","flush","_fFOVY","GetAnimCamera","20iLswqF","4084KsiJAd","length","813vvehLy","198267noOsoe","ceil","fTransparent","2238DyFmMc","729167codRbA","_uFrameSize","P3D_OnAnimRefreshCallBack","P3D_OnAnimFinishCallBack","415NUtBLN","GetAnimTransparent","_arrObjectSet","setAnnotationAnim","fromCleCamera","fAspect","animRun()","GetAnimMatrix","325914BzoZCW"];!function(e){for(var t=a12_0x43df;;)try{if(396233===-parseInt(t(281))-parseInt(t(264))+parseInt(t(268))+-parseInt(t(284))*parseInt(t(277))+parseInt(t(271))*-parseInt(t(280))+-parseInt(t(285))+parseInt(t(278))*parseInt(t(256)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a12_0x36c9);const ANIMRUN=0,ANIMPAUSE=1,ANIMEND=2,ANIMTERMINAL=3;var animationClock=null,animationStatus=ANIMTERMINAL,uTotalFrame=0,uCurFrame=0,uFrameStep=1,uSleepTime=40,uBaseTime=40,uAnimSpeed=1,g_nAnimationStart=0,g_nAnimationEnd=0,g_animMode=0,g_doObjectAnim=!0,g_doCameraAnim=!0,g_doTransAnim=!0,adfCamera=new ADF_CAMERA;function setAnimType(t,e,a){g_doObjectAnim=t,g_doCameraAnim=e,g_doTransAnim=a}function setAnimSpeed(t){t<.5||10<t||(4<t?(uAnimSpeed=1,uSleepTime=uBaseTime,uFrameStep=Math[a12_0x43df(282)](t)):(uFrameStep=1,uSleepTime=uBaseTime/(uAnimSpeed=t)))}function a12_0x43df(t,e){return a12_0x36c9[t-=256]}function getAnimSpeed(){return uAnimSpeed*uFrameStep}function getTotalFrames(){return g_GLObjectSet._uFrameSize}function setAnimationStart(){var t=a12_0x43df;animTerminal(),uTotalFrame=g_GLObjectSet[t(286)],animationStatus==ANIMTERMINAL&&glRunTime[t(267)](HOME_ALL),uTotalFrame<=uCurFrame&&(uCurFrame=0),animRun(),g_animMode=1}function PlaySceneAnimation(){animTerminal(),(uTotalFrame=g_nAnimationEnd)<=(uCurFrame=g_nAnimationStart)&&(uCurFrame=g_nAnimationStart),animationStatus=ANIMRUN,animRun(),g_animMode=2}function PlayUsrFrameAnimation(t,e){if(e<=t||e>=g_GLObjectSet[a12_0x43df(286)])return-1;animTerminal(),uCurFrame=t,uTotalFrame=e,animationStatus=ANIMRUN,animRun(),g_animMode=2}function animRun(){var t=a12_0x43df;uCurFrame<uTotalFrame&&setObjectAnim(uCurFrame)?(g_doCameraAnim&&setCameraAnim(uCurFrame),g_doTransAnim&&setAnnotationAnim(uCurFrame),glRunTime.flush(),callback_v3[t(287)](uCurFrame),uCurFrame+=uFrameStep,animationClock=setTimeout(t(262),uSleepTime),animationStatus=ANIMRUN):(animPause(),animationStatus=ANIMEND,callback_v3.P3D_OnAnimFinishCallBack(!0))}function animPause(){null!=animationClock&&clearTimeout(animationClock),animationClock=null,animationStatus=ANIMPAUSE}function animTerminal(){uCurFrame=0,callback_v3[a12_0x43df(287)](uCurFrame),uTotalFrame=0,setObjectAnim(uCurFrame)&&(g_doCameraAnim&&setCameraAnim(uCurFrame),g_doTransAnim&&setAnnotationAnim(uCurFrame),glRunTime.flush()),animPause(),animationStatus=ANIMTERMINAL,g_animMode=0}function setCurFrame(t){var e=a12_0x43df;if(1==g_animMode){if(t<0||uTotalFrame<=t)return}else{if(2!=g_animMode)return;if(t<g_nAnimationStart||uTotalFrame<=t)return}setObjectAnim(uCurFrame=t)&&(g_doCameraAnim&&setCameraAnim(uCurFrame),g_doTransAnim)&&setAnnotationAnim(uCurFrame),glRunTime[e(274)](),animPause(),callback_v3[e(288)](!0)}function setCameraAnim(t){var e=a12_0x43df;return!(t>g_GLObjectSet[e(286)]||t<0||(g_GLCameraSet[e(276)](t,adfCamera),adfCamera[e(275)]<=1e-4||(Common[e(260)](g_cameraDesc,adfCamera),g_cameraDesc[e(261)]=g_camera.desc.fAspect,Camera[e(265)](g_camera,g_cameraDesc)),0))}function setObjectAnim(e){var a=a12_0x43df;if(e>g_GLObjectSet._uFrameSize||e<0)return!1;for(let t=0;t<g_webglControl.m_arrObjectMatrix[a(279)];t++)g_GLObjectSet[a(258)][t][a(263)](e,g_webglControl[a(270)][t]),this[a(283)]=g_GLObjectSet[a(258)][t][a(257)](e),g_webglControl.m_arrObjectTransparent[t]=this[a(283)];return!0}function setAnnotationAnim(t){var e=a12_0x43df;return!(t>g_GLObjectSet[e(286)]||t<0||(g_sceneAnnotation[e(259)](t),0))}var scope=1,totalFrame=0,mode=0,explode=!1;function setExplodeStart(t,e,a,n){return!(a<1||n<0||!g_sceneExploder[a12_0x43df(266)](t))&&(scope=a,totalFrame=n,mode=e,explode=!0)}function updateExplodeFrame(t){var e=a12_0x43df;return explode?!(t<0||totalFrame<t)&&(expRatio=t/totalFrame*(scope-1)+1,g_sceneExploder[e(269)](mode,expRatio)):(console.log(e(273)),!1)}function finishExplode(){return g_sceneExploder[a12_0x43df(272)]()}const a13_0x1d3c=["push","objectMovematrix","flush","The input has invalid object ids","9YMUOtP","beginExplode","514674BkwySD","1FaMudJ","1460434VxYqdh","getObjectWorldCenterByIndex","156535EqSTDp","translate","curMoveVec","splice","1117717IHwjLa","length","log","create","multiply","home","m_modelBox","_arrObjectSet","249717VJiuFD","m_arrObjectOriWld","2rYEMCr","306528HuHTVY","m_arrObjectMatrix","m_arrObjectOriPos","set","endExplode","copy","m_vExplodedCenter","getObjectIndexById","m_arrObjIndex","920655QoJBWy"];function a13_0x21bd(t,e){return t-=156,a13_0x1d3c[t]}function SceneExplode(){const _=a13_0x21bd;this[_(174)]=new Array,this[_(172)]=new Point3(0,0,0),this[_(168)]=new Array,this[_(164)]=new Array,this[_(188)]=vec3[_(158)](),this[_(177)]=mat4[_(158)](),this[_(181)]=function(e){var a=_;if(glRunTime[a(160)](HOME_ALL),this[a(174)][a(189)](0,this[a(174)].length),null==e||0==e[a(156)])for(let t=0;t<g_GLObjectSet[a(162)][a(156)];++t)this[a(174)][a(176)](t);else for(let t=0;t<e[a(156)];++t){var n=glRunTime[a(173)](e[t]);if(t<0)return console[a(157)](a(179)),!1;this[a(174)].push(n)}this[a(168)][a(189)](0,this[a(168)][a(156)]),this[a(164)][a(189)](0,this[a(164)][a(156)]),getModelBoxCenter(glRunTime[a(161)],this[a(172)]);for(let t=0;t<this[a(174)].length;t++){this.m_arrObjectOriPos[t]=glRunTime[a(185)](this[a(174)][t]);var i=mat4[a(158)]();mat4[a(171)](i,g_webglControl[a(167)][this[a(174)][t]]),this[a(164)][t]=i}return!0},this.updateExplode=function(t,e){var a=_;let n,i,s;switch(t){case P3D_EXPLODE_MODE_X:n=e,i=1,s=1;break;case P3D_EXPLODE_MODE_Y:n=1,i=e,s=1;break;case P3D_EXPLODE_MODE_Z:n=1,i=1,s=e;break;default:P3D_EXPLODE_MODE_FREE;n=e,i=e,s=e}var r,o,l;for(let t=0;t<this.m_arrObjIndex[a(156)];t++)r=(this[a(168)][t].x-this[a(172)].x)*n,o=(this[a(168)][t].y-this.m_vExplodedCenter.y)*i,l=(this.m_arrObjectOriPos[t].z-this[a(172)].z)*s,vec3[a(169)](this[a(188)],this.m_vExplodedCenter.x+r-this[a(168)][t].x,this[a(172)].y+o-this.m_arrObjectOriPos[t].y,this[a(172)].z+l-this[a(168)][t].z),mat4[a(187)](this[a(177)],IDENTITY_MATRIX,this[a(188)]),mat4[a(159)](g_webglControl[a(167)][this.m_arrObjIndex[t]],this[a(177)],this[a(164)][t]);return glRunTime[a(178)](),!0},this[_(170)]=function(){var e=_;for(let t=0;t<this[e(174)][e(156)];t++)mat4[e(171)](g_webglControl[e(167)][this[e(174)][t]],this[e(164)][t]);return glRunTime[e(178)](),!0}}!function(e){for(var t=a13_0x21bd;;)try{if(858325===-parseInt(t(163))+-parseInt(t(180))*parseInt(t(186))+parseInt(t(182))+parseInt(t(183))*-parseInt(t(184))+parseInt(t(166))+parseInt(t(175))+parseInt(t(165))*parseInt(t(190)))break;e.push(e.shift())}catch(t){e.push(e.shift())}}(a13_0x1d3c);