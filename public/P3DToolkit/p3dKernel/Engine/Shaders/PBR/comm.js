'use strict';const a37_0x2424=['109222HERkxI','91685TZhbar','1fdVWGf','4imALBR','1LDDTJk','17372vAmPsB','153069AsgCkU','1830jJddVH','349373SHZUSL','59593LHDbyo'];function a37_0x5e89(_0x4b4bf9,_0x1e257a){_0x4b4bf9=_0x4b4bf9-0x1a2;let _0x24249e=a37_0x2424[_0x4b4bf9];return _0x24249e;}(function(_0x5cb69f,_0x19a2eb){const _0x53cd8c=a37_0x5e89;while(!![]){try{const _0x5a3b35=-parseInt(_0x53cd8c(0x1aa))+-parseInt(_0x53cd8c(0x1a7))*-parseInt(_0x53cd8c(0x1a9))+-parseInt(_0x53cd8c(0x1ab))*-parseInt(_0x53cd8c(0x1a6))+parseInt(_0x53cd8c(0x1a5))+-parseInt(_0x53cd8c(0x1a4))*parseInt(_0x53cd8c(0x1a8))+-parseInt(_0x53cd8c(0x1a3))+parseInt(_0x53cd8c(0x1a2));if(_0x5a3b35===_0x19a2eb)break;else _0x5cb69f['push'](_0x5cb69f['shift']());}catch(_0x3ae17a){_0x5cb69f['push'](_0x5cb69f['shift']());}}}(a37_0x2424,0x2e81c));export const source='//\x20comm.glsli\x0a//---------------------------------------------------------------------------\x20\x0a#define\x20InFinity\x09\x09(3.3e+38f)\x0a#define\x20Epsilon\x09\x09\x09(0.000001f)\x0a#define\x20Pi\x09\x09\x09\x09(3.14159265359f)\x0a#define\x20InvPi\x09\x09\x09(0.31830988618379067154f)\x0a#define\x20PiDouble\x09\x09(2.f\x20*\x203.14159265359f)\x0a#define\x20InvPiDouble\x09\x09(0.15915494309189533577f)\x0a#define\x20PiHalf\x09\x09\x09(1.570796326794896619231f)\x0a#define\x20Sqrt2\x09\x09\x09(1.414213562373095048801f)\x0a#define\x20Euler\x09\x09\x09(2.718281828459045235360f)\x0a#define\x20PIover180\x09\x09(0.017453292519943295769f)\x0a#define\x20PIunder180\x09\x09(57.29577951308232087679f)\x0a//---------------------------------------------------------------------------\x20\x0a#define\x09float2\x09\x09\x09vec2\x0a#define\x09float3\x09\x09\x09vec3\x0a#define\x09float4\x09\x09\x09vec4\x0a#define\x09matrix\x09\x09\x09mat4\x0a//---------------------------------------------------------------------------\x20\x0afloat4\x20mul(float4\x20v,\x20matrix\x20m)\x0a{\x0a\x09return\x20m\x20*\x20v;\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat\x20lerp(float\x20a,\x20float\x20b,\x20float\x20t)\x0a{\x0a\x09return\x20mix(a,\x20b,\x20t);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat2\x20lerp(float2\x20a,\x20float2\x20b,\x20float\x20t)\x0a{\x0a\x09return\x20mix(a,\x20b,\x20t);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat3\x20lerp(float3\x20a,\x20float3\x20b,\x20float\x20t)\x0a{\x0a\x09return\x20mix(a,\x20b,\x20t);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat4\x20lerp(float4\x20a,\x20float4\x20b,\x20float\x20t)\x0a{\x0a\x09return\x20mix(a,\x20b,\x20t);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat\x20saturate(float\x20v)\x0a{\x0a\x09return\x20clamp(v,\x200.0f,\x201.0f);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat2\x20saturate(float2\x20v)\x0a{\x0a\x09return\x20clamp(v,\x200.0f,\x201.0f);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat3\x20saturate(float3\x20v)\x0a{\x0a\x09return\x20clamp(v,\x200.0f,\x201.0f);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat4\x20saturate(float4\x20v)\x0a{\x0a\x09return\x20clamp(v,\x200.0f,\x201.0f);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat\x20atan2(float\x20y,\x20float\x20x)\x0a{\x0a\x09return\x20atan(y,\x20x);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat\x20rsqrt(float\x20x)\x0a{\x0a\x09return\x20inversesqrt(x);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat3\x20LinearToSRGB(float3\x20rgb)\x0a{\x0a\x09const\x20float3\x20Cutoff\x09\x09=\x20float3(\x200.0031308f,\x200.0031308f,\x200.0031308f);\x0a\x20\x20\x20\x20const\x20float3\x20Linear\x09\x09=\x20float3(\x2012.92f,\x2012.92f,\x2012.92f\x20);\x0a\x20\x20\x20\x20const\x20float3\x20Scale\x09\x09=\x20float3(\x201.055f,\x201.055f,\x201.055f\x20);\x0a\x20\x20\x20\x20const\x20float3\x20Bias\x09\x09=\x20float3(\x200.055f,\x200.055f,\x200.055f\x20);\x0a\x20\x20\x20\x20const\x20float3\x20InvGamma\x09=\x20float3(\x201.0f/2.4f,\x201.0f/2.4f,\x201.0f/2.4f\x20);\x0a\x0a\x09float3\x20srgb\x20=\x20saturate(rgb);\x0a\x0a\x09float3\x20V0;\x0a\x09float3\x20V1;\x0a\x0a\x09V0\x20=\x20Linear\x20*\x20srgb;\x0a\x09V1\x20=\x20Scale\x20\x20*\x20pow(srgb,\x20InvGamma)\x20-\x20Bias;\x0a\x0a\x09srgb.r\x20=\x20srgb.r\x20<\x20Cutoff.r\x20?\x20V0.r\x20:\x20V1.r;\x0a\x09srgb.g\x20=\x20srgb.g\x20<\x20Cutoff.g\x20?\x20V0.g\x20:\x20V1.g;\x0a\x09srgb.b\x20=\x20srgb.b\x20<\x20Cutoff.b\x20?\x20V0.b\x20:\x20V1.b;\x0a\x0a\x09return\x20srgb;\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat\x20ComputeLuminace(float3\x20color)\x0a{\x0a\x09return\x20dot(color,\x20float3(0.2126f,\x200.7152f,\x200.0722f));\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat4\x20ComputePosInClipSpaceFromUV(float2\x20uv,\x20float\x20depth)\x0a{\x0a\x09float4\x20posInClip;\x0a\x0a\x09posInClip.xy\x20=\x20uv\x20*\x20float2(2.0f,\x20-2.0f)\x20+\x20float2(-1.0f,\x201.0f);\x0a\x09posInClip.zw\x20=\x20float2(depth,\x201.0f);\x0a\x0a\x09return\x20posInClip;\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat3\x20ComputePosInViewSpaceFromUV(float2\x20uv,\x20float\x20depth,\x20matrix\x20mProjI)\x0a{\x0a\x09float4\x20posInClip\x20\x20=\x20ComputePosInClipSpaceFromUV(uv,\x20depth);\x0a\x09float4\x20posInViewW\x20=\x20mul(posInClip,\x20mProjI);\x0a\x0a\x09//\x20Perspective\x20divide.\x0a\x09return\x20posInViewW.xyz\x20/\x20posInViewW.w;\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat3\x20ComputePosInWorldSpaceFromUV(float2\x20uv,\x20float\x20depth,\x20matrix\x20mViewProjI)\x0a{\x0a\x09float4\x20posInClip\x20\x20\x20=\x20ComputePosInClipSpaceFromUV(uv,\x20depth);\x0a\x09float4\x20posInWorldW\x20=\x20mul(posInClip,\x20mViewProjI);\x0a\x0a\x09//\x20Perspective\x20divide.\x0a\x09return\x20posInWorldW.xyz\x20/\x20posInWorldW.w;\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat\x20SphericalPhi(float3\x20v)\x0a{\x0a\x09float\x20angle\x20=\x20atan2(v.z,\x20v.x);\x0a\x0a\x09return\x20angle\x20<\x200.0f\x20?\x20angle\x20+\x20PiDouble\x20:\x20angle;\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat\x20SphericalTheta(float3\x20v)\x0a{\x0a\x09return\x20acos(clamp(v.y,\x20-1.0f,\x201.0f));\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat4\x20FetchFloatArrayTexture(sampler2D\x20texture,\x20int\x20nTextureSize,\x20int\x20nIndex)\x0a{\x0a\x09int\x20y\x20=\x20nIndex\x20/\x20nTextureSize;\x0a\x09int\x20x\x20=\x20nIndex\x20-\x20y\x20*\x20nTextureSize;\x0a\x0a\x09float2\x20uv\x20=\x20float2\x0a\x09(\x0a\x09\x09float(x)/*mod\x20\x20(fIndex,\x20\x20fTextureSize)*/,\x0a\x09\x09float(y)/*floor(fIndex\x20/\x20fTextureSize)*/\x0a\x09);\x0a\x0a\x09uv\x20+=\x200.5f;\x0a\x09uv\x20/=\x20float(nTextureSize);\x0a\x0a\x09return\x20textureLod(texture,\x20uv,\x200.0f);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0a//\x20comm.glsli';