'use strict';const a40_0x2a8a=['207598SSSQtU','266415dGKrBa','397516vLqZJM','633433pBYUzJ','279995pbLVeU','619860DJXYKv','41124fjftux'];(function(_0xe38df5,_0x1e2495){const _0x56cc2d=a40_0x2d75;while(!![]){try{const _0x153dda=-parseInt(_0x56cc2d(0x1ca))+parseInt(_0x56cc2d(0x1cb))+parseInt(_0x56cc2d(0x1cd))+-parseInt(_0x56cc2d(0x1c9))+parseInt(_0x56cc2d(0x1ce))+parseInt(_0x56cc2d(0x1cc))+parseInt(_0x56cc2d(0x1cf));if(_0x153dda===_0x1e2495)break;else _0xe38df5['push'](_0xe38df5['shift']());}catch(_0x374895){_0xe38df5['push'](_0xe38df5['shift']());}}}(a40_0x2a8a,0x5dc2b));function a40_0x2d75(_0x41fd99,_0x1e594e){_0x41fd99=_0x41fd99-0x1c9;let _0x2a8ab1=a40_0x2a8a[_0x41fd99];return _0x2a8ab1;}export const source='//\x20microfacet.glsli\x0a//---------------------------------------------------------------------------\x20\x0afloat\x20GGX(float3\x20wm,\x20float\x20alpha,\x20float\x20alphaSquare)\x0a{\x0a\x09float\x20root\x20=\x20alpha\x20/\x20(CosThetaSquare(wm)\x20*\x20(alphaSquare\x20-\x201.0f)\x20+\x201.0f);\x0a\x0a\x09return\x20InvPi\x20*\x20(root\x20*\x20root);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat\x20GGXInWorld(float3\x20n,\x20float3\x20wm,\x20float\x20alpha,\x20float\x20alphaSquare)\x0a{\x0a\x09float\x20dotNM\x20=\x20dot(n,\x20wm);\x0a\x09float\x20root\x20\x20=\x20alpha\x20/\x20((dotNM\x20*\x20dotNM)\x20*\x20(alphaSquare\x20-\x201.0f)\x20+\x201.0f);\x0a\x0a\x09return\x20InvPi\x20*\x20(root\x20*\x20root);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat3\x20GGXSample(float2\x20samp,\x20float\x20alpha,\x20float\x20alphaSquare)\x0a{\x0a\x09float\x20Phi\x09\x09\x09=\x20PiDouble\x20*\x20samp.x;\x0a\x09float\x20CosThetaSqr\x09=\x20(1.0f\x20-\x20samp.y)\x20/\x20(1.0f\x20+\x20(alphaSquare\x20-\x201.0f)\x20*\x20samp.y);\x0a\x09float\x20CosTheta\x09\x09=\x20sqrt(CosThetaSqr);\x0a\x09float\x20SinTheta\x09\x09=\x20sqrt(1.0f\x20-\x20CosThetaSqr);\x0a\x0a\x09return\x20float3\x0a\x09(\x0a\x09\x09SinTheta\x20*\x20cos(Phi),\x0a\x09\x09SinTheta\x20*\x20sin(Phi),\x0a\x09\x09CosTheta\x0a\x09);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat\x20GGXPdf(float3\x20wm,\x20float3\x20wo,\x20float\x20D)\x0a{\x0a\x09return\x20D\x20*\x20CosTheta(wm)\x20/\x20(4.0f\x20*\x20dot(wm,\x20wo));\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat\x20GGXPdfInWorld(float3\x20n,\x20float3\x20wm,\x20float3\x20wo,\x20float\x20D)\x0a{\x0a\x09return\x20D\x20*\x20dot(n,\x20wm)\x20/\x20(4.0f\x20*\x20dot(wm,\x20wo));\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat2\x20G_SchlickK(float\x20roughness,\x20bool\x20bPunctual)\x0a{\x0a\x09roughness\x20=\x20bPunctual==true\x20?\x20(roughness\x20+\x201.0f)\x20*\x200.5f\x20:\x20roughness;\x0a\x0a\x09float\x20a\x20=\x20roughness\x20*\x20roughness;\x0a\x09float\x20k\x20=\x20a\x20*\x200.5f;\x0a\x0a\x09return\x20float2(k,\x201.0f\x20-\x20k);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat\x20G1_Schlick(float\x20cosVM,\x20float\x20k,\x20float\x20oneMinusK)\x0a{\x0a\x09return\x20cosVM\x20/\x20(cosVM\x20*\x20oneMinusK\x20+\x20k);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat\x20G_Schlick(float3\x20wi,\x20float3\x20wo,\x20float\x20k,\x20float\x20oneMinusK)\x0a{\x0a\x09float\x20cosI\x20=\x20CosTheta(wi);\x0a\x09float\x20cosO\x20=\x20CosTheta(wo);\x0a\x0a\x09float\x20fi\x20=\x20G1_Schlick(cosI,\x20k,\x20oneMinusK);\x0a\x09float\x20fo\x20=\x20G1_Schlick(cosO,\x20k,\x20oneMinusK);\x0a\x0a\x09return\x20fi\x20*\x20fo;\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat\x20G_SchlickInWorld(float3\x20n,\x20float3\x20wi,\x20float3\x20wo,\x20float\x20k,\x20float\x20oneMinusK)\x0a{\x0a\x09float\x20cosI\x20=\x20dot(n,\x20wi);\x0a\x09float\x20cosO\x20=\x20dot(n,\x20wo);\x0a\x0a\x09float\x20fi\x20=\x20G1_Schlick(cosI,\x20k,\x20oneMinusK);\x0a\x09float\x20fo\x20=\x20G1_Schlick(cosO,\x20k,\x20oneMinusK);\x0a\x0a\x09return\x20fi\x20*\x20fo;\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat3\x20F_Schlick(float3\x20wm,\x20float3\x20wo,\x20float3\x20s)\x0a{\x0a\x09float\x20oneMinusCosWi\x09\x09=\x201.0f\x20-\x20dot(wm,\x20wo);\x0a\x09float\x20oneMinusCosWiSqr\x09=\x20oneMinusCosWi\x20*\x20oneMinusCosWi;\x0a\x0a\x09return\x20s\x20+\x20(1.0f\x20-\x20s)\x20*\x20oneMinusCosWiSqr\x20*\x20oneMinusCosWiSqr\x20*\x20oneMinusCosWi;\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat3\x20F_Schlick_ue4(float3\x20wm,\x20float3\x20wo,\x20float3\x20s)\x0a{\x0a\x09float\x20cosOM\x20=\x20dot(wm,\x20wo);\x0a\x09float\x20powy\x20\x20=\x20(-5.55473f\x20*\x20cosOM\x20-\x206.98316f)\x20*\x20cosOM;\x20\x0a\x0a\x09return\x20s\x20+\x20(1.0f\x20-\x20s)\x20*\x20pow(2.0f,\x20powy);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat3\x20MicrofacetFactor(float3\x20wi,\x20float3\x20wo,\x20float\x20D,\x20float\x20G,\x20float3\x20F)\x0a{\x0a\x09float\x20cosWi\x20=\x20CosTheta(wi);\x0a\x09float\x20cosWo\x20=\x20CosTheta(wo);\x0a\x0a\x09return\x20(D\x20*\x20G\x20*\x20F)\x20/\x20(4.0f\x20*\x20cosWi\x20*\x20cosWo);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat3\x20MicrofacetFactorInWorld(float3\x20n,\x20float3\x20wi,\x20float3\x20wo,\x20float\x20D,\x20float\x20G,\x20float3\x20F)\x0a{\x0a\x09float\x20cosWi\x20=\x20dot(n,\x20wi);\x0a\x09float\x20cosWo\x20=\x20dot(n,\x20wo);\x0a\x0a\x09return\x20(D\x20*\x20G\x20*\x20F)\x20/\x20(4.0f\x20*\x20cosWi\x20*\x20cosWo);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0afloat3\x20ComputeMicrofacetInWorld(float3\x20n,\x20float3\x20wi,\x20float3\x20wo,\x20float3\x20wm,\x20float\x20roughness,\x20bool\x20bPunctuanl,\x20float3\x20F0)\x0a{\x0a\x09float\x20\x20ggxAlpha\x09\x09\x09=\x20roughness\x20*\x20roughness;\x0a\x09float\x20\x20ggxAlphaSquare\x09=\x20ggxAlpha\x20*\x20ggxAlpha;\x0a\x09float2\x20geoK\x09\x09\x09\x09=\x20G_SchlickK(roughness,\x20bPunctuanl);\x0a\x0a\x09float\x20\x20D\x09\x09\x09\x09=\x20GGXInWorld(n,\x20wm,\x20ggxAlpha,\x20ggxAlphaSquare);\x0a\x09float\x20\x20G\x09\x09\x09\x09=\x20G_SchlickInWorld(n,\x20wi,\x20wo,\x20geoK.x,\x20geoK.y);\x0a\x09float3\x20F\x09\x09\x09\x09=\x20F_Schlick(wm,\x20wo,\x20F0);\x0a\x0a\x09return\x20MicrofacetFactorInWorld(n,\x20wi,\x20wo,\x20D,\x20G,\x20F);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0avoid\x20ComputeMicrofacetInWorldAB(float3\x20n,\x20float3\x20wi,\x20float3\x20wo,\x20float3\x20wm,\x20float\x20roughness,\x20bool\x20bPunctuanl,\x20float3\x20F0a,\x20float3\x20F0b,\x20out\x20float3\x20factorA,\x20out\x20float3\x20factorB)\x0a{\x0a\x09float\x20\x20ggxAlpha\x09\x09\x09=\x20roughness\x20*\x20roughness;\x0a\x09float\x20\x20ggxAlphaSquare\x09=\x20ggxAlpha\x20*\x20ggxAlpha;\x0a\x09float2\x20geoK\x09\x09\x09\x09=\x20G_SchlickK(roughness,\x20bPunctuanl);\x0a\x0a\x09float\x20\x20D\x09\x09\x09\x09=\x20GGXInWorld(n,\x20wm,\x20ggxAlpha,\x20ggxAlphaSquare);\x0a\x09float\x20\x20G\x09\x09\x09\x09=\x20G_SchlickInWorld(n,\x20wi,\x20wo,\x20geoK.x,\x20geoK.y);\x0a\x09float3\x20factor\x09\x09\x09=\x20MicrofacetFactorInWorld(n,\x20wi,\x20wo,\x20D,\x20G,\x20float3(1.0f,\x201.0f,\x201.0f));\x0a\x0a\x09factorA\x20=\x20factor\x20*\x20F_Schlick(wm,\x20wo,\x20F0a);\x0a\x09factorB\x20=\x20factor\x20*\x20F_Schlick(wm,\x20wo,\x20F0b);\x0a}\x0a//---------------------------------------------------------------------------\x20\x0a//\x20microfacet.glsli';