'use strict';const a76_0x455f=['23971RqDLeI','cross','65176OVjmct','hypot','nonParallel','safeReciprocal','1VElSeg','224262wtkzUR','sin','3kaTCXZ','acos','reciprocal','normalize','atan2','3499wTMZMX','330519YSuIjd','sqrt','48821nBhkwx','add','isNearlyZero','149kiuuQM','239501urKujH','cos'];(function(_0x44d26e,_0x47cfcb){const _0x332604=a76_0x35c1;while(!![]){try{const _0xfde45d=parseInt(_0x332604(0x156))*parseInt(_0x332604(0x167))+-parseInt(_0x332604(0x157))+parseInt(_0x332604(0x16a))*-parseInt(_0x332604(0x162))+-parseInt(_0x332604(0x15f))*-parseInt(_0x332604(0x159))+-parseInt(_0x332604(0x160))+parseInt(_0x332604(0x168))+parseInt(_0x332604(0x15b));if(_0xfde45d===_0x47cfcb)break;else _0x44d26e['push'](_0x44d26e['shift']());}catch(_0x493fd7){_0x44d26e['push'](_0x44d26e['shift']());}}}(a76_0x455f,0x50c27));import*as a76_0x12f11e from'./math.js';import*as a76_0x9bacb7 from'./float3.js';export function make(){let _0x23e534=new Float32Array(0x4);{_0x23e534[0x3]=0x1;}return _0x23e534;}export function copy(_0x59d9e6){let _0x27886d=make();{_0x27886d[0x0]=_0x59d9e6[0x0],_0x27886d[0x1]=_0x59d9e6[0x1],_0x27886d[0x2]=_0x59d9e6[0x2],_0x27886d[0x3]=_0x59d9e6[0x3];}return v;}export function x(_0xb32181){return _0xb32181[0x0];}export function y(_0x9fde40){return _0x9fde40[0x1];}export function z(_0x19c41b){return _0x19c41b[0x2];}export function w(_0x316cec){return _0x316cec[0x3];}export function setX(_0x37997f,_0x2150a9){_0x37997f[0x0]=_0x2150a9;}export function setY(_0x36b899,_0x5e7423){_0x36b899[0x1]=_0x5e7423;}export function setZ(_0x275849,_0x1a1efc){_0x275849[0x2]=_0x1a1efc;}export function setW(_0x6f48d3,_0x2d254f){_0x6f48d3[0x3]=_0x2d254f;}export function set(_0x4af039,_0x30a569,_0x3d3a23,_0x4695b4,_0x49d05c){_0x4af039[0x0]=_0x30a569,_0x4af039[0x1]=_0x3d3a23,_0x4af039[0x2]=_0x4695b4,_0x4af039[0x3]=_0x49d05c;}export function from(_0x36405d,_0x2f758e,_0xd43d32,_0x6b149d){let _0x8c00bc=make();{_0x8c00bc[0x0]=_0x36405d,_0x8c00bc[0x1]=_0x2f758e,_0x8c00bc[0x2]=_0xd43d32,_0x8c00bc[0x3]=_0x6b149d;}return _0x8c00bc;}export function fromArray(_0x4d50e7){let _0x312f78=make();{_0x312f78[0x0]=_0x4d50e7[0x0],_0x312f78[0x1]=_0x4d50e7[0x1],_0x312f78[0x2]=_0x4d50e7[0x2],_0x312f78[0x3]=_0x4d50e7[0x3];}return _0x312f78;}export function assign(_0x214ad4,_0x1bb5f1){return _0x214ad4[0x0]=_0x1bb5f1[0x0],_0x214ad4[0x1]=_0x1bb5f1[0x1],_0x214ad4[0x2]=_0x1bb5f1[0x2],_0x214ad4[0x3]=_0x1bb5f1[0x3],_0x214ad4;}export function identity(_0x268cd5){return _0x268cd5[0x0]=0x0,_0x268cd5[0x1]=0x0,_0x268cd5[0x2]=0x0,_0x268cd5[0x3]=0x1,_0x268cd5;}export function isIdentity(_0x5aa4e4){return _0x5aa4e4[0x0]===0x0&&_0x5aa4e4[0x1]===0x0&&_0x5aa4e4[0x2]===0x0&&_0x5aa4e4[0x3]===0x1;}export function isEmpty(_0x29f41a){return _0x29f41a[0x0]===0x0&&_0x29f41a[0x1]===0x0&&_0x29f41a[0x2]===0x0&&_0x29f41a[0x3]===0x0;}export function isNearlyEmpty(_0x28df65){const _0x4853ed=a76_0x35c1;return a76_0x12f11e[_0x4853ed(0x155)](_0x28df65[0x0])&&a76_0x12f11e[_0x4853ed(0x155)](_0x28df65[0x1])&&a76_0x12f11e[_0x4853ed(0x155)](_0x28df65[0x2])&&a76_0x12f11e[_0x4853ed(0x155)](_0x28df65[0x3]);}export function isEqual(_0x240f4b,_0x5235da){return _0x240f4b[0x0]===_0x5235da[0x0]&&_0x240f4b[0x1]===_0x5235da[0x1]&&_0x240f4b[0x2]===_0x5235da[0x2]&&_0x240f4b[0x3]===_0x5235da[0x3];}export function isNearlyEqual(_0x38ce42,_0x5c66b2){const _0x52bdb1=a76_0x35c1;return a76_0x12f11e[_0x52bdb1(0x155)](_0x38ce42[0x0]-_0x5c66b2[0x0])&&a76_0x12f11e[_0x52bdb1(0x155)](_0x38ce42[0x1]-_0x5c66b2[0x1])&&a76_0x12f11e[_0x52bdb1(0x155)](_0x38ce42[0x2]-_0x5c66b2[0x2])&&a76_0x12f11e[_0x52bdb1(0x155)](_0x38ce42[0x3]-_0x5c66b2[0x3]);}export function length(_0x59f7e4){return Math['hypot'](_0x59f7e4[0x0],_0x59f7e4[0x1],_0x59f7e4[0x2],_0x59f7e4[0x3]);}export function lengthSq(_0x51f5df){return _0x51f5df[0x0]*_0x51f5df[0x0]+_0x51f5df[0x1]*_0x51f5df[0x1]+_0x51f5df[0x2]*_0x51f5df[0x2]+_0x51f5df[0x3]*_0x51f5df[0x3];}export function normalize(_0x29b62e,_0x586dda){const _0x10775a=a76_0x35c1;_0x29b62e=_0x29b62e||make();const _0x498c5b=a76_0x12f11e[_0x10775a(0x15e)](length(_0x586dda));return _0x29b62e[0x0]=_0x586dda[0x0]*_0x498c5b,_0x29b62e[0x1]=_0x586dda[0x1]*_0x498c5b,_0x29b62e[0x2]=_0x586dda[0x2]*_0x498c5b,_0x29b62e[0x3]=_0x586dda[0x3]*_0x498c5b,_0x29b62e;}export function conjugate(_0x3d7451,_0x37dc96){return _0x3d7451=_0x3d7451||make(),_0x3d7451[0x0]=-_0x37dc96[0x0],_0x3d7451[0x1]=-_0x37dc96[0x1],_0x3d7451[0x2]=-_0x37dc96[0x2],_0x3d7451[0x3]=_0x37dc96[0x3],_0x3d7451;}export function exp(_0x49ad33,_0x185721){const _0x271689=a76_0x35c1;_0x49ad33=_0x49ad33||make();let _0xe84540=_0x185721[0x0],_0x5b51e1=_0x185721[0x1],_0x1bd96e=_0x185721[0x2],_0x47dacc=_0x185721[0x3],_0x42f151=Math[_0x271689(0x15c)](_0xe84540,_0x5b51e1,_0x1bd96e),_0x23d234=Math[_0x271689(0x161)](_0x42f151),_0x16005b=Math[_0x271689(0x158)](_0x42f151);if(a76_0x12f11e['isNearlyZero'](_0x42f151,1.192092896e-7)===![]){let _0x4ca5a7=_0x23d234/_0x42f151;_0xe84540*=_0x4ca5a7,_0x5b51e1*=_0x4ca5a7,_0x1bd96e*=_0x4ca5a7,_0x47dacc*=_0x4ca5a7;}return _0x49ad33[0x0]=_0xe84540,_0x49ad33[0x1]=_0x5b51e1,_0x49ad33[0x2]=_0x1bd96e,_0x49ad33[0x3]=_0x16005b,_0x49ad33;}export function ln(_0x34d514,_0x19bfd1){const _0x577ce1=a76_0x35c1;_0x34d514=_0x34d514||make();let _0x1be5e6=_0x19bfd1[0x0],_0x22adb3=_0x19bfd1[0x1],_0x58a260=_0x19bfd1[0x2],_0x33a566=_0x19bfd1[0x3];const _0x302f06=0x1-0.00001;if(_0x33a566>=-_0x302f06&&_0x33a566<=_0x302f06){let _0xe549bc=Math[_0x577ce1(0x163)](_0x33a566),_0x31e386=Math['sin'](_0xe549bc),_0x1cc3a0=_0xe549bc*a76_0x12f11e[_0x577ce1(0x15e)](_0x31e386);_0x1be5e6*=_0x1cc3a0,_0x22adb3*=_0x1cc3a0,_0x58a260*=_0x1cc3a0;}return _0x34d514[0x0]=_0x1be5e6,_0x34d514[0x1]=_0x22adb3,_0x34d514[0x2]=_0x58a260,_0x34d514[0x3]=0x0,_0x34d514;}export function inverse(_0x43912e,_0x312a2e){const _0x24cb7e=a76_0x35c1;_0x43912e=_0x43912e||make();let _0x74891c=_0x312a2e[0x0],_0x181674=_0x312a2e[0x1],_0x4300d6=_0x312a2e[0x2],_0x56de9d=_0x312a2e[0x3],_0x3a006a=_0x74891c*_0x74891c+_0x181674*_0x181674+_0x4300d6*_0x4300d6+_0x56de9d*_0x56de9d;return _0x3a006a>1.192092896e-7?(_0x3a006a=a76_0x12f11e[_0x24cb7e(0x164)](_0x3a006a),_0x43912e[0x0]=-_0x74891c*_0x3a006a,_0x43912e[0x1]=-_0x181674*_0x3a006a,_0x43912e[0x2]=-_0x4300d6*_0x3a006a,_0x43912e[0x3]=_0x56de9d*_0x3a006a):(_0x43912e[0x0]=0x0,_0x43912e[0x1]=0x0,_0x43912e[0x2]=0x0,_0x43912e[0x3]=0x0),_0x43912e;}export function sphereLerp(_0xd05eb0,_0x3e3d88,_0x112b1b,_0x15b0c3){const _0x26fd5d=a76_0x35c1;_0xd05eb0=_0xd05eb0||make();let _0x455d08=_0x3e3d88[0x0],_0x5ba236=_0x3e3d88[0x1],_0xaa8b3e=_0x3e3d88[0x2],_0x5b9dad=_0x3e3d88[0x3],_0x50f866=_0x112b1b[0x0],_0x2c6d4c=_0x112b1b[0x1],_0x48ed6b=_0x112b1b[0x2],_0xccf6f1=_0x112b1b[0x3],_0x4c29ae,_0x5a8067;{_0x4c29ae=_0x455d08*_0x50f866+_0x5ba236*_0x2c6d4c+_0xaa8b3e*_0x48ed6b+_0x5b9dad*_0xccf6f1,_0x5a8067=_0x4c29ae<0x0?-0x1:0x1,_0x4c29ae*=_0x5a8067;}let _0xfc5b90,_0x292a73;{_0xfc5b90=Math['sqrt'](0x1-_0x4c29ae*_0x4c29ae),_0x292a73=Math[_0x26fd5d(0x166)](_0xfc5b90,_0x4c29ae);}let _0x219027=0x1-_0x15b0c3,_0x29128c=_0x15b0c3;if(_0x4c29ae<0x1-0.00001){let _0x52e160=a76_0x12f11e['reciprocal'](_0xfc5b90);_0x219027=Math['sin'](_0x219027*_0x292a73)*_0x52e160,_0x29128c=Math[_0x26fd5d(0x161)](_0x29128c*_0x292a73)*_0x52e160;}let _0x594a74=_0x219027,_0x127bbf=_0x29128c*_0x5a8067;return _0xd05eb0[0x0]=_0x50f866*_0x127bbf+_0x455d08*_0x594a74,_0xd05eb0[0x1]=_0x2c6d4c*_0x127bbf+_0x5ba236*_0x594a74,_0xd05eb0[0x2]=_0x48ed6b*_0x127bbf+_0xaa8b3e*_0x594a74,_0xd05eb0[0x3]=_0xccf6f1*_0x127bbf+_0x5b9dad*_0x594a74,_0xd05eb0;}export function mul(_0x142807,_0x5e0e05,_0x20a0a9){_0x142807=_0x142807||make();let _0x5128f4=_0x5e0e05[0x0],_0x179bf5=_0x5e0e05[0x1],_0x2d93d5=_0x5e0e05[0x2],_0x2ea69e=_0x5e0e05[0x3],_0x1ca524=_0x20a0a9[0x0],_0x218b19=_0x20a0a9[0x1],_0x8ed1da=_0x20a0a9[0x2],_0x1e7345=_0x20a0a9[0x3];return _0x142807[0x0]=_0x1e7345*_0x5128f4+_0x1ca524*_0x2ea69e+_0x218b19*_0x2d93d5-_0x8ed1da*_0x179bf5,_0x142807[0x1]=_0x1e7345*_0x179bf5-_0x1ca524*_0x2d93d5+_0x218b19*_0x2ea69e+_0x8ed1da*_0x5128f4,_0x142807[0x2]=_0x1e7345*_0x2d93d5+_0x1ca524*_0x179bf5-_0x218b19*_0x5128f4+_0x8ed1da*_0x2ea69e,_0x142807[0x3]=_0x1e7345*_0x2ea69e-_0x1ca524*_0x5128f4-_0x218b19*_0x179bf5-_0x8ed1da*_0x2d93d5,_0x142807;}export function rotate(_0xf03e74,_0x712f37,_0x137afd){const _0x5f3a00=a76_0x35c1;_0xf03e74=_0xf03e74||make();let _0x59682c=_0x712f37[0x0],_0x9533b6=_0x712f37[0x1],_0x525b66=_0x712f37[0x2],_0xd080b9=Math['hypot'](_0x59682c,_0x9533b6,_0x525b66);_0xd080b9>0x0&&(_0xd080b9=0x1/_0xd080b9,_0x59682c*=_0xd080b9,_0x9533b6*=_0xd080b9,_0x525b66*=_0xd080b9);let _0x559f48=_0x137afd*0.5,_0x42bb3c=Math[_0x5f3a00(0x161)](_0x559f48),_0x1d2fcc=Math[_0x5f3a00(0x158)](_0x559f48);return _0xf03e74[0x0]=_0x42bb3c*_0x59682c,_0xf03e74[0x1]=_0x42bb3c*_0x9533b6,_0xf03e74[0x2]=_0x42bb3c*_0x525b66,_0xf03e74[0x3]=_0x1d2fcc,_0xf03e74;}function a76_0x35c1(_0x4b9fe5,_0x2e2b0c){_0x4b9fe5=_0x4b9fe5-0x155;let _0x455fc2=a76_0x455f[_0x4b9fe5];return _0x455fc2;}export function rotateNormal(_0x4a9d66,_0x1a12da,_0x45c03e){_0x4a9d66=_0x4a9d66||make();let _0x1d43e2=_0x45c03e*0.5,_0x4c44c4=Math['sin'](_0x1d43e2),_0x40366b=Math['cos'](_0x1d43e2);return _0x4a9d66[0x0]=_0x4c44c4*_0x1a12da[0x0],_0x4a9d66[0x1]=_0x4c44c4*_0x1a12da[0x1],_0x4a9d66[0x2]=_0x4c44c4*_0x1a12da[0x2],_0x4a9d66[0x3]=_0x40366b,_0x4a9d66;}export function rotatePitchYawRoll(_0x5125fd,_0x11e89b,_0x47b178,_0x319b4d){const _0x359d7e=a76_0x35c1;_0x5125fd=_0x5125fd||make();let _0x36b5f5=_0x11e89b*0.5,_0x386fcb=_0x47b178*0.5,_0x33635c=_0x319b4d*0.5,_0x1083e0=Math[_0x359d7e(0x161)](_0x36b5f5),_0x303d7e=Math[_0x359d7e(0x161)](_0x386fcb),_0x23d818=Math[_0x359d7e(0x161)](_0x33635c),_0x35584f=Math[_0x359d7e(0x158)](_0x36b5f5),_0x549cf5=Math['cos'](_0x386fcb),_0xfad09e=Math['cos'](_0x33635c),_0x15a5a1=_0x1083e0*_0x549cf5*_0xfad09e,_0x41624a=_0x35584f*_0x303d7e*_0xfad09e,_0x52e7e0=_0x35584f*_0x549cf5*_0x23d818,_0x35b30a=_0x35584f*_0x549cf5*_0xfad09e,_0x39232d=_0x1083e0*_0x549cf5,_0x176cfc=-_0x35584f*_0x303d7e,_0x290472=-_0x35584f*_0x549cf5,_0x36c529=_0x35584f*_0x549cf5;return _0x5125fd[0x0]=_0x39232d*_0xfad09e+_0x15a5a1,_0x5125fd[0x1]=_0x176cfc*_0xfad09e+_0x41624a,_0x5125fd[0x2]=_0x290472*_0x23d818+_0x52e7e0,_0x5125fd[0x3]=_0x36c529*_0xfad09e+_0x35b30a,_0x5125fd;}export function rotateMatrix(_0x10a6d9,_0x2105eb){const _0x582429=a76_0x35c1;_0x10a6d9=_0x10a6d9||make();let _0x29216e=_0x2105eb[0xa];if(_0x29216e<=0x0){let _0x354276=_0x2105eb[0x5]-_0x2105eb[0x0],_0x57e234=0x1-_0x29216e;if(_0x354276<=0x0){let _0x52e635=_0x57e234-_0x354276,_0x1bdc61=0.5/Math[_0x582429(0x169)](_0x52e635);_0x10a6d9[0x0]=_0x52e635*_0x1bdc61,_0x10a6d9[0x1]=(_0x2105eb[0x1]+_0x2105eb[0x4])*_0x1bdc61,_0x10a6d9[0x2]=(_0x2105eb[0x2]+_0x2105eb[0x8])*_0x1bdc61,_0x10a6d9[0x3]=(_0x2105eb[0x6]-_0x2105eb[0x9])*_0x1bdc61;}else{let _0x218f6b=_0x57e234+_0x354276,_0x5399d3=0.5/Math[_0x582429(0x169)](_0x218f6b);_0x10a6d9[0x0]=(_0x2105eb[0x1]+_0x2105eb[0x4])*_0x5399d3,_0x10a6d9[0x1]=_0x218f6b*_0x5399d3,_0x10a6d9[0x2]=(_0x2105eb[0x6]+_0x2105eb[0x9])*_0x5399d3,_0x10a6d9[0x3]=(_0x2105eb[0x8]-_0x2105eb[0x2])*_0x5399d3;}}else{let _0x18bc05=_0x2105eb[0x5]+_0x2105eb[0x0],_0x52d830=0x1+_0x29216e;if(_0x18bc05<=0x0){let _0x38efbd=_0x52d830-_0x18bc05,_0x1c31d7=0.5/Math[_0x582429(0x169)](_0x38efbd);_0x10a6d9[0x0]=(_0x2105eb[0x2]+_0x2105eb[0x8])*_0x1c31d7,_0x10a6d9[0x1]=(_0x2105eb[0x6]+_0x2105eb[0x9])*_0x1c31d7,_0x10a6d9[0x2]=_0x38efbd*_0x1c31d7,_0x10a6d9[0x3]=(_0x2105eb[0x1]-_0x2105eb[0x4])*_0x1c31d7;}else{let _0x2adcc2=_0x52d830+_0x18bc05,_0x53df68=0.5/Math['sqrt'](_0x2adcc2);_0x10a6d9[0x0]=(_0x2105eb[0x6]-_0x2105eb[0x9])*_0x53df68,_0x10a6d9[0x1]=(_0x2105eb[0x8]-_0x2105eb[0x2])*_0x53df68,_0x10a6d9[0x2]=(_0x2105eb[0x1]-_0x2105eb[0x4])*_0x53df68,_0x10a6d9[0x3]=_0x2adcc2*_0x53df68;}}return _0x10a6d9;}export function rotateBetweenVec(_0x5e86e2,_0x57a6d2,_0x181d6a){const _0x259d8a=a76_0x35c1;_0x5e86e2=_0x5e86e2||make();let _0x369a30=a76_0x9bacb7['normalize'](null,_0x57a6d2),_0x49a994=a76_0x9bacb7[_0x259d8a(0x165)](null,_0x181d6a);if(a76_0x12f11e['isNearlyZero'](_0x369a30[0x0]-_0x49a994[0x0])&&a76_0x12f11e[_0x259d8a(0x155)](_0x369a30[0x1]-_0x49a994[0x1])&&a76_0x12f11e[_0x259d8a(0x155)](_0x369a30[0x2]-_0x49a994[0x2]))return identity(_0x5e86e2);if(a76_0x12f11e[_0x259d8a(0x155)](_0x369a30[0x0]+_0x49a994[0x0])&&a76_0x12f11e[_0x259d8a(0x155)](_0x369a30[0x1]+_0x49a994[0x1])&&a76_0x12f11e['isNearlyZero'](_0x369a30[0x2]+_0x49a994[0x2])){let _0x2cc342=a76_0x9bacb7[_0x259d8a(0x15d)](null,_0x369a30);return rotateNormal(_0x5e86e2,_0x2cc342,a76_0x12f11e['pi']);}let _0x58bd9b,_0x3679ca;{_0x58bd9b=a76_0x9bacb7[_0x259d8a(0x16b)](_0x58bd9b,_0x369a30,_0x49a994),_0x58bd9b=a76_0x9bacb7[_0x259d8a(0x165)](_0x58bd9b,_0x58bd9b),_0x3679ca=a76_0x9bacb7[_0x259d8a(0x15a)](_0x3679ca,_0x369a30,_0x58bd9b);}return _0x5e86e2[0x0]=_0x3679ca[0x0],_0x5e86e2[0x1]=_0x3679ca[0x1],_0x5e86e2[0x2]=_0x3679ca[0x2],_0x5e86e2[0x3]=a76_0x9bacb7['dot'](_0x369a30,_0x58bd9b),_0x5e86e2;}export function decompose(_0x327c5f){const _0x1581ed=a76_0x35c1;let _0x41056d=a76_0x9bacb7['from'](_0x327c5f[0x0],_0x327c5f[0x1],_0x327c5f[0x2]),_0xc6007f=0x2*Math[_0x1581ed(0x163)](_0x327c5f[0x3]);return[_0x41056d,_0xc6007f];}