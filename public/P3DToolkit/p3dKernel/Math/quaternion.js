'use strict';const a76_0x1ba1=['acos','689748kksPgN','sin','907928qYqeAk','440087NGbMSn','27031DCPMQs','731735AcPrZv','nonParallel','cos','41fTeVPo','normalize','add','11CRSnNr','hypot','654360qmVddN','6892XOOvev','1NLKIZM','from','sqrt','isNearlyZero','reciprocal','safeReciprocal'];(function(_0x19f058,_0xe28e7a){const _0x985d00=a76_0x1e10;while(!![]){try{const _0x35ce8d=-parseInt(_0x985d00(0x112))+parseInt(_0x985d00(0x118))*-parseInt(_0x985d00(0x111))+parseInt(_0x985d00(0x11a))+parseInt(_0x985d00(0x10f))+-parseInt(_0x985d00(0x11b))*parseInt(_0x985d00(0x115))+parseInt(_0x985d00(0x10d))+parseInt(_0x985d00(0x11c))*-parseInt(_0x985d00(0x110));if(_0x35ce8d===_0xe28e7a)break;else _0x19f058['push'](_0x19f058['shift']());}catch(_0x3a6d7c){_0x19f058['push'](_0x19f058['shift']());}}}(a76_0x1ba1,0x7a24d));import*as a76_0x4058b9 from'./math.js';import*as a76_0x1c74b9 from'./float3.js';export function make(){let _0x1a15f2=new Float32Array(0x4);{_0x1a15f2[0x3]=0x1;}return _0x1a15f2;}export function copy(_0x45e437){let _0x130356=make();{_0x130356[0x0]=_0x45e437[0x0],_0x130356[0x1]=_0x45e437[0x1],_0x130356[0x2]=_0x45e437[0x2],_0x130356[0x3]=_0x45e437[0x3];}return v;}export function x(_0x273fb4){return _0x273fb4[0x0];}export function y(_0xf5d966){return _0xf5d966[0x1];}export function z(_0x55542d){return _0x55542d[0x2];}export function w(_0x2b1834){return _0x2b1834[0x3];}export function setX(_0x1ccc30,_0x276255){_0x1ccc30[0x0]=_0x276255;}export function setY(_0x40bd9c,_0xd5da87){_0x40bd9c[0x1]=_0xd5da87;}export function setZ(_0x2d1060,_0x9b12f4){_0x2d1060[0x2]=_0x9b12f4;}export function setW(_0x19a1b2,_0x23dc6f){_0x19a1b2[0x3]=_0x23dc6f;}export function set(_0x1aa9f1,_0x55a3b5,_0x174c41,_0x55605d,_0x5a3c35){_0x1aa9f1[0x0]=_0x55a3b5,_0x1aa9f1[0x1]=_0x174c41,_0x1aa9f1[0x2]=_0x55605d,_0x1aa9f1[0x3]=_0x5a3c35;}export function from(_0x20b59d,_0x13ceb6,_0x360675,_0x30c6c6){let _0x549ad9=make();{_0x549ad9[0x0]=_0x20b59d,_0x549ad9[0x1]=_0x13ceb6,_0x549ad9[0x2]=_0x360675,_0x549ad9[0x3]=_0x30c6c6;}return _0x549ad9;}export function fromArray(_0x52c959){let _0x4ef8b7=make();{_0x4ef8b7[0x0]=_0x52c959[0x0],_0x4ef8b7[0x1]=_0x52c959[0x1],_0x4ef8b7[0x2]=_0x52c959[0x2],_0x4ef8b7[0x3]=_0x52c959[0x3];}return _0x4ef8b7;}export function assign(_0x30a6d3,_0x32148a){return _0x30a6d3[0x0]=_0x32148a[0x0],_0x30a6d3[0x1]=_0x32148a[0x1],_0x30a6d3[0x2]=_0x32148a[0x2],_0x30a6d3[0x3]=_0x32148a[0x3],_0x30a6d3;}export function identity(_0x5f3f1d){return _0x5f3f1d[0x0]=0x0,_0x5f3f1d[0x1]=0x0,_0x5f3f1d[0x2]=0x0,_0x5f3f1d[0x3]=0x1,_0x5f3f1d;}export function isIdentity(_0x39e191){return _0x39e191[0x0]===0x0&&_0x39e191[0x1]===0x0&&_0x39e191[0x2]===0x0&&_0x39e191[0x3]===0x1;}export function isEmpty(_0x5499e6){return _0x5499e6[0x0]===0x0&&_0x5499e6[0x1]===0x0&&_0x5499e6[0x2]===0x0&&_0x5499e6[0x3]===0x0;}export function isNearlyEmpty(_0x32a1e3){const _0xf7bf69=a76_0x1e10;return a76_0x4058b9[_0xf7bf69(0x109)](_0x32a1e3[0x0])&&a76_0x4058b9[_0xf7bf69(0x109)](_0x32a1e3[0x1])&&a76_0x4058b9[_0xf7bf69(0x109)](_0x32a1e3[0x2])&&a76_0x4058b9[_0xf7bf69(0x109)](_0x32a1e3[0x3]);}export function isEqual(_0x4bd475,_0x96cb32){return _0x4bd475[0x0]===_0x96cb32[0x0]&&_0x4bd475[0x1]===_0x96cb32[0x1]&&_0x4bd475[0x2]===_0x96cb32[0x2]&&_0x4bd475[0x3]===_0x96cb32[0x3];}export function isNearlyEqual(_0x1b425a,_0xb53cbe){const _0x3f9ff3=a76_0x1e10;return a76_0x4058b9[_0x3f9ff3(0x109)](_0x1b425a[0x0]-_0xb53cbe[0x0])&&a76_0x4058b9[_0x3f9ff3(0x109)](_0x1b425a[0x1]-_0xb53cbe[0x1])&&a76_0x4058b9[_0x3f9ff3(0x109)](_0x1b425a[0x2]-_0xb53cbe[0x2])&&a76_0x4058b9[_0x3f9ff3(0x109)](_0x1b425a[0x3]-_0xb53cbe[0x3]);}export function length(_0x498576){const _0x45003a=a76_0x1e10;return Math[_0x45003a(0x119)](_0x498576[0x0],_0x498576[0x1],_0x498576[0x2],_0x498576[0x3]);}export function lengthSq(_0x59a839){return _0x59a839[0x0]*_0x59a839[0x0]+_0x59a839[0x1]*_0x59a839[0x1]+_0x59a839[0x2]*_0x59a839[0x2]+_0x59a839[0x3]*_0x59a839[0x3];}export function normalize(_0x362c64,_0x45f406){const _0x398d74=a76_0x1e10;_0x362c64=_0x362c64||make();const _0x55c1eb=a76_0x4058b9[_0x398d74(0x10b)](length(_0x45f406));return _0x362c64[0x0]=_0x45f406[0x0]*_0x55c1eb,_0x362c64[0x1]=_0x45f406[0x1]*_0x55c1eb,_0x362c64[0x2]=_0x45f406[0x2]*_0x55c1eb,_0x362c64[0x3]=_0x45f406[0x3]*_0x55c1eb,_0x362c64;}export function conjugate(_0x5c24cd,_0x458dde){return _0x5c24cd=_0x5c24cd||make(),_0x5c24cd[0x0]=-_0x458dde[0x0],_0x5c24cd[0x1]=-_0x458dde[0x1],_0x5c24cd[0x2]=-_0x458dde[0x2],_0x5c24cd[0x3]=_0x458dde[0x3],_0x5c24cd;}export function exp(_0x115363,_0x3b5f5){const _0xa45a02=a76_0x1e10;_0x115363=_0x115363||make();let _0x5caac8=_0x3b5f5[0x0],_0xb56fdc=_0x3b5f5[0x1],_0x4b2f89=_0x3b5f5[0x2],_0x444dbc=_0x3b5f5[0x3],_0x32f19c=Math[_0xa45a02(0x119)](_0x5caac8,_0xb56fdc,_0x4b2f89),_0x1fc338=Math[_0xa45a02(0x10e)](_0x32f19c),_0x190642=Math['cos'](_0x32f19c);if(a76_0x4058b9[_0xa45a02(0x109)](_0x32f19c,1.192092896e-7)===![]){let _0x80b713=_0x1fc338/_0x32f19c;_0x5caac8*=_0x80b713,_0xb56fdc*=_0x80b713,_0x4b2f89*=_0x80b713,_0x444dbc*=_0x80b713;}return _0x115363[0x0]=_0x5caac8,_0x115363[0x1]=_0xb56fdc,_0x115363[0x2]=_0x4b2f89,_0x115363[0x3]=_0x190642,_0x115363;}export function ln(_0x397bac,_0x328b8d){const _0x73179=a76_0x1e10;_0x397bac=_0x397bac||make();let _0x1d05f8=_0x328b8d[0x0],_0x16d214=_0x328b8d[0x1],_0x4451e4=_0x328b8d[0x2],_0x2acd35=_0x328b8d[0x3];const _0x33a866=0x1-0.00001;if(_0x2acd35>=-_0x33a866&&_0x2acd35<=_0x33a866){let _0x213799=Math[_0x73179(0x10c)](_0x2acd35),_0x158be4=Math[_0x73179(0x10e)](_0x213799),_0x2c6c50=_0x213799*a76_0x4058b9[_0x73179(0x10b)](_0x158be4);_0x1d05f8*=_0x2c6c50,_0x16d214*=_0x2c6c50,_0x4451e4*=_0x2c6c50;}return _0x397bac[0x0]=_0x1d05f8,_0x397bac[0x1]=_0x16d214,_0x397bac[0x2]=_0x4451e4,_0x397bac[0x3]=0x0,_0x397bac;}export function inverse(_0x1f042b,_0x476805){const _0x523e71=a76_0x1e10;_0x1f042b=_0x1f042b||make();let _0x3ba0d6=_0x476805[0x0],_0x19abbc=_0x476805[0x1],_0x37e05a=_0x476805[0x2],_0x1bc94a=_0x476805[0x3],_0x1ffcdf=_0x3ba0d6*_0x3ba0d6+_0x19abbc*_0x19abbc+_0x37e05a*_0x37e05a+_0x1bc94a*_0x1bc94a;return _0x1ffcdf>1.192092896e-7?(_0x1ffcdf=a76_0x4058b9[_0x523e71(0x10a)](_0x1ffcdf),_0x1f042b[0x0]=-_0x3ba0d6*_0x1ffcdf,_0x1f042b[0x1]=-_0x19abbc*_0x1ffcdf,_0x1f042b[0x2]=-_0x37e05a*_0x1ffcdf,_0x1f042b[0x3]=_0x1bc94a*_0x1ffcdf):(_0x1f042b[0x0]=0x0,_0x1f042b[0x1]=0x0,_0x1f042b[0x2]=0x0,_0x1f042b[0x3]=0x0),_0x1f042b;}function a76_0x1e10(_0x1fd820,_0x531e8d){_0x1fd820=_0x1fd820-0x107;let _0x1ba15f=a76_0x1ba1[_0x1fd820];return _0x1ba15f;}export function sphereLerp(_0x44772a,_0x12d4e4,_0xf5aed3,_0x12e0eb){const _0x360ab9=a76_0x1e10;_0x44772a=_0x44772a||make();let _0x30c177=_0x12d4e4[0x0],_0x334136=_0x12d4e4[0x1],_0x2f8ce5=_0x12d4e4[0x2],_0x3acafb=_0x12d4e4[0x3],_0x837596=_0xf5aed3[0x0],_0x18554a=_0xf5aed3[0x1],_0x15d845=_0xf5aed3[0x2],_0x15425c=_0xf5aed3[0x3],_0xb13b9b,_0x3bb65c;{_0xb13b9b=_0x30c177*_0x837596+_0x334136*_0x18554a+_0x2f8ce5*_0x15d845+_0x3acafb*_0x15425c,_0x3bb65c=_0xb13b9b<0x0?-0x1:0x1,_0xb13b9b*=_0x3bb65c;}let _0xd2492e,_0x5d117d;{_0xd2492e=Math[_0x360ab9(0x108)](0x1-_0xb13b9b*_0xb13b9b),_0x5d117d=Math['atan2'](_0xd2492e,_0xb13b9b);}let _0x30cfd5=0x1-_0x12e0eb,_0x30f51f=_0x12e0eb;if(_0xb13b9b<0x1-0.00001){let _0x2f399b=a76_0x4058b9[_0x360ab9(0x10a)](_0xd2492e);_0x30cfd5=Math[_0x360ab9(0x10e)](_0x30cfd5*_0x5d117d)*_0x2f399b,_0x30f51f=Math[_0x360ab9(0x10e)](_0x30f51f*_0x5d117d)*_0x2f399b;}let _0x494d84=_0x30cfd5,_0x38f8b8=_0x30f51f*_0x3bb65c;return _0x44772a[0x0]=_0x837596*_0x38f8b8+_0x30c177*_0x494d84,_0x44772a[0x1]=_0x18554a*_0x38f8b8+_0x334136*_0x494d84,_0x44772a[0x2]=_0x15d845*_0x38f8b8+_0x2f8ce5*_0x494d84,_0x44772a[0x3]=_0x15425c*_0x38f8b8+_0x3acafb*_0x494d84,_0x44772a;}export function mul(_0x1d7dab,_0xa5cfb2,_0x1ae711){_0x1d7dab=_0x1d7dab||make();let _0x31a619=_0xa5cfb2[0x0],_0x126002=_0xa5cfb2[0x1],_0x2718d4=_0xa5cfb2[0x2],_0x36d960=_0xa5cfb2[0x3],_0x23f31f=_0x1ae711[0x0],_0x38c700=_0x1ae711[0x1],_0x4017b5=_0x1ae711[0x2],_0x51f704=_0x1ae711[0x3];return _0x1d7dab[0x0]=_0x51f704*_0x31a619+_0x23f31f*_0x36d960+_0x38c700*_0x2718d4-_0x4017b5*_0x126002,_0x1d7dab[0x1]=_0x51f704*_0x126002-_0x23f31f*_0x2718d4+_0x38c700*_0x36d960+_0x4017b5*_0x31a619,_0x1d7dab[0x2]=_0x51f704*_0x2718d4+_0x23f31f*_0x126002-_0x38c700*_0x31a619+_0x4017b5*_0x36d960,_0x1d7dab[0x3]=_0x51f704*_0x36d960-_0x23f31f*_0x31a619-_0x38c700*_0x126002-_0x4017b5*_0x2718d4,_0x1d7dab;}export function rotate(_0x1159e0,_0x3afe69,_0xd63022){const _0x12dbc7=a76_0x1e10;_0x1159e0=_0x1159e0||make();let _0xfe27ff=_0x3afe69[0x0],_0x4787b7=_0x3afe69[0x1],_0x2ab3f3=_0x3afe69[0x2],_0xdd51ee=Math['hypot'](_0xfe27ff,_0x4787b7,_0x2ab3f3);_0xdd51ee>0x0&&(_0xdd51ee=0x1/_0xdd51ee,_0xfe27ff*=_0xdd51ee,_0x4787b7*=_0xdd51ee,_0x2ab3f3*=_0xdd51ee);let _0x356006=_0xd63022*0.5,_0x52d832=Math[_0x12dbc7(0x10e)](_0x356006),_0x294147=Math['cos'](_0x356006);return _0x1159e0[0x0]=_0x52d832*_0xfe27ff,_0x1159e0[0x1]=_0x52d832*_0x4787b7,_0x1159e0[0x2]=_0x52d832*_0x2ab3f3,_0x1159e0[0x3]=_0x294147,_0x1159e0;}export function rotateNormal(_0x5e0ab9,_0x224ce5,_0x528563){const _0x123bc0=a76_0x1e10;_0x5e0ab9=_0x5e0ab9||make();let _0x1f6277=_0x528563*0.5,_0x580444=Math[_0x123bc0(0x10e)](_0x1f6277),_0x496db5=Math[_0x123bc0(0x114)](_0x1f6277);return _0x5e0ab9[0x0]=_0x580444*_0x224ce5[0x0],_0x5e0ab9[0x1]=_0x580444*_0x224ce5[0x1],_0x5e0ab9[0x2]=_0x580444*_0x224ce5[0x2],_0x5e0ab9[0x3]=_0x496db5,_0x5e0ab9;}export function rotatePitchYawRoll(_0x298a7c,_0x3decb7,_0x41d28a,_0x5be814){const _0x4d023=a76_0x1e10;_0x298a7c=_0x298a7c||make();let _0x38179a=_0x3decb7*0.5,_0x46d1cd=_0x41d28a*0.5,_0x3b686a=_0x5be814*0.5,_0x3b5826=Math[_0x4d023(0x10e)](_0x38179a),_0x12c5e5=Math[_0x4d023(0x10e)](_0x46d1cd),_0x3cd906=Math[_0x4d023(0x10e)](_0x3b686a),_0x30570f=Math[_0x4d023(0x114)](_0x38179a),_0x50a6c7=Math[_0x4d023(0x114)](_0x46d1cd),_0x4bca21=Math[_0x4d023(0x114)](_0x3b686a),_0x34eec1=_0x3b5826*_0x50a6c7*_0x4bca21,_0x186755=_0x30570f*_0x12c5e5*_0x4bca21,_0x2cda3d=_0x30570f*_0x50a6c7*_0x3cd906,_0x1e137b=_0x30570f*_0x50a6c7*_0x4bca21,_0xf4bb47=_0x3b5826*_0x50a6c7,_0x39cd1b=-_0x30570f*_0x12c5e5,_0x29cfe0=-_0x30570f*_0x50a6c7,_0x361d8e=_0x30570f*_0x50a6c7;return _0x298a7c[0x0]=_0xf4bb47*_0x4bca21+_0x34eec1,_0x298a7c[0x1]=_0x39cd1b*_0x4bca21+_0x186755,_0x298a7c[0x2]=_0x29cfe0*_0x3cd906+_0x2cda3d,_0x298a7c[0x3]=_0x361d8e*_0x4bca21+_0x1e137b,_0x298a7c;}export function rotateMatrix(_0x11bdaa,_0x5c8c57){const _0x5dc019=a76_0x1e10;_0x11bdaa=_0x11bdaa||make();let _0x193c83=_0x5c8c57[0xa];if(_0x193c83<=0x0){let _0x5ee694=_0x5c8c57[0x5]-_0x5c8c57[0x0],_0x45b179=0x1-_0x193c83;if(_0x5ee694<=0x0){let _0x49d233=_0x45b179-_0x5ee694,_0x2f3773=0.5/Math[_0x5dc019(0x108)](_0x49d233);_0x11bdaa[0x0]=_0x49d233*_0x2f3773,_0x11bdaa[0x1]=(_0x5c8c57[0x1]+_0x5c8c57[0x4])*_0x2f3773,_0x11bdaa[0x2]=(_0x5c8c57[0x2]+_0x5c8c57[0x8])*_0x2f3773,_0x11bdaa[0x3]=(_0x5c8c57[0x6]-_0x5c8c57[0x9])*_0x2f3773;}else{let _0x127287=_0x45b179+_0x5ee694,_0x1b7b7d=0.5/Math[_0x5dc019(0x108)](_0x127287);_0x11bdaa[0x0]=(_0x5c8c57[0x1]+_0x5c8c57[0x4])*_0x1b7b7d,_0x11bdaa[0x1]=_0x127287*_0x1b7b7d,_0x11bdaa[0x2]=(_0x5c8c57[0x6]+_0x5c8c57[0x9])*_0x1b7b7d,_0x11bdaa[0x3]=(_0x5c8c57[0x8]-_0x5c8c57[0x2])*_0x1b7b7d;}}else{let _0x142ae7=_0x5c8c57[0x5]+_0x5c8c57[0x0],_0x23724f=0x1+_0x193c83;if(_0x142ae7<=0x0){let _0x34591c=_0x23724f-_0x142ae7,_0x800a5c=0.5/Math[_0x5dc019(0x108)](_0x34591c);_0x11bdaa[0x0]=(_0x5c8c57[0x2]+_0x5c8c57[0x8])*_0x800a5c,_0x11bdaa[0x1]=(_0x5c8c57[0x6]+_0x5c8c57[0x9])*_0x800a5c,_0x11bdaa[0x2]=_0x34591c*_0x800a5c,_0x11bdaa[0x3]=(_0x5c8c57[0x1]-_0x5c8c57[0x4])*_0x800a5c;}else{let _0x2424b5=_0x23724f+_0x142ae7,_0x19a1f8=0.5/Math[_0x5dc019(0x108)](_0x2424b5);_0x11bdaa[0x0]=(_0x5c8c57[0x6]-_0x5c8c57[0x9])*_0x19a1f8,_0x11bdaa[0x1]=(_0x5c8c57[0x8]-_0x5c8c57[0x2])*_0x19a1f8,_0x11bdaa[0x2]=(_0x5c8c57[0x1]-_0x5c8c57[0x4])*_0x19a1f8,_0x11bdaa[0x3]=_0x2424b5*_0x19a1f8;}}return _0x11bdaa;}export function rotateBetweenVec(_0x531c8d,_0x261650,_0x46ac56){const _0x152aae=a76_0x1e10;_0x531c8d=_0x531c8d||make();let _0x3696c5=a76_0x1c74b9['normalize'](null,_0x261650),_0x5131e2=a76_0x1c74b9[_0x152aae(0x116)](null,_0x46ac56);if(a76_0x4058b9[_0x152aae(0x109)](_0x3696c5[0x0]-_0x5131e2[0x0])&&a76_0x4058b9[_0x152aae(0x109)](_0x3696c5[0x1]-_0x5131e2[0x1])&&a76_0x4058b9['isNearlyZero'](_0x3696c5[0x2]-_0x5131e2[0x2]))return identity(_0x531c8d);if(a76_0x4058b9[_0x152aae(0x109)](_0x3696c5[0x0]+_0x5131e2[0x0])&&a76_0x4058b9['isNearlyZero'](_0x3696c5[0x1]+_0x5131e2[0x1])&&a76_0x4058b9[_0x152aae(0x109)](_0x3696c5[0x2]+_0x5131e2[0x2])){let _0x406efb=a76_0x1c74b9[_0x152aae(0x113)](null,_0x3696c5);return rotateNormal(_0x531c8d,_0x406efb,a76_0x4058b9['pi']);}let _0x2af8b9,_0x26cff1;{_0x2af8b9=a76_0x1c74b9[_0x152aae(0x117)](_0x2af8b9,_0x3696c5,_0x5131e2),_0x2af8b9=a76_0x1c74b9['normalize'](_0x2af8b9,_0x2af8b9),_0x26cff1=a76_0x1c74b9['cross'](_0x26cff1,_0x3696c5,_0x2af8b9);}return _0x531c8d[0x0]=_0x26cff1[0x0],_0x531c8d[0x1]=_0x26cff1[0x1],_0x531c8d[0x2]=_0x26cff1[0x2],_0x531c8d[0x3]=a76_0x1c74b9['dot'](_0x3696c5,_0x2af8b9),_0x531c8d;}export function decompose(_0x34d96f){const _0x16d76d=a76_0x1e10;let _0x4077ba=a76_0x1c74b9[_0x16d76d(0x107)](_0x34d96f[0x0],_0x34d96f[0x1],_0x34d96f[0x2]),_0x192f2c=0x2*Math[_0x16d76d(0x10c)](_0x34d96f[0x3]);return[_0x4077ba,_0x192f2c];}