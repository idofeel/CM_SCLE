'use strict';const a81_0x3424=['sqrt','nonParallel','187187Lhrcun','sin','878RFsjOn','226512CVGVvb','reciprocal','dot','396714eJaDRD','acos','cross','normalize','cos','hypot','isNearlyZero','779591SZltRE','add','26czeano','1081074AOUSOH','14620UKtCFO','safeReciprocal','1079JRZTRJ'];(function(_0x4f2184,_0x49bd1a){const _0x2331ac=a81_0x44e7;while(!![]){try{const _0x4d6044=parseInt(_0x2331ac(0xc2))+parseInt(_0x2331ac(0xc8))+-parseInt(_0x2331ac(0xb8))+parseInt(_0x2331ac(0xcb))+-parseInt(_0x2331ac(0xc3))*parseInt(_0x2331ac(0xc1))+parseInt(_0x2331ac(0xbf))+parseInt(_0x2331ac(0xc5))*-parseInt(_0x2331ac(0xca));if(_0x4d6044===_0x49bd1a)break;else _0x4f2184['push'](_0x4f2184['shift']());}catch(_0xc1ad4a){_0x4f2184['push'](_0x4f2184['shift']());}}}(a81_0x3424,0x86518));import*as a81_0xfa1ac0 from'./math.js';import*as a81_0x5649d1 from'./float3.js';export function make(){let _0x2ce372=new Float32Array(0x4);{_0x2ce372[0x3]=0x1;}return _0x2ce372;}export function copy(_0x2933f7){let _0x13c326=make();{_0x13c326[0x0]=_0x2933f7[0x0],_0x13c326[0x1]=_0x2933f7[0x1],_0x13c326[0x2]=_0x2933f7[0x2],_0x13c326[0x3]=_0x2933f7[0x3];}return v;}export function x(_0x28c54b){return _0x28c54b[0x0];}export function y(_0x6a8d29){return _0x6a8d29[0x1];}export function z(_0x28e68d){return _0x28e68d[0x2];}export function w(_0x2430d9){return _0x2430d9[0x3];}export function setX(_0x123b4b,_0x3ef28e){_0x123b4b[0x0]=_0x3ef28e;}export function setY(_0x3b0f46,_0x690627){_0x3b0f46[0x1]=_0x690627;}export function setZ(_0xca73cf,_0x202085){_0xca73cf[0x2]=_0x202085;}export function setW(_0x4e249c,_0x21d63a){_0x4e249c[0x3]=_0x21d63a;}export function set(_0x4a5226,_0xdeb169,_0x284495,_0x299d9e,_0x1b7f5c){_0x4a5226[0x0]=_0xdeb169,_0x4a5226[0x1]=_0x284495,_0x4a5226[0x2]=_0x299d9e,_0x4a5226[0x3]=_0x1b7f5c;}function a81_0x44e7(_0x2d73e0,_0x32ef90){_0x2d73e0=_0x2d73e0-0xb7;let _0x342487=a81_0x3424[_0x2d73e0];return _0x342487;}export function from(_0x2d486b,_0x1d814e,_0x473bd6,_0x39a777){let _0x24b8d5=make();{_0x24b8d5[0x0]=_0x2d486b,_0x24b8d5[0x1]=_0x1d814e,_0x24b8d5[0x2]=_0x473bd6,_0x24b8d5[0x3]=_0x39a777;}return _0x24b8d5;}export function fromArray(_0x4a0410){let _0x3f57c7=make();{_0x3f57c7[0x0]=_0x4a0410[0x0],_0x3f57c7[0x1]=_0x4a0410[0x1],_0x3f57c7[0x2]=_0x4a0410[0x2],_0x3f57c7[0x3]=_0x4a0410[0x3];}return _0x3f57c7;}export function assign(_0x4adb02,_0x4930cf){return _0x4adb02[0x0]=_0x4930cf[0x0],_0x4adb02[0x1]=_0x4930cf[0x1],_0x4adb02[0x2]=_0x4930cf[0x2],_0x4adb02[0x3]=_0x4930cf[0x3],_0x4adb02;}export function identity(_0x7e3f69){return _0x7e3f69[0x0]=0x0,_0x7e3f69[0x1]=0x0,_0x7e3f69[0x2]=0x0,_0x7e3f69[0x3]=0x1,_0x7e3f69;}export function isIdentity(_0x1385fa){return _0x1385fa[0x0]===0x0&&_0x1385fa[0x1]===0x0&&_0x1385fa[0x2]===0x0&&_0x1385fa[0x3]===0x1;}export function isEmpty(_0x18bdd0){return _0x18bdd0[0x0]===0x0&&_0x18bdd0[0x1]===0x0&&_0x18bdd0[0x2]===0x0&&_0x18bdd0[0x3]===0x0;}export function isNearlyEmpty(_0x1fba1e){const _0x5bb600=a81_0x44e7;return a81_0xfa1ac0[_0x5bb600(0xbe)](_0x1fba1e[0x0])&&a81_0xfa1ac0[_0x5bb600(0xbe)](_0x1fba1e[0x1])&&a81_0xfa1ac0['isNearlyZero'](_0x1fba1e[0x2])&&a81_0xfa1ac0[_0x5bb600(0xbe)](_0x1fba1e[0x3]);}export function isEqual(_0x5452f3,_0x2eaa17){return _0x5452f3[0x0]===_0x2eaa17[0x0]&&_0x5452f3[0x1]===_0x2eaa17[0x1]&&_0x5452f3[0x2]===_0x2eaa17[0x2]&&_0x5452f3[0x3]===_0x2eaa17[0x3];}export function isNearlyEqual(_0x94980e,_0x516010){const _0x4676b8=a81_0x44e7;return a81_0xfa1ac0['isNearlyZero'](_0x94980e[0x0]-_0x516010[0x0])&&a81_0xfa1ac0[_0x4676b8(0xbe)](_0x94980e[0x1]-_0x516010[0x1])&&a81_0xfa1ac0['isNearlyZero'](_0x94980e[0x2]-_0x516010[0x2])&&a81_0xfa1ac0['isNearlyZero'](_0x94980e[0x3]-_0x516010[0x3]);}export function length(_0x3f8684){const _0x23d10f=a81_0x44e7;return Math[_0x23d10f(0xbd)](_0x3f8684[0x0],_0x3f8684[0x1],_0x3f8684[0x2],_0x3f8684[0x3]);}export function lengthSq(_0xd08ec4){return _0xd08ec4[0x0]*_0xd08ec4[0x0]+_0xd08ec4[0x1]*_0xd08ec4[0x1]+_0xd08ec4[0x2]*_0xd08ec4[0x2]+_0xd08ec4[0x3]*_0xd08ec4[0x3];}export function normalize(_0x5e5e97,_0x42a98c){const _0x29d264=a81_0x44e7;_0x5e5e97=_0x5e5e97||make();const _0x1ba7bb=a81_0xfa1ac0[_0x29d264(0xc4)](length(_0x42a98c));return _0x5e5e97[0x0]=_0x42a98c[0x0]*_0x1ba7bb,_0x5e5e97[0x1]=_0x42a98c[0x1]*_0x1ba7bb,_0x5e5e97[0x2]=_0x42a98c[0x2]*_0x1ba7bb,_0x5e5e97[0x3]=_0x42a98c[0x3]*_0x1ba7bb,_0x5e5e97;}export function conjugate(_0x211d7c,_0x41b2f7){return _0x211d7c=_0x211d7c||make(),_0x211d7c[0x0]=-_0x41b2f7[0x0],_0x211d7c[0x1]=-_0x41b2f7[0x1],_0x211d7c[0x2]=-_0x41b2f7[0x2],_0x211d7c[0x3]=_0x41b2f7[0x3],_0x211d7c;}export function exp(_0x46a70f,_0x2d1a66){const _0x8a11e0=a81_0x44e7;_0x46a70f=_0x46a70f||make();let _0x6e40a6=_0x2d1a66[0x0],_0xea678b=_0x2d1a66[0x1],_0x26f242=_0x2d1a66[0x2],_0x3ebc52=_0x2d1a66[0x3],_0x384bb3=Math[_0x8a11e0(0xbd)](_0x6e40a6,_0xea678b,_0x26f242),_0xbba209=Math[_0x8a11e0(0xc9)](_0x384bb3),_0x590bfc=Math[_0x8a11e0(0xbc)](_0x384bb3);if(a81_0xfa1ac0[_0x8a11e0(0xbe)](_0x384bb3,1.192092896e-7)===![]){let _0x2bbc0c=_0xbba209/_0x384bb3;_0x6e40a6*=_0x2bbc0c,_0xea678b*=_0x2bbc0c,_0x26f242*=_0x2bbc0c,_0x3ebc52*=_0x2bbc0c;}return _0x46a70f[0x0]=_0x6e40a6,_0x46a70f[0x1]=_0xea678b,_0x46a70f[0x2]=_0x26f242,_0x46a70f[0x3]=_0x590bfc,_0x46a70f;}export function ln(_0x14690e,_0xe5416e){const _0x33d6e9=a81_0x44e7;_0x14690e=_0x14690e||make();let _0x4c1a7e=_0xe5416e[0x0],_0x94139c=_0xe5416e[0x1],_0x4df690=_0xe5416e[0x2],_0x3d80ca=_0xe5416e[0x3];const _0x49fa6c=0x1-0.00001;if(_0x3d80ca>=-_0x49fa6c&&_0x3d80ca<=_0x49fa6c){let _0x2a9c12=Math[_0x33d6e9(0xb9)](_0x3d80ca),_0x21f438=Math['sin'](_0x2a9c12),_0x430f4b=_0x2a9c12*a81_0xfa1ac0[_0x33d6e9(0xc4)](_0x21f438);_0x4c1a7e*=_0x430f4b,_0x94139c*=_0x430f4b,_0x4df690*=_0x430f4b;}return _0x14690e[0x0]=_0x4c1a7e,_0x14690e[0x1]=_0x94139c,_0x14690e[0x2]=_0x4df690,_0x14690e[0x3]=0x0,_0x14690e;}export function inverse(_0x51292e,_0x30bb72){const _0x2a4189=a81_0x44e7;_0x51292e=_0x51292e||make();let _0xd9464f=_0x30bb72[0x0],_0x25ac6c=_0x30bb72[0x1],_0x3adec9=_0x30bb72[0x2],_0x114aaa=_0x30bb72[0x3],_0xe06276=_0xd9464f*_0xd9464f+_0x25ac6c*_0x25ac6c+_0x3adec9*_0x3adec9+_0x114aaa*_0x114aaa;return _0xe06276>1.192092896e-7?(_0xe06276=a81_0xfa1ac0[_0x2a4189(0xcc)](_0xe06276),_0x51292e[0x0]=-_0xd9464f*_0xe06276,_0x51292e[0x1]=-_0x25ac6c*_0xe06276,_0x51292e[0x2]=-_0x3adec9*_0xe06276,_0x51292e[0x3]=_0x114aaa*_0xe06276):(_0x51292e[0x0]=0x0,_0x51292e[0x1]=0x0,_0x51292e[0x2]=0x0,_0x51292e[0x3]=0x0),_0x51292e;}export function sphereLerp(_0x4f64b6,_0x40bd78,_0x27eebe,_0x4d009b){const _0x3f5307=a81_0x44e7;_0x4f64b6=_0x4f64b6||make();let _0x33cafb=_0x40bd78[0x0],_0x4d25bc=_0x40bd78[0x1],_0x2d62cc=_0x40bd78[0x2],_0x390183=_0x40bd78[0x3],_0x5e855d=_0x27eebe[0x0],_0x384c2d=_0x27eebe[0x1],_0x2a234d=_0x27eebe[0x2],_0x1c31d0=_0x27eebe[0x3],_0x423d50,_0x4dd1db;{_0x423d50=_0x33cafb*_0x5e855d+_0x4d25bc*_0x384c2d+_0x2d62cc*_0x2a234d+_0x390183*_0x1c31d0,_0x4dd1db=_0x423d50<0x0?-0x1:0x1,_0x423d50*=_0x4dd1db;}let _0x5d5674,_0x19d520;{_0x5d5674=Math['sqrt'](0x1-_0x423d50*_0x423d50),_0x19d520=Math['atan2'](_0x5d5674,_0x423d50);}let _0x17eb78=0x1-_0x4d009b,_0x190163=_0x4d009b;if(_0x423d50<0x1-0.00001){let _0x36e8ec=a81_0xfa1ac0['reciprocal'](_0x5d5674);_0x17eb78=Math[_0x3f5307(0xc9)](_0x17eb78*_0x19d520)*_0x36e8ec,_0x190163=Math[_0x3f5307(0xc9)](_0x190163*_0x19d520)*_0x36e8ec;}let _0x220ab8=_0x17eb78,_0x17453d=_0x190163*_0x4dd1db;return _0x4f64b6[0x0]=_0x5e855d*_0x17453d+_0x33cafb*_0x220ab8,_0x4f64b6[0x1]=_0x384c2d*_0x17453d+_0x4d25bc*_0x220ab8,_0x4f64b6[0x2]=_0x2a234d*_0x17453d+_0x2d62cc*_0x220ab8,_0x4f64b6[0x3]=_0x1c31d0*_0x17453d+_0x390183*_0x220ab8,_0x4f64b6;}export function mul(_0x470613,_0x3ec5fe,_0x244005){_0x470613=_0x470613||make();let _0x4a85d4=_0x3ec5fe[0x0],_0x3ec05e=_0x3ec5fe[0x1],_0x3a7349=_0x3ec5fe[0x2],_0x20f899=_0x3ec5fe[0x3],_0x43242b=_0x244005[0x0],_0x5110d7=_0x244005[0x1],_0x1710ac=_0x244005[0x2],_0x5f0475=_0x244005[0x3];return _0x470613[0x0]=_0x5f0475*_0x4a85d4+_0x43242b*_0x20f899+_0x5110d7*_0x3a7349-_0x1710ac*_0x3ec05e,_0x470613[0x1]=_0x5f0475*_0x3ec05e-_0x43242b*_0x3a7349+_0x5110d7*_0x20f899+_0x1710ac*_0x4a85d4,_0x470613[0x2]=_0x5f0475*_0x3a7349+_0x43242b*_0x3ec05e-_0x5110d7*_0x4a85d4+_0x1710ac*_0x20f899,_0x470613[0x3]=_0x5f0475*_0x20f899-_0x43242b*_0x4a85d4-_0x5110d7*_0x3ec05e-_0x1710ac*_0x3a7349,_0x470613;}export function rotate(_0x260e8c,_0x1ac5fc,_0x4819d0){const _0x393347=a81_0x44e7;_0x260e8c=_0x260e8c||make();let _0x55cfaf=_0x1ac5fc[0x0],_0x4cd9c1=_0x1ac5fc[0x1],_0x47adb4=_0x1ac5fc[0x2],_0x2779d1=Math[_0x393347(0xbd)](_0x55cfaf,_0x4cd9c1,_0x47adb4);_0x2779d1>0x0&&(_0x2779d1=0x1/_0x2779d1,_0x55cfaf*=_0x2779d1,_0x4cd9c1*=_0x2779d1,_0x47adb4*=_0x2779d1);let _0x15a38f=_0x4819d0*0.5,_0x1c5548=Math[_0x393347(0xc9)](_0x15a38f),_0x4e7684=Math['cos'](_0x15a38f);return _0x260e8c[0x0]=_0x1c5548*_0x55cfaf,_0x260e8c[0x1]=_0x1c5548*_0x4cd9c1,_0x260e8c[0x2]=_0x1c5548*_0x47adb4,_0x260e8c[0x3]=_0x4e7684,_0x260e8c;}export function rotateNormal(_0x55267f,_0x654bc,_0x59bd3b){const _0xf7dd3=a81_0x44e7;_0x55267f=_0x55267f||make();let _0x4c2f04=_0x59bd3b*0.5,_0x4edff8=Math['sin'](_0x4c2f04),_0x2981ee=Math[_0xf7dd3(0xbc)](_0x4c2f04);return _0x55267f[0x0]=_0x4edff8*_0x654bc[0x0],_0x55267f[0x1]=_0x4edff8*_0x654bc[0x1],_0x55267f[0x2]=_0x4edff8*_0x654bc[0x2],_0x55267f[0x3]=_0x2981ee,_0x55267f;}export function rotatePitchYawRoll(_0x17af28,_0x423bea,_0x369597,_0x1e42ad){const _0x10d984=a81_0x44e7;_0x17af28=_0x17af28||make();let _0x9ce70c=_0x423bea*0.5,_0x5aabe5=_0x369597*0.5,_0x4b2f2d=_0x1e42ad*0.5,_0x916c87=Math[_0x10d984(0xc9)](_0x9ce70c),_0x49c224=Math[_0x10d984(0xc9)](_0x5aabe5),_0x5161d8=Math[_0x10d984(0xc9)](_0x4b2f2d),_0x378332=Math[_0x10d984(0xbc)](_0x9ce70c),_0x5a1334=Math[_0x10d984(0xbc)](_0x5aabe5),_0x42655a=Math['cos'](_0x4b2f2d),_0x1c89f2=_0x916c87*_0x5a1334*_0x42655a,_0x579fd8=_0x378332*_0x49c224*_0x42655a,_0x40f165=_0x378332*_0x5a1334*_0x5161d8,_0x329e32=_0x378332*_0x5a1334*_0x42655a,_0x4eafc0=_0x916c87*_0x5a1334,_0xc841d0=-_0x378332*_0x49c224,_0x27031c=-_0x378332*_0x5a1334,_0x4d25fe=_0x378332*_0x5a1334;return _0x17af28[0x0]=_0x4eafc0*_0x42655a+_0x1c89f2,_0x17af28[0x1]=_0xc841d0*_0x42655a+_0x579fd8,_0x17af28[0x2]=_0x27031c*_0x5161d8+_0x40f165,_0x17af28[0x3]=_0x4d25fe*_0x42655a+_0x329e32,_0x17af28;}export function rotateMatrix(_0x325004,_0x51d0e5){const _0x3792fb=a81_0x44e7;_0x325004=_0x325004||make();let _0x8731ef=_0x51d0e5[0xa];if(_0x8731ef<=0x0){let _0x59f6a3=_0x51d0e5[0x5]-_0x51d0e5[0x0],_0x3024b4=0x1-_0x8731ef;if(_0x59f6a3<=0x0){let _0x442ba1=_0x3024b4-_0x59f6a3,_0x7da3fd=0.5/Math['sqrt'](_0x442ba1);_0x325004[0x0]=_0x442ba1*_0x7da3fd,_0x325004[0x1]=(_0x51d0e5[0x1]+_0x51d0e5[0x4])*_0x7da3fd,_0x325004[0x2]=(_0x51d0e5[0x2]+_0x51d0e5[0x8])*_0x7da3fd,_0x325004[0x3]=(_0x51d0e5[0x6]-_0x51d0e5[0x9])*_0x7da3fd;}else{let _0x2ede65=_0x3024b4+_0x59f6a3,_0xd39de2=0.5/Math[_0x3792fb(0xc6)](_0x2ede65);_0x325004[0x0]=(_0x51d0e5[0x1]+_0x51d0e5[0x4])*_0xd39de2,_0x325004[0x1]=_0x2ede65*_0xd39de2,_0x325004[0x2]=(_0x51d0e5[0x6]+_0x51d0e5[0x9])*_0xd39de2,_0x325004[0x3]=(_0x51d0e5[0x8]-_0x51d0e5[0x2])*_0xd39de2;}}else{let _0x532065=_0x51d0e5[0x5]+_0x51d0e5[0x0],_0x14bf95=0x1+_0x8731ef;if(_0x532065<=0x0){let _0x1880fa=_0x14bf95-_0x532065,_0x4d6e0f=0.5/Math[_0x3792fb(0xc6)](_0x1880fa);_0x325004[0x0]=(_0x51d0e5[0x2]+_0x51d0e5[0x8])*_0x4d6e0f,_0x325004[0x1]=(_0x51d0e5[0x6]+_0x51d0e5[0x9])*_0x4d6e0f,_0x325004[0x2]=_0x1880fa*_0x4d6e0f,_0x325004[0x3]=(_0x51d0e5[0x1]-_0x51d0e5[0x4])*_0x4d6e0f;}else{let _0x46f87b=_0x14bf95+_0x532065,_0x3fdebb=0.5/Math[_0x3792fb(0xc6)](_0x46f87b);_0x325004[0x0]=(_0x51d0e5[0x6]-_0x51d0e5[0x9])*_0x3fdebb,_0x325004[0x1]=(_0x51d0e5[0x8]-_0x51d0e5[0x2])*_0x3fdebb,_0x325004[0x2]=(_0x51d0e5[0x1]-_0x51d0e5[0x4])*_0x3fdebb,_0x325004[0x3]=_0x46f87b*_0x3fdebb;}}return _0x325004;}export function rotateBetweenVec(_0x168372,_0x2c4723,_0x4f201c){const _0x364ce8=a81_0x44e7;_0x168372=_0x168372||make();let _0x1d56c2=a81_0x5649d1[_0x364ce8(0xbb)](null,_0x2c4723),_0x2b5231=a81_0x5649d1[_0x364ce8(0xbb)](null,_0x4f201c);if(a81_0xfa1ac0[_0x364ce8(0xbe)](_0x1d56c2[0x0]-_0x2b5231[0x0])&&a81_0xfa1ac0[_0x364ce8(0xbe)](_0x1d56c2[0x1]-_0x2b5231[0x1])&&a81_0xfa1ac0[_0x364ce8(0xbe)](_0x1d56c2[0x2]-_0x2b5231[0x2]))return identity(_0x168372);if(a81_0xfa1ac0[_0x364ce8(0xbe)](_0x1d56c2[0x0]+_0x2b5231[0x0])&&a81_0xfa1ac0[_0x364ce8(0xbe)](_0x1d56c2[0x1]+_0x2b5231[0x1])&&a81_0xfa1ac0['isNearlyZero'](_0x1d56c2[0x2]+_0x2b5231[0x2])){let _0x486ddc=a81_0x5649d1[_0x364ce8(0xc7)](null,_0x1d56c2);return rotateNormal(_0x168372,_0x486ddc,a81_0xfa1ac0['pi']);}let _0x2e15b1,_0x186279;{_0x2e15b1=a81_0x5649d1[_0x364ce8(0xc0)](_0x2e15b1,_0x1d56c2,_0x2b5231),_0x2e15b1=a81_0x5649d1[_0x364ce8(0xbb)](_0x2e15b1,_0x2e15b1),_0x186279=a81_0x5649d1[_0x364ce8(0xba)](_0x186279,_0x1d56c2,_0x2e15b1);}return _0x168372[0x0]=_0x186279[0x0],_0x168372[0x1]=_0x186279[0x1],_0x168372[0x2]=_0x186279[0x2],_0x168372[0x3]=a81_0x5649d1[_0x364ce8(0xb7)](_0x1d56c2,_0x2e15b1),_0x168372;}export function decompose(_0x1ac7db){const _0x250702=a81_0x44e7;let _0x52907a=a81_0x5649d1['from'](_0x1ac7db[0x0],_0x1ac7db[0x1],_0x1ac7db[0x2]),_0x4600ba=0x2*Math[_0x250702(0xb9)](_0x1ac7db[0x3]);return[_0x52907a,_0x4600ba];}