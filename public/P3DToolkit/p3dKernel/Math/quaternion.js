'use strict';const a81_0x24c6=['1184589xJyCHs','atan2','290855OaALCB','safeReciprocal','2OXXIts','sqrt','985334gLqxIl','isNearlyZero','dot','856819GvPuDs','hypot','acos','1izCdLU','1116554cXKUPk','sin','23792ZXcMRO','cos','reciprocal','1LYizBW','301853sOhuFk','nonParallel','1NVimWH','normalize'];(function(_0x113045,_0x2a683a){const _0x155fb8=a81_0x28f6;while(!![]){try{const _0x33e561=-parseInt(_0x155fb8(0x95))+-parseInt(_0x155fb8(0x8c))*-parseInt(_0x155fb8(0x84))+-parseInt(_0x155fb8(0x88))+-parseInt(_0x155fb8(0x93))*parseInt(_0x155fb8(0x81))+parseInt(_0x155fb8(0x92))*-parseInt(_0x155fb8(0x8f))+-parseInt(_0x155fb8(0x82))+-parseInt(_0x155fb8(0x86))*-parseInt(_0x155fb8(0x8a));if(_0x33e561===_0x2a683a)break;else _0x113045['push'](_0x113045['shift']());}catch(_0x59d6c3){_0x113045['push'](_0x113045['shift']());}}}(a81_0x24c6,0xbaadf));import*as a81_0xa463bb from'./math.js';import*as a81_0x2e6226 from'./float3.js';export function make(){let _0x45d5db=new Float32Array(0x4);{_0x45d5db[0x3]=0x1;}return _0x45d5db;}function a81_0x28f6(_0x3eda1c,_0x18ff88){_0x3eda1c=_0x3eda1c-0x80;let _0x24c625=a81_0x24c6[_0x3eda1c];return _0x24c625;}export function copy(_0x22f87f){let _0x299e94=make();{_0x299e94[0x0]=_0x22f87f[0x0],_0x299e94[0x1]=_0x22f87f[0x1],_0x299e94[0x2]=_0x22f87f[0x2],_0x299e94[0x3]=_0x22f87f[0x3];}return v;}export function x(_0xb5a23){return _0xb5a23[0x0];}export function y(_0x219e30){return _0x219e30[0x1];}export function z(_0x382c8d){return _0x382c8d[0x2];}export function w(_0x55c4f2){return _0x55c4f2[0x3];}export function setX(_0x1b7f24,_0x428bd0){_0x1b7f24[0x0]=_0x428bd0;}export function setY(_0x6bce67,_0x173f05){_0x6bce67[0x1]=_0x173f05;}export function setZ(_0x1bddef,_0x135480){_0x1bddef[0x2]=_0x135480;}export function setW(_0x34c4ba,_0x136304){_0x34c4ba[0x3]=_0x136304;}export function set(_0x2ec802,_0x15e283,_0x1740f1,_0x267aba,_0x361912){_0x2ec802[0x0]=_0x15e283,_0x2ec802[0x1]=_0x1740f1,_0x2ec802[0x2]=_0x267aba,_0x2ec802[0x3]=_0x361912;}export function from(_0x20ae4e,_0x30b790,_0x123ab6,_0x483aa5){let _0x31d954=make();{_0x31d954[0x0]=_0x20ae4e,_0x31d954[0x1]=_0x30b790,_0x31d954[0x2]=_0x123ab6,_0x31d954[0x3]=_0x483aa5;}return _0x31d954;}export function fromArray(_0x542b29){let _0x11f92b=make();{_0x11f92b[0x0]=_0x542b29[0x0],_0x11f92b[0x1]=_0x542b29[0x1],_0x11f92b[0x2]=_0x542b29[0x2],_0x11f92b[0x3]=_0x542b29[0x3];}return _0x11f92b;}export function assign(_0x14ad76,_0x531fd8){return _0x14ad76[0x0]=_0x531fd8[0x0],_0x14ad76[0x1]=_0x531fd8[0x1],_0x14ad76[0x2]=_0x531fd8[0x2],_0x14ad76[0x3]=_0x531fd8[0x3],_0x14ad76;}export function identity(_0x9da184){return _0x9da184[0x0]=0x0,_0x9da184[0x1]=0x0,_0x9da184[0x2]=0x0,_0x9da184[0x3]=0x1,_0x9da184;}export function isIdentity(_0x30568a){return _0x30568a[0x0]===0x0&&_0x30568a[0x1]===0x0&&_0x30568a[0x2]===0x0&&_0x30568a[0x3]===0x1;}export function isEmpty(_0x149075){return _0x149075[0x0]===0x0&&_0x149075[0x1]===0x0&&_0x149075[0x2]===0x0&&_0x149075[0x3]===0x0;}export function isNearlyEmpty(_0x372a3b){const _0x3514b1=a81_0x28f6;return a81_0xa463bb[_0x3514b1(0x8d)](_0x372a3b[0x0])&&a81_0xa463bb[_0x3514b1(0x8d)](_0x372a3b[0x1])&&a81_0xa463bb[_0x3514b1(0x8d)](_0x372a3b[0x2])&&a81_0xa463bb[_0x3514b1(0x8d)](_0x372a3b[0x3]);}export function isEqual(_0x404ee1,_0x259284){return _0x404ee1[0x0]===_0x259284[0x0]&&_0x404ee1[0x1]===_0x259284[0x1]&&_0x404ee1[0x2]===_0x259284[0x2]&&_0x404ee1[0x3]===_0x259284[0x3];}export function isNearlyEqual(_0xcbfcf4,_0x4e89cd){const _0x4cf5c9=a81_0x28f6;return a81_0xa463bb[_0x4cf5c9(0x8d)](_0xcbfcf4[0x0]-_0x4e89cd[0x0])&&a81_0xa463bb[_0x4cf5c9(0x8d)](_0xcbfcf4[0x1]-_0x4e89cd[0x1])&&a81_0xa463bb[_0x4cf5c9(0x8d)](_0xcbfcf4[0x2]-_0x4e89cd[0x2])&&a81_0xa463bb['isNearlyZero'](_0xcbfcf4[0x3]-_0x4e89cd[0x3]);}export function length(_0x3aafb0){const _0x1358c7=a81_0x28f6;return Math[_0x1358c7(0x90)](_0x3aafb0[0x0],_0x3aafb0[0x1],_0x3aafb0[0x2],_0x3aafb0[0x3]);}export function lengthSq(_0xdd8788){return _0xdd8788[0x0]*_0xdd8788[0x0]+_0xdd8788[0x1]*_0xdd8788[0x1]+_0xdd8788[0x2]*_0xdd8788[0x2]+_0xdd8788[0x3]*_0xdd8788[0x3];}export function normalize(_0x23d5e1,_0x17e5da){const _0x4a971c=a81_0x28f6;_0x23d5e1=_0x23d5e1||make();const _0x3b4f75=a81_0xa463bb[_0x4a971c(0x89)](length(_0x17e5da));return _0x23d5e1[0x0]=_0x17e5da[0x0]*_0x3b4f75,_0x23d5e1[0x1]=_0x17e5da[0x1]*_0x3b4f75,_0x23d5e1[0x2]=_0x17e5da[0x2]*_0x3b4f75,_0x23d5e1[0x3]=_0x17e5da[0x3]*_0x3b4f75,_0x23d5e1;}export function conjugate(_0x2437ae,_0x364baa){return _0x2437ae=_0x2437ae||make(),_0x2437ae[0x0]=-_0x364baa[0x0],_0x2437ae[0x1]=-_0x364baa[0x1],_0x2437ae[0x2]=-_0x364baa[0x2],_0x2437ae[0x3]=_0x364baa[0x3],_0x2437ae;}export function exp(_0x2bf5aa,_0x570e3a){const _0x20ba08=a81_0x28f6;_0x2bf5aa=_0x2bf5aa||make();let _0x52f2d5=_0x570e3a[0x0],_0x55d6a0=_0x570e3a[0x1],_0x57c1db=_0x570e3a[0x2],_0x3b06c9=_0x570e3a[0x3],_0x3b13b8=Math[_0x20ba08(0x90)](_0x52f2d5,_0x55d6a0,_0x57c1db),_0x2c6ce1=Math[_0x20ba08(0x94)](_0x3b13b8),_0x50fe3f=Math['cos'](_0x3b13b8);if(a81_0xa463bb[_0x20ba08(0x8d)](_0x3b13b8,1.192092896e-7)===![]){let _0x163569=_0x2c6ce1/_0x3b13b8;_0x52f2d5*=_0x163569,_0x55d6a0*=_0x163569,_0x57c1db*=_0x163569,_0x3b06c9*=_0x163569;}return _0x2bf5aa[0x0]=_0x52f2d5,_0x2bf5aa[0x1]=_0x55d6a0,_0x2bf5aa[0x2]=_0x57c1db,_0x2bf5aa[0x3]=_0x50fe3f,_0x2bf5aa;}export function ln(_0xac3a4,_0x4c7ee5){const _0x325900=a81_0x28f6;_0xac3a4=_0xac3a4||make();let _0x137353=_0x4c7ee5[0x0],_0x246e40=_0x4c7ee5[0x1],_0x3b4d91=_0x4c7ee5[0x2],_0x582a1e=_0x4c7ee5[0x3];const _0x4896f1=0x1-0.00001;if(_0x582a1e>=-_0x4896f1&&_0x582a1e<=_0x4896f1){let _0x56ea4f=Math[_0x325900(0x91)](_0x582a1e),_0x50606a=Math[_0x325900(0x94)](_0x56ea4f),_0x37063c=_0x56ea4f*a81_0xa463bb[_0x325900(0x89)](_0x50606a);_0x137353*=_0x37063c,_0x246e40*=_0x37063c,_0x3b4d91*=_0x37063c;}return _0xac3a4[0x0]=_0x137353,_0xac3a4[0x1]=_0x246e40,_0xac3a4[0x2]=_0x3b4d91,_0xac3a4[0x3]=0x0,_0xac3a4;}export function inverse(_0x358fe9,_0x516d03){_0x358fe9=_0x358fe9||make();let _0x3788e6=_0x516d03[0x0],_0x2c50b3=_0x516d03[0x1],_0x3fc202=_0x516d03[0x2],_0x256c93=_0x516d03[0x3],_0x318ce1=_0x3788e6*_0x3788e6+_0x2c50b3*_0x2c50b3+_0x3fc202*_0x3fc202+_0x256c93*_0x256c93;return _0x318ce1>1.192092896e-7?(_0x318ce1=a81_0xa463bb['reciprocal'](_0x318ce1),_0x358fe9[0x0]=-_0x3788e6*_0x318ce1,_0x358fe9[0x1]=-_0x2c50b3*_0x318ce1,_0x358fe9[0x2]=-_0x3fc202*_0x318ce1,_0x358fe9[0x3]=_0x256c93*_0x318ce1):(_0x358fe9[0x0]=0x0,_0x358fe9[0x1]=0x0,_0x358fe9[0x2]=0x0,_0x358fe9[0x3]=0x0),_0x358fe9;}export function sphereLerp(_0x20a560,_0x5b3ccc,_0x758fff,_0x49be92){const _0x5ae7d1=a81_0x28f6;_0x20a560=_0x20a560||make();let _0x4d8b3b=_0x5b3ccc[0x0],_0x3c4a4d=_0x5b3ccc[0x1],_0x2d10d9=_0x5b3ccc[0x2],_0x518973=_0x5b3ccc[0x3],_0x506c82=_0x758fff[0x0],_0x1f1a4e=_0x758fff[0x1],_0x2d122a=_0x758fff[0x2],_0xcfd7de=_0x758fff[0x3],_0x46e749,_0x14028c;{_0x46e749=_0x4d8b3b*_0x506c82+_0x3c4a4d*_0x1f1a4e+_0x2d10d9*_0x2d122a+_0x518973*_0xcfd7de,_0x14028c=_0x46e749<0x0?-0x1:0x1,_0x46e749*=_0x14028c;}let _0x58044d,_0x3f0e58;{_0x58044d=Math[_0x5ae7d1(0x8b)](0x1-_0x46e749*_0x46e749),_0x3f0e58=Math[_0x5ae7d1(0x87)](_0x58044d,_0x46e749);}let _0x547de1=0x1-_0x49be92,_0xc0e32=_0x49be92;if(_0x46e749<0x1-0.00001){let _0x3dbf45=a81_0xa463bb[_0x5ae7d1(0x80)](_0x58044d);_0x547de1=Math[_0x5ae7d1(0x94)](_0x547de1*_0x3f0e58)*_0x3dbf45,_0xc0e32=Math[_0x5ae7d1(0x94)](_0xc0e32*_0x3f0e58)*_0x3dbf45;}let _0x5a9c2d=_0x547de1,_0x38fed5=_0xc0e32*_0x14028c;return _0x20a560[0x0]=_0x506c82*_0x38fed5+_0x4d8b3b*_0x5a9c2d,_0x20a560[0x1]=_0x1f1a4e*_0x38fed5+_0x3c4a4d*_0x5a9c2d,_0x20a560[0x2]=_0x2d122a*_0x38fed5+_0x2d10d9*_0x5a9c2d,_0x20a560[0x3]=_0xcfd7de*_0x38fed5+_0x518973*_0x5a9c2d,_0x20a560;}export function mul(_0x1de20c,_0x2a4865,_0x5c3325){_0x1de20c=_0x1de20c||make();let _0x1ae462=_0x2a4865[0x0],_0x534a87=_0x2a4865[0x1],_0x3b3b38=_0x2a4865[0x2],_0x196d0f=_0x2a4865[0x3],_0x1cbddc=_0x5c3325[0x0],_0x4ba093=_0x5c3325[0x1],_0x21858f=_0x5c3325[0x2],_0x54f794=_0x5c3325[0x3];return _0x1de20c[0x0]=_0x54f794*_0x1ae462+_0x1cbddc*_0x196d0f+_0x4ba093*_0x3b3b38-_0x21858f*_0x534a87,_0x1de20c[0x1]=_0x54f794*_0x534a87-_0x1cbddc*_0x3b3b38+_0x4ba093*_0x196d0f+_0x21858f*_0x1ae462,_0x1de20c[0x2]=_0x54f794*_0x3b3b38+_0x1cbddc*_0x534a87-_0x4ba093*_0x1ae462+_0x21858f*_0x196d0f,_0x1de20c[0x3]=_0x54f794*_0x196d0f-_0x1cbddc*_0x1ae462-_0x4ba093*_0x534a87-_0x21858f*_0x3b3b38,_0x1de20c;}export function rotate(_0x483e10,_0x58606d,_0x206944){const _0xbd4d96=a81_0x28f6;_0x483e10=_0x483e10||make();let _0x2c920a=_0x58606d[0x0],_0x5ef317=_0x58606d[0x1],_0x4af3ee=_0x58606d[0x2],_0x32303b=Math[_0xbd4d96(0x90)](_0x2c920a,_0x5ef317,_0x4af3ee);_0x32303b>0x0&&(_0x32303b=0x1/_0x32303b,_0x2c920a*=_0x32303b,_0x5ef317*=_0x32303b,_0x4af3ee*=_0x32303b);let _0x287bd5=_0x206944*0.5,_0x19bd74=Math[_0xbd4d96(0x94)](_0x287bd5),_0x5247ab=Math[_0xbd4d96(0x96)](_0x287bd5);return _0x483e10[0x0]=_0x19bd74*_0x2c920a,_0x483e10[0x1]=_0x19bd74*_0x5ef317,_0x483e10[0x2]=_0x19bd74*_0x4af3ee,_0x483e10[0x3]=_0x5247ab,_0x483e10;}export function rotateNormal(_0x393a41,_0xc8b2c,_0x1ac4d1){_0x393a41=_0x393a41||make();let _0x5174be=_0x1ac4d1*0.5,_0x2fafe3=Math['sin'](_0x5174be),_0x20229a=Math['cos'](_0x5174be);return _0x393a41[0x0]=_0x2fafe3*_0xc8b2c[0x0],_0x393a41[0x1]=_0x2fafe3*_0xc8b2c[0x1],_0x393a41[0x2]=_0x2fafe3*_0xc8b2c[0x2],_0x393a41[0x3]=_0x20229a,_0x393a41;}export function rotatePitchYawRoll(_0x581a06,_0x2ffac3,_0x4fed9f,_0x3ec46f){const _0x461b7f=a81_0x28f6;_0x581a06=_0x581a06||make();let _0x399bb4=_0x2ffac3*0.5,_0x29a1e4=_0x4fed9f*0.5,_0x578497=_0x3ec46f*0.5,_0x1ae7e1=Math[_0x461b7f(0x94)](_0x399bb4),_0x3b3093=Math['sin'](_0x29a1e4),_0x9f881a=Math[_0x461b7f(0x94)](_0x578497),_0x2db341=Math[_0x461b7f(0x96)](_0x399bb4),_0x3b69d3=Math['cos'](_0x29a1e4),_0x443f91=Math[_0x461b7f(0x96)](_0x578497),_0x3d2bd9=_0x1ae7e1*_0x3b69d3*_0x443f91,_0x173465=_0x2db341*_0x3b3093*_0x443f91,_0x1081c7=_0x2db341*_0x3b69d3*_0x9f881a,_0x374492=_0x2db341*_0x3b69d3*_0x443f91,_0x554624=_0x1ae7e1*_0x3b69d3,_0x2b3a9f=-_0x2db341*_0x3b3093,_0x2b9c7e=-_0x2db341*_0x3b69d3,_0x2e439b=_0x2db341*_0x3b69d3;return _0x581a06[0x0]=_0x554624*_0x443f91+_0x3d2bd9,_0x581a06[0x1]=_0x2b3a9f*_0x443f91+_0x173465,_0x581a06[0x2]=_0x2b9c7e*_0x9f881a+_0x1081c7,_0x581a06[0x3]=_0x2e439b*_0x443f91+_0x374492,_0x581a06;}export function rotateMatrix(_0x349f35,_0x488a37){const _0x98fc1=a81_0x28f6;_0x349f35=_0x349f35||make();let _0x11538d=_0x488a37[0xa];if(_0x11538d<=0x0){let _0x15ab3a=_0x488a37[0x5]-_0x488a37[0x0],_0x29113b=0x1-_0x11538d;if(_0x15ab3a<=0x0){let _0x329aff=_0x29113b-_0x15ab3a,_0x206415=0.5/Math['sqrt'](_0x329aff);_0x349f35[0x0]=_0x329aff*_0x206415,_0x349f35[0x1]=(_0x488a37[0x1]+_0x488a37[0x4])*_0x206415,_0x349f35[0x2]=(_0x488a37[0x2]+_0x488a37[0x8])*_0x206415,_0x349f35[0x3]=(_0x488a37[0x6]-_0x488a37[0x9])*_0x206415;}else{let _0x205ed9=_0x29113b+_0x15ab3a,_0x12423e=0.5/Math['sqrt'](_0x205ed9);_0x349f35[0x0]=(_0x488a37[0x1]+_0x488a37[0x4])*_0x12423e,_0x349f35[0x1]=_0x205ed9*_0x12423e,_0x349f35[0x2]=(_0x488a37[0x6]+_0x488a37[0x9])*_0x12423e,_0x349f35[0x3]=(_0x488a37[0x8]-_0x488a37[0x2])*_0x12423e;}}else{let _0x12a993=_0x488a37[0x5]+_0x488a37[0x0],_0x2a0a4d=0x1+_0x11538d;if(_0x12a993<=0x0){let _0x1cdcfd=_0x2a0a4d-_0x12a993,_0x1405bd=0.5/Math[_0x98fc1(0x8b)](_0x1cdcfd);_0x349f35[0x0]=(_0x488a37[0x2]+_0x488a37[0x8])*_0x1405bd,_0x349f35[0x1]=(_0x488a37[0x6]+_0x488a37[0x9])*_0x1405bd,_0x349f35[0x2]=_0x1cdcfd*_0x1405bd,_0x349f35[0x3]=(_0x488a37[0x1]-_0x488a37[0x4])*_0x1405bd;}else{let _0x2ff215=_0x2a0a4d+_0x12a993,_0xa3ceda=0.5/Math[_0x98fc1(0x8b)](_0x2ff215);_0x349f35[0x0]=(_0x488a37[0x6]-_0x488a37[0x9])*_0xa3ceda,_0x349f35[0x1]=(_0x488a37[0x8]-_0x488a37[0x2])*_0xa3ceda,_0x349f35[0x2]=(_0x488a37[0x1]-_0x488a37[0x4])*_0xa3ceda,_0x349f35[0x3]=_0x2ff215*_0xa3ceda;}}return _0x349f35;}export function rotateBetweenVec(_0x46c976,_0x48db89,_0x564382){const _0x53a8a3=a81_0x28f6;_0x46c976=_0x46c976||make();let _0x446248=a81_0x2e6226['normalize'](null,_0x48db89),_0x4ab44c=a81_0x2e6226[_0x53a8a3(0x85)](null,_0x564382);if(a81_0xa463bb['isNearlyZero'](_0x446248[0x0]-_0x4ab44c[0x0])&&a81_0xa463bb[_0x53a8a3(0x8d)](_0x446248[0x1]-_0x4ab44c[0x1])&&a81_0xa463bb[_0x53a8a3(0x8d)](_0x446248[0x2]-_0x4ab44c[0x2]))return identity(_0x46c976);if(a81_0xa463bb['isNearlyZero'](_0x446248[0x0]+_0x4ab44c[0x0])&&a81_0xa463bb[_0x53a8a3(0x8d)](_0x446248[0x1]+_0x4ab44c[0x1])&&a81_0xa463bb[_0x53a8a3(0x8d)](_0x446248[0x2]+_0x4ab44c[0x2])){let _0x4bbd59=a81_0x2e6226[_0x53a8a3(0x83)](null,_0x446248);return rotateNormal(_0x46c976,_0x4bbd59,a81_0xa463bb['pi']);}let _0x51a75b,_0x53b897;{_0x51a75b=a81_0x2e6226['add'](_0x51a75b,_0x446248,_0x4ab44c),_0x51a75b=a81_0x2e6226[_0x53a8a3(0x85)](_0x51a75b,_0x51a75b),_0x53b897=a81_0x2e6226['cross'](_0x53b897,_0x446248,_0x51a75b);}return _0x46c976[0x0]=_0x53b897[0x0],_0x46c976[0x1]=_0x53b897[0x1],_0x46c976[0x2]=_0x53b897[0x2],_0x46c976[0x3]=a81_0x2e6226[_0x53a8a3(0x8e)](_0x446248,_0x51a75b),_0x46c976;}export function decompose(_0x228208){const _0x16fbf2=a81_0x28f6;let _0x685ff=a81_0x2e6226['from'](_0x228208[0x0],_0x228208[0x1],_0x228208[0x2]),_0x3767c3=0x2*Math[_0x16fbf2(0x91)](_0x228208[0x3]);return[_0x685ff,_0x3767c3];}