'use strict';const a64_0x21ca=['alpha','默认青蓝色','diffuseR','默认深红色','ambientB','saturate','2kbsLCz','默认颜色','默认红色','specularR','861178eYSOWG','srgb','name','diffuseB','默认紫色','roughness','specularG','log','type','默认零件高亮色','unpackBGBA','默认绿色','默认青绿色','sRGBToLinear','specularB','默认黄色','emissiveB','emissiveR','默认深蓝色','1991266xTBOLc','linear','711718nuSjQm','ambientG','emissiveG','1639565iODUJk','默认粉色','默认蓝色','ambientR','默认材质','894644VTyhwy','默认白色','906915WrZzGf','from','1218836SpyLwz','默认黑色','diffuseG'];(function(_0x47d3bc,_0x4dc81c){const _0x1c6bb5=a64_0x52e9;while(!![]){try{const _0x568d8c=parseInt(_0x1c6bb5(0x1e3))*parseInt(_0x1c6bb5(0x1d8))+parseInt(_0x1c6bb5(0x1fc))+parseInt(_0x1c6bb5(0x1ff))+-parseInt(_0x1c6bb5(0x1da))+-parseInt(_0x1c6bb5(0x1e7))+parseInt(_0x1c6bb5(0x1d6))+-parseInt(_0x1c6bb5(0x1fa));if(_0x568d8c===_0x4dc81c)break;else _0x47d3bc['push'](_0x47d3bc['shift']());}catch(_0x304f39){_0x47d3bc['push'](_0x47d3bc['shift']());}}}(a64_0x21ca,0xf153d));import*as a64_0x2a0b9f from'../Math/math.js';import*as a64_0x5bbd85 from'../Math/float4.js';export function make(_0x331c70){let _0x107a92={'name':'','type':P3D_MATERIAL_TYPE_MESH_COLOR,'uPos':0x0,'uID':_0x331c70,'srgb':commonMtl(),'linear':commonMtl(),'alpha':0x1,'texSlicePos':0x0};return _0x107a92;}export function commonMtl(){let _0x2de898={'emissiveR':0x0,'emissiveG':0x0,'emissiveB':0x0,'ambientR':0x1,'ambientG':0x1,'ambientB':0x1,'diffuseR':0x1,'diffuseG':0x1,'diffuseB':0x1,'specularR':0.9,'specularG':0.9,'specularB':0.9,'roughness':0.1};return _0x2de898;}export function fromSysMaterial(_0x351399,_0x1c08be){const _0x2e77e3=a64_0x52e9;let _0x10e5cd=make(_0x351399),_0x5886d9=getSystemMaterialPureFlag(_0x351399),_0x2dd248=a64_0x5bbd85['unpackBGBA'](null,getSystemMaterialSrgbColor(_0x351399));return _0x10e5cd[_0x2e77e3(0x1e8)]['roughness']=0xa,_0x10e5cd[_0x2e77e3(0x1e8)][_0x2e77e3(0x1f8)]=_0x5886d9==!![]?_0x2dd248[0x0]:0x0,_0x10e5cd[_0x2e77e3(0x1e8)][_0x2e77e3(0x1fe)]=_0x5886d9==!![]?_0x2dd248[0x1]:0x0,_0x10e5cd[_0x2e77e3(0x1e8)]['emissiveB']=_0x5886d9==!![]?_0x2dd248[0x2]:0x0,_0x10e5cd['srgb']['ambientR']=_0x5886d9==![]?_0x2dd248[0x0]:0x0,_0x10e5cd[_0x2e77e3(0x1e8)][_0x2e77e3(0x1fd)]=_0x5886d9==![]?_0x2dd248[0x1]:0x0,_0x10e5cd[_0x2e77e3(0x1e8)]['ambientB']=_0x5886d9==![]?_0x2dd248[0x2]:0x0,_0x10e5cd['srgb'][_0x2e77e3(0x1df)]=_0x5886d9==![]?_0x2dd248[0x0]:0x0,_0x10e5cd[_0x2e77e3(0x1e8)][_0x2e77e3(0x1dc)]=_0x5886d9==![]?_0x2dd248[0x1]:0x0,_0x10e5cd[_0x2e77e3(0x1e8)][_0x2e77e3(0x1ea)]=_0x5886d9==![]?_0x2dd248[0x2]:0x0,_0x10e5cd[_0x2e77e3(0x1e8)][_0x2e77e3(0x1e6)]=_0x5886d9==![]?_0x2dd248[0x0]:0x0,_0x10e5cd['srgb'][_0x2e77e3(0x1ed)]=_0x5886d9==![]?_0x2dd248[0x1]:0x0,_0x10e5cd[_0x2e77e3(0x1e8)]['specularB']=_0x5886d9==![]?_0x2dd248[0x2]:0x0,_0x2dd248=a64_0x5bbd85[_0x2e77e3(0x1f1)](null,getSystemMaterialColor(_0x351399)),_0x2dd248=a64_0x5bbd85[_0x2e77e3(0x1f4)](_0x2dd248,_0x2dd248),_0x10e5cd[_0x2e77e3(0x1fb)]['roughness']=phongPowerToRoughness(0x28*2.55),_0x10e5cd[_0x2e77e3(0x1fb)][_0x2e77e3(0x1f8)]=_0x5886d9==!![]?_0x2dd248[0x0]:0x0,_0x10e5cd['linear'][_0x2e77e3(0x1fe)]=_0x5886d9==!![]?_0x2dd248[0x1]:0x0,_0x10e5cd['linear'][_0x2e77e3(0x1f7)]=_0x5886d9==!![]?_0x2dd248[0x2]:0x0,_0x10e5cd['linear'][_0x2e77e3(0x1d4)]=_0x5886d9==![]?_0x2dd248[0x0]:0x0,_0x10e5cd[_0x2e77e3(0x1fb)][_0x2e77e3(0x1fd)]=_0x5886d9==![]?_0x2dd248[0x1]:0x0,_0x10e5cd[_0x2e77e3(0x1fb)][_0x2e77e3(0x1e1)]=_0x5886d9==![]?_0x2dd248[0x2]:0x0,_0x10e5cd[_0x2e77e3(0x1fb)][_0x2e77e3(0x1df)]=_0x5886d9==![]?_0x2dd248[0x0]:0x0,_0x10e5cd[_0x2e77e3(0x1fb)][_0x2e77e3(0x1dc)]=_0x5886d9==![]?_0x2dd248[0x1]:0x0,_0x10e5cd[_0x2e77e3(0x1fb)]['diffuseB']=_0x5886d9==![]?_0x2dd248[0x2]:0x0,_0x10e5cd['linear'][_0x2e77e3(0x1e6)]=_0x5886d9==![]?_0x2dd248[0x0]:0x0,_0x10e5cd['linear'][_0x2e77e3(0x1ed)]=_0x5886d9==![]?_0x2dd248[0x1]:0x0,_0x10e5cd['linear'][_0x2e77e3(0x1f5)]=_0x5886d9==![]?_0x2dd248[0x2]:0x0,_0x10e5cd[_0x2e77e3(0x1e9)]=getSystemMaterialName(_0x351399),_0x10e5cd;}export function isSystemMaterial(_0x5a5f35){return _0x5a5f35>=0x64&&_0x5a5f35<=0x81;}function a64_0x52e9(_0x19a5f2,_0x45f950){_0x19a5f2=_0x19a5f2-0x1d4;let _0x21cafa=a64_0x21ca[_0x19a5f2];return _0x21cafa;}export function getSystemMaterialPureFlag(_0x429e9f){return _0x429e9f>=0x73&&_0x429e9f<=0x81;}export function getSystemMaterialName(_0x50995f){const _0x4de36d=a64_0x52e9;if(_0x50995f==0x64||_0x50995f==0x73)return _0x4de36d(0x1e5);if(_0x50995f==0x65||_0x50995f==0x74)return'默认亮绿色';if(_0x50995f==0x66||_0x50995f==0x75)return _0x4de36d(0x201);if(_0x50995f==0x67||_0x50995f==0x76)return _0x4de36d(0x1f6);if(_0x50995f==0x68||_0x50995f==0x77)return _0x4de36d(0x200);if(_0x50995f==0x69||_0x50995f==0x78)return _0x4de36d(0x1f3);if(_0x50995f==0x6a||_0x50995f==0x79)return _0x4de36d(0x1db);if(_0x50995f==0x6b||_0x50995f==0x7a)return _0x4de36d(0x1d7);if(_0x50995f==0x6c||_0x50995f==0x7b)return'默认灰色';if(_0x50995f==0x6d||_0x50995f==0x7c)return _0x4de36d(0x1e0);if(_0x50995f==0x6e||_0x50995f==0x7d)return _0x4de36d(0x1f2);if(_0x50995f==0x6f||_0x50995f==0x7e)return _0x4de36d(0x1f9);if(_0x50995f==0x70||_0x50995f==0x7f)return'默认深黄色';if(_0x50995f==0x71||_0x50995f==0x80)return _0x4de36d(0x1eb);if(_0x50995f==0x72||_0x50995f==0x81)return _0x4de36d(0x1de);if(_0x50995f==0x96)return _0x4de36d(0x1f0);if(_0x50995f==0x97)return'默认曲面高亮色';if(_0x50995f==-0x1)return _0x4de36d(0x1d5);return _0x4de36d(0x1e4);}export function getSystemMaterialColor(_0x183582){if(_0x183582==0x64||_0x183582==0x73)return 0xffff0000;if(_0x183582==0x65||_0x183582==0x74)return 0xff00ff00;if(_0x183582==0x66||_0x183582==0x75)return 0xff0000ff;if(_0x183582==0x67||_0x183582==0x76)return 0xffffff00;if(_0x183582==0x68||_0x183582==0x77)return 0xffff00ff;if(_0x183582==0x69||_0x183582==0x78)return 0xff00ffff;if(_0x183582==0x6a||_0x183582==0x79)return 0xff000000;if(_0x183582==0x6b||_0x183582==0x7a)return 0xffffffff;if(_0x183582==0x6c||_0x183582==0x7b)return 0xff7f7f7f;if(_0x183582==0x6d||_0x183582==0x7c)return 0xff7f0000;if(_0x183582==0x6e||_0x183582==0x7d)return 0xff007f00;if(_0x183582==0x6f||_0x183582==0x7e)return 0xff00007f;if(_0x183582==0x70||_0x183582==0x7f)return 0xff7f7f00;if(_0x183582==0x71||_0x183582==0x80)return 0xff7f007f;if(_0x183582==0x72||_0x183582==0x81)return 0xff007f7f;if(_0x183582==0x96)return 0xffb02020;if(_0x183582==0x97)return 0xff3454a7;if(_0x183582==-0x1)return 0xff999999;return 0xff000000;}export function getSystemMaterialSrgbColor(_0x56cbcf){if(_0x56cbcf==0x64||_0x56cbcf==0x73)return 0xffff0000;if(_0x56cbcf==0x65||_0x56cbcf==0x74)return 0xff7fff00;if(_0x56cbcf==0x66||_0x56cbcf==0x75)return 0xff0000ff;if(_0x56cbcf==0x67||_0x56cbcf==0x76)return 0xffffff00;if(_0x56cbcf==0x68||_0x56cbcf==0x77)return 0xffffbfcc;if(_0x56cbcf==0x69||_0x56cbcf==0x78)return 0xff40decc;if(_0x56cbcf==0x6a||_0x56cbcf==0x79)return 0xff000000;if(_0x56cbcf==0x6b||_0x56cbcf==0x7a)return 0xffffffff;if(_0x56cbcf==0x6c||_0x56cbcf==0x7b)return 0xff7f7f7f;if(_0x56cbcf==0x6d||_0x56cbcf==0x7c)return 0xffb31a1a;if(_0x56cbcf==0x6e||_0x56cbcf==0x7d)return 0xff00ff00;if(_0x56cbcf==0x6f||_0x56cbcf==0x7e)return 0xff1a1a70;if(_0x56cbcf==0x70||_0x56cbcf==0x7f)return 0xffffd600;if(_0x56cbcf==0x71||_0x56cbcf==0x80)return 0xff8a2be3;if(_0x56cbcf==0x72||_0x56cbcf==0x81)return 0xff00ffff;if(_0x56cbcf==0x96)return 0xffb02020;if(_0x56cbcf==0x97)return 0xff3454a7;if(_0x56cbcf==-0x1)return 0xff999999;return 0xff000000;}export function phongPowerToRoughness(_0x417292){const _0x59c01b=a64_0x52e9;if(_0x417292<=0x0)return 0x1;const _0x3ab1d2=Math[_0x59c01b(0x1ee)](_0x417292);if(_0x417292<=0x18)return a64_0x2a0b9f[_0x59c01b(0x1e2)](0.773871-0.160132*_0x3ab1d2);if(_0x417292<=0x3c)return a64_0x2a0b9f[_0x59c01b(0x1e2)](0.606127-0.105979*_0x3ab1d2);return a64_0x2a0b9f['saturate'](0.4008-0.0562807*_0x3ab1d2);}export function fromColor(_0x15814d,_0xf6c48e,_0x3c535e,_0x31b2e1){const _0x1d453b=a64_0x52e9;let _0x5a96be=make(g_newMaterialID++),_0x1e1fe=a64_0x5bbd85[_0x1d453b(0x1d9)](_0x15814d,_0xf6c48e,_0x3c535e,0x1);return _0x5a96be[_0x1d453b(0x1e8)][_0x1d453b(0x1d4)]=_0x1e1fe[0x0],_0x5a96be[_0x1d453b(0x1e8)][_0x1d453b(0x1fd)]=_0x1e1fe[0x1],_0x5a96be[_0x1d453b(0x1e8)][_0x1d453b(0x1e1)]=_0x1e1fe[0x2],_0x1e1fe=a64_0x5bbd85[_0x1d453b(0x1f4)](_0x1e1fe,_0x1e1fe),_0x5a96be[_0x1d453b(0x1fb)][_0x1d453b(0x1d4)]=_0x1e1fe[0x0],_0x5a96be[_0x1d453b(0x1fb)]['ambientG']=_0x1e1fe[0x1],_0x5a96be[_0x1d453b(0x1fb)][_0x1d453b(0x1e1)]=_0x1e1fe[0x2],_0x1e1fe=a64_0x5bbd85[_0x1d453b(0x1d9)](_0x15814d,_0xf6c48e,_0x3c535e,0x1),_0x5a96be[_0x1d453b(0x1e8)]['diffuseR']=_0x1e1fe[0x0],_0x5a96be[_0x1d453b(0x1e8)]['diffuseG']=_0x1e1fe[0x1],_0x5a96be[_0x1d453b(0x1e8)][_0x1d453b(0x1ea)]=_0x1e1fe[0x2],_0x1e1fe=a64_0x5bbd85[_0x1d453b(0x1f4)](_0x1e1fe,_0x1e1fe),_0x5a96be[_0x1d453b(0x1fb)][_0x1d453b(0x1df)]=_0x1e1fe[0x0],_0x5a96be[_0x1d453b(0x1fb)][_0x1d453b(0x1dc)]=_0x1e1fe[0x1],_0x5a96be['linear'][_0x1d453b(0x1ea)]=_0x1e1fe[0x2],_0x1e1fe=a64_0x5bbd85['from'](_0x15814d,_0xf6c48e,_0x3c535e,0x1),_0x5a96be['srgb'][_0x1d453b(0x1e6)]=_0x1e1fe[0x0],_0x5a96be['srgb'][_0x1d453b(0x1ed)]=_0x1e1fe[0x1],_0x5a96be[_0x1d453b(0x1e8)][_0x1d453b(0x1f5)]=_0x1e1fe[0x2],_0x1e1fe=a64_0x5bbd85['sRGBToLinear'](_0x1e1fe,_0x1e1fe),_0x5a96be[_0x1d453b(0x1fb)]['specularR']=_0x1e1fe[0x0],_0x5a96be[_0x1d453b(0x1fb)]['specularG']=_0x1e1fe[0x1],_0x5a96be[_0x1d453b(0x1fb)]['specularB']=_0x1e1fe[0x2],_0x5a96be[_0x1d453b(0x1dd)]=_0x31b2e1,_0x5a96be[_0x1d453b(0x1ef)]=P3D_MATERIAL_TYPE_MESH_COLOR,_0x5a96be;}export function fromMaterial(_0x56a38b,_0x5b944b,_0x390289,_0x2e9087,_0x20c947,_0x49269d){const _0xe1d941=a64_0x52e9;let _0x22118a=make(g_newMaterialID++);return _0x22118a[_0xe1d941(0x1e8)][_0xe1d941(0x1f8)]=_0x56a38b[0x0],_0x22118a['srgb'][_0xe1d941(0x1fe)]=_0x56a38b[0x1],_0x22118a['srgb'][_0xe1d941(0x1f7)]=_0x56a38b[0x2],_0x22118a[_0xe1d941(0x1e8)][_0xe1d941(0x1d4)]=_0x5b944b[0x0],_0x22118a[_0xe1d941(0x1e8)][_0xe1d941(0x1fd)]=_0x5b944b[0x1],_0x22118a[_0xe1d941(0x1e8)][_0xe1d941(0x1e1)]=_0x5b944b[0x2],_0x22118a[_0xe1d941(0x1e8)][_0xe1d941(0x1df)]=_0x390289[0x0],_0x22118a['srgb']['diffuseG']=_0x390289[0x1],_0x22118a['srgb'][_0xe1d941(0x1ea)]=_0x390289[0x2],_0x22118a['srgb']['specularR']=_0x2e9087[0x0],_0x22118a[_0xe1d941(0x1e8)][_0xe1d941(0x1ed)]=_0x2e9087[0x1],_0x22118a['srgb']['specularB']=_0x2e9087[0x2],_0x22118a[_0xe1d941(0x1e8)][_0xe1d941(0x1ec)]=_0x49269d,_0x22118a[_0xe1d941(0x1fb)][_0xe1d941(0x1f8)]=_0x56a38b[0x0],_0x22118a[_0xe1d941(0x1fb)][_0xe1d941(0x1fe)]=_0x56a38b[0x1],_0x22118a[_0xe1d941(0x1fb)][_0xe1d941(0x1f7)]=_0x56a38b[0x2],_0x22118a['linear'][_0xe1d941(0x1d4)]=_0x5b944b[0x0],_0x22118a[_0xe1d941(0x1fb)][_0xe1d941(0x1fd)]=_0x5b944b[0x1],_0x22118a[_0xe1d941(0x1fb)]['ambientB']=_0x5b944b[0x2],_0x22118a[_0xe1d941(0x1fb)][_0xe1d941(0x1df)]=_0x390289[0x0],_0x22118a[_0xe1d941(0x1fb)][_0xe1d941(0x1dc)]=_0x390289[0x1],_0x22118a['linear'][_0xe1d941(0x1ea)]=_0x390289[0x2],_0x22118a[_0xe1d941(0x1fb)][_0xe1d941(0x1e6)]=_0x2e9087[0x0],_0x22118a[_0xe1d941(0x1fb)][_0xe1d941(0x1ed)]=_0x2e9087[0x1],_0x22118a[_0xe1d941(0x1fb)][_0xe1d941(0x1f5)]=_0x2e9087[0x2],_0x22118a[_0xe1d941(0x1fb)][_0xe1d941(0x1ec)]=phongPowerToRoughness(_0x49269d*2.55),_0x22118a[_0xe1d941(0x1dd)]=_0x20c947,_0x22118a[_0xe1d941(0x1ef)]=P3D_MATERIAL_TYPE_MESH_COLOR,_0x22118a;}