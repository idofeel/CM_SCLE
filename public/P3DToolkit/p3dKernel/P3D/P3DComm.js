'use strict';const a85_0x5974=['eAxisZ','_43','fFar','vEmissive','vAmbient','fFOVInRadian','138675oFcMIC','specularR','sRGBToLinear','makeDesc','fPower','_23','_vEyePos','fNear','specularB','_fZFar','make','_max','ambientG','stuCameraSaveDataMgr','ambientB','147206NRKvAN','_eMtlType','22602vQkYHX','emissiveR','ePerspective','emissiveB','240206lbDKPE','pmax','name','_22','texSlicePos','type','_41','239000PIhqTW','182130eLTZCN','_min','diffuseB','_31','roughness','_14','_arrSubset','length','alpha','_13','_33','_DefaultCamera','eAxisX','vDiffuse','_vFocus','_vUp','diffuseG','_11','eProjType','vUp','_MtlData','phongPowerToRoughness','abs','vAt','1lTshZI','1jCsPvw','ambientR','_21','pmin','diffuseR','_44','341898loqpKx','_nSceneUpType','_fFOVY','_42','_fZNear','_mtlPhysics','_12','_34','_24','_nPrimitType','_uMtlID','specularG','vEye'];(function(_0x2ce219,_0x1e2485){const _0x2400a9=a85_0x3c2f;while(!![]){try{const _0x1f5f7b=-parseInt(_0x2400a9(0x100))+parseInt(_0x2400a9(0x13c))+parseInt(_0x2400a9(0x10f))+-parseInt(_0x2400a9(0x135))*-parseInt(_0x2400a9(0x111))+-parseInt(_0x2400a9(0x11d))+parseInt(_0x2400a9(0x11c))+-parseInt(_0x2400a9(0x115))*parseInt(_0x2400a9(0x136));if(_0x1f5f7b===_0x1e2485)break;else _0x2ce219['push'](_0x2ce219['shift']());}catch(_0x5d14e8){_0x2ce219['push'](_0x2ce219['shift']());}}}(a85_0x5974,0x2e4ff));import*as a85_0x23678f from'../Math/math.js';import*as a85_0x55c9c5 from'../Math/float2.js';import*as a85_0x1ead5c from'../Math/float3.js';import*as a85_0x3b5d1b from'../Math/float4.js';import*as a85_0x52e1a1 from'../Math/matrix.js';import*as a85_0x34a70b from'../Math/box.js';import*as a85_0x3528f0 from'../Camera/Camera.js';import*as a85_0x2c46f9 from'../Material/MeshMaterial.js';export function checkModelSupport(_0x5691d1){const _0x1fc21e=a85_0x3c2f;if(_0x5691d1[_0x1fc21e(0x123)][_0x1fc21e(0x124)]===0x0)return![];for(let _0x4dda99=0x0;_0x4dda99<_0x5691d1[_0x1fc21e(0x123)][_0x1fc21e(0x124)];++_0x4dda99){const _0x171522=_0x5691d1[_0x1fc21e(0x123)][_0x4dda99];if(_0x171522[_0x1fc21e(0x145)]!=ADFPT_TRIANGLELIST)return![];}return!![];}export function unitToScaleFactor(_0x3b3c2e){if(_0x3b3c2e==ADF_LENUNITTYPE_MM)return 0x3e8;else{if(_0x3b3c2e==ADF_LENUNITTYPE_CM)return 0x64;else{if(_0x3b3c2e==ADF_LENUNITTYPE_M)return 0x1;else{if(_0x3b3c2e==ADF_LENUNITTYPE_MICRON)return 0xf4240;else{if(_0x3b3c2e==ADF_LENUNITTYPE_FT)return 3.2808398950131;else{if(_0x3b3c2e==ADF_LENUNITTYPE_IN)return 39.3700787;else{if(_0x3b3c2e==ADF_LENUNITTYPE_MIL)return 39.3700787*0x3e8;else{if(_0x3b3c2e==ADF_LENUNITTYPE_ANGSTROM)return 0x3b9aca00*0xa;else{if(_0x3b3c2e==ADF_LENUNITTYPE_NANOMETER)return 0x3b9aca00;}}}}}}}}return 0x1;}export function fromCleVec2(_0x3d27cb,_0x308945){return _0x3d27cb=_0x3d27cb||a85_0x55c9c5['make'](),_0x3d27cb[0x0]=_0x308945['x'],_0x3d27cb[0x1]=_0x308945['y'],_0x3d27cb;}export function exportToCleVec2(_0x3ec539,_0x1f781c){if(_0x3ec539==null)return null;return _0x3ec539['x']=_0x1f781c[0x0],_0x3ec539['y']=_0x1f781c[0x1],_0x3ec539;}export function fromCleVec3(_0x1b0e60,_0x2f8695){const _0x4a811f=a85_0x3c2f;return _0x1b0e60=_0x1b0e60||a85_0x1ead5c[_0x4a811f(0x10a)](),_0x1b0e60[0x0]=_0x2f8695['x'],_0x1b0e60[0x1]=_0x2f8695['y'],_0x1b0e60[0x2]=_0x2f8695['z'],_0x1b0e60;}export function exportToCleVec3(_0x46b8d6,_0x331f75){if(_0x46b8d6==null)return null;return _0x46b8d6['x']=_0x331f75[0x0],_0x46b8d6['y']=_0x331f75[0x1],_0x46b8d6['z']=_0x331f75[0x2],_0x46b8d6;}export function fromCleVec4(_0x865866,_0x4f3768){const _0x16068b=a85_0x3c2f;return _0x865866=_0x865866||a85_0x3b5d1b[_0x16068b(0x10a)](),_0x865866[0x0]=_0x4f3768['x'],_0x865866[0x1]=_0x4f3768['y'],_0x865866[0x2]=_0x4f3768['z'],_0x865866[0x3]=_0x4f3768['w'],_0x865866;}export function exportToCleVec4(_0x466884,_0x1374cc){if(_0x466884==null)return null;return _0x466884['x']=_0x1374cc[0x0],_0x466884['y']=_0x1374cc[0x1],_0x466884['z']=_0x1374cc[0x2],_0x466884['w']=_0x1374cc[0x2],_0x466884;}export function fromCleMatrix(_0xfcd975,_0x4dff46){const _0x4707dd=a85_0x3c2f;_0xfcd975=_0xfcd975||a85_0x52e1a1['make']();{_0xfcd975[0x0]=_0x4dff46['_11'],_0xfcd975[0x1]=_0x4dff46[_0x4707dd(0x142)],_0xfcd975[0x2]=_0x4dff46[_0x4707dd(0x126)],_0xfcd975[0x3]=_0x4dff46[_0x4707dd(0x122)],_0xfcd975[0x4]=_0x4dff46[_0x4707dd(0x138)],_0xfcd975[0x5]=_0x4dff46[_0x4707dd(0x118)],_0xfcd975[0x6]=_0x4dff46[_0x4707dd(0x105)],_0xfcd975[0x7]=_0x4dff46[_0x4707dd(0x144)],_0xfcd975[0x8]=_0x4dff46[_0x4707dd(0x120)],_0xfcd975[0x9]=_0x4dff46['_32'],_0xfcd975[0xa]=_0x4dff46['_33'],_0xfcd975[0xb]=_0x4dff46[_0x4707dd(0x143)],_0xfcd975[0xc]=_0x4dff46[_0x4707dd(0x11b)],_0xfcd975[0xd]=_0x4dff46[_0x4707dd(0x13f)],_0xfcd975[0xe]=_0x4dff46['_43'],_0xfcd975[0xf]=_0x4dff46[_0x4707dd(0x13b)];}return _0xfcd975;}export function exportToCleMatrix(_0x5585fe,_0x52f3e8){const _0xc16651=a85_0x3c2f;if(_0x5585fe==null)return null;return _0x5585fe[_0xc16651(0x12e)]=_0x52f3e8[0x0],_0x5585fe[_0xc16651(0x142)]=_0x52f3e8[0x1],_0x5585fe[_0xc16651(0x126)]=_0x52f3e8[0x2],_0x5585fe[_0xc16651(0x122)]=_0x52f3e8[0x3],_0x5585fe[_0xc16651(0x138)]=_0x52f3e8[0x4],_0x5585fe[_0xc16651(0x118)]=_0x52f3e8[0x5],_0x5585fe['_23']=_0x52f3e8[0x6],_0x5585fe['_24']=_0x52f3e8[0x7],_0x5585fe[_0xc16651(0x120)]=_0x52f3e8[0x8],_0x5585fe['_32']=_0x52f3e8[0x9],_0x5585fe[_0xc16651(0x127)]=_0x52f3e8[0xa],_0x5585fe['_34']=_0x52f3e8[0xb],_0x5585fe[_0xc16651(0x11b)]=_0x52f3e8[0xc],_0x5585fe[_0xc16651(0x13f)]=_0x52f3e8[0xd],_0x5585fe[_0xc16651(0xfb)]=_0x52f3e8[0xe],_0x5585fe[_0xc16651(0x13b)]=_0x52f3e8[0xf],_0x5585fe;}export function fromCleBox(_0x45ebb1,_0x58cb9e){const _0x52a819=a85_0x3c2f;return _0x45ebb1=_0x45ebb1||a85_0x34a70b['make'](),_0x45ebb1[_0x52a819(0x139)]=fromCleVec3(_0x45ebb1['pmin'],_0x58cb9e[_0x52a819(0x11e)]),_0x45ebb1[_0x52a819(0x116)]=fromCleVec3(_0x45ebb1['pmax'],_0x58cb9e[_0x52a819(0x10b)]),_0x45ebb1;}export function getUpAxis(_0x190607){const _0x2ab3cb=a85_0x3c2f;if(_0x190607[_0x2ab3cb(0x13d)]==ADFCUT_X||_0x190607[_0x2ab3cb(0x13d)]==ADFCUT_NX)return a85_0x23678f[_0x2ab3cb(0x129)];if(_0x190607[_0x2ab3cb(0x13d)]==ADFCUT_Y||_0x190607['_nSceneUpType']==ADFCUT_NY)return a85_0x23678f['eAxisY'];if(_0x190607[_0x2ab3cb(0x13d)]==ADFCUT_Z||_0x190607[_0x2ab3cb(0x13d)]==ADFCUT_NZ)return a85_0x23678f[_0x2ab3cb(0xfa)];return a85_0x23678f['eAxisY'];}export function isUpAxisNegative(_0x525186){const _0x46dd2d=a85_0x3c2f;if(_0x525186['_nSceneUpType']==ADFCUT_NX||_0x525186[_0x46dd2d(0x13d)]==ADFCUT_NY||_0x525186['_nSceneUpType']==ADFCUT_NZ)return!![];return![];}export function checkIfDefaultCameraValid(_0x286f82){const _0x1baeef=a85_0x3c2f,_0x1536eb=_0x286f82[_0x1baeef(0x10d)][_0x1baeef(0x128)];if(_0x1536eb[_0x1baeef(0x13e)]<=a85_0x23678f['toRadian'](0x5))return![];if(_0x1536eb[_0x1baeef(0x140)]<=1e-7)return![];if(_0x1536eb[_0x1baeef(0x109)]<=1e-7)return![];if(_0x1536eb[_0x1baeef(0x109)]-_0x1536eb['_fZNear']<=1e-7)return![];if(_0x1536eb[_0x1baeef(0x12c)]['x']<=1e-7&&_0x1536eb[_0x1baeef(0x12c)]['y']<=1e-7&&_0x1536eb['_vUp']['z']<=1e-7)return![];if(Math[_0x1baeef(0x133)](_0x1536eb[_0x1baeef(0x106)]['x']-_0x1536eb[_0x1baeef(0x12c)]['x'])<=1e-7&&Math[_0x1baeef(0x133)](_0x1536eb[_0x1baeef(0x106)]['y']-_0x1536eb[_0x1baeef(0x12c)]['y'])<=1e-7&&Math[_0x1baeef(0x133)](_0x1536eb[_0x1baeef(0x106)]['z']-_0x1536eb[_0x1baeef(0x12c)]['z'])<=1e-7)return![];return!![];}export function fromCleCamera(_0x4a9980,_0x564126){const _0x20bdb1=a85_0x3c2f;return _0x4a9980=_0x4a9980||a85_0x3528f0[_0x20bdb1(0x103)](),_0x4a9980[_0x20bdb1(0x12f)]=a85_0x3528f0[_0x20bdb1(0x113)],_0x4a9980[_0x20bdb1(0xf9)]=fromCleVec3(_0x4a9980[_0x20bdb1(0xf9)],_0x564126[_0x20bdb1(0x106)]),_0x4a9980[_0x20bdb1(0x134)]=fromCleVec3(_0x4a9980['vAt'],_0x564126[_0x20bdb1(0x12b)]),_0x4a9980[_0x20bdb1(0x130)]=fromCleVec3(_0x4a9980[_0x20bdb1(0x130)],_0x564126['_vUp']),_0x4a9980['fFOVInRadian']=_0x564126[_0x20bdb1(0x13e)],_0x4a9980[_0x20bdb1(0x107)]=_0x564126['_fZNear'],_0x4a9980[_0x20bdb1(0xfc)]=_0x564126[_0x20bdb1(0x109)],_0x4a9980;}export function exportToCleCamera(_0x296e03,_0x29b0e9){const _0x129c32=a85_0x3c2f;if(_0x296e03==null)return null;return exportToCleVec3(_0x296e03[_0x129c32(0x106)],_0x29b0e9[_0x129c32(0xf9)]),exportToCleVec3(_0x296e03['_vFocus'],_0x29b0e9[_0x129c32(0x134)]),exportToCleVec3(_0x296e03[_0x129c32(0x12c)],_0x29b0e9[_0x129c32(0x130)]),_0x296e03[_0x129c32(0x13e)]=_0x29b0e9[_0x129c32(0xff)],_0x296e03[_0x129c32(0x140)]=_0x29b0e9[_0x129c32(0x107)],_0x296e03[_0x129c32(0x109)]=_0x29b0e9['fFar'],_0x296e03;}function a85_0x3c2f(_0x45aa17,_0x2aa872){_0x45aa17=_0x45aa17-0xf7;let _0x597480=a85_0x5974[_0x45aa17];return _0x597480;}export function fromCleMaterial(_0x49ceef,_0x413a03){const _0x38431f=a85_0x3c2f;let _0x5daeb7=null;if(_0x49ceef[_0x38431f(0x131)]['_eMtlType']==ADFMTLTYPE_PHYSICS)_0x5daeb7=a85_0x2c46f9[_0x38431f(0x10a)](_0x49ceef[_0x38431f(0xf7)]),fromClePhysicsMaterial(_0x49ceef[_0x38431f(0x131)][_0x38431f(0x141)],_0x413a03,_0x5daeb7),_0x5daeb7[_0x38431f(0x11a)]=P3D_MATERIAL_TYPE_MESH_COLOR;else{if(_0x49ceef[_0x38431f(0x131)][_0x38431f(0x110)]==ADFMTLTYPE_PICTURE)_0x5daeb7=a85_0x2c46f9[_0x38431f(0x10a)](_0x49ceef[_0x38431f(0xf7)]),fromClePhysicsMaterial(_0x49ceef[_0x38431f(0x131)][_0x38431f(0x141)],_0x413a03,_0x5daeb7),_0x5daeb7[_0x38431f(0x11a)]=P3D_MATERIAL_TYPE_MESH_TEXTURE,_0x5daeb7[_0x38431f(0x119)]=_0x49ceef[_0x38431f(0x131)]['_arrTexID'][0x0];else _0x49ceef[_0x38431f(0x131)][_0x38431f(0x110)]==ADFMTLTYPE_PURECOLOR&&(_0x5daeb7=PureColor[_0x38431f(0x10a)](_0x49ceef[_0x38431f(0xf7)]),fromClePureColorMaterial(_0x49ceef[_0x38431f(0x131)][_0x38431f(0x141)],_0x5daeb7),_0x5daeb7['type']=P3D_MATERIAL_TYPE_COLOR);}return _0x5daeb7[_0x38431f(0x117)]=_0x49ceef['_strName'],_0x5daeb7;}export function fromClePhysicsMaterial(_0x48cdf5,_0x285cec,_0x33930f){const _0x4ed251=a85_0x3c2f;let _0x286937=a85_0x3b5d1b[_0x4ed251(0x10a)]();_0x286937=fromCleVec4(_0x286937,_0x48cdf5['vEmissive']),_0x285cec&&(_0x286937=a85_0x3b5d1b[_0x4ed251(0x102)](_0x286937,_0x286937)),_0x33930f[_0x4ed251(0x112)]=_0x286937[0x0],_0x33930f['emissiveG']=_0x286937[0x1],_0x33930f[_0x4ed251(0x114)]=_0x286937[0x2],_0x286937=fromCleVec4(_0x286937,_0x48cdf5[_0x4ed251(0xfe)]),_0x285cec&&(_0x286937=a85_0x3b5d1b[_0x4ed251(0x102)](_0x286937,_0x286937)),_0x33930f[_0x4ed251(0x137)]=_0x286937[0x0]*_0x286937[0x3],_0x33930f[_0x4ed251(0x10c)]=_0x286937[0x1]*_0x286937[0x3],_0x33930f[_0x4ed251(0x10e)]=_0x286937[0x2]*_0x286937[0x3],_0x286937=fromCleVec4(_0x286937,_0x48cdf5[_0x4ed251(0x12a)]),_0x285cec&&(_0x286937=a85_0x3b5d1b['sRGBToLinear'](_0x286937,_0x286937)),_0x33930f[_0x4ed251(0x13a)]=_0x286937[0x0]*_0x286937[0x3],_0x33930f[_0x4ed251(0x12d)]=_0x286937[0x1]*_0x286937[0x3],_0x33930f[_0x4ed251(0x11f)]=_0x286937[0x2]*_0x286937[0x3],_0x286937=fromCleVec4(_0x286937,_0x48cdf5['vSpecular']),_0x285cec&&(_0x286937=a85_0x3b5d1b[_0x4ed251(0x102)](_0x286937,_0x286937)),_0x33930f[_0x4ed251(0x101)]=_0x286937[0x0],_0x33930f[_0x4ed251(0xf8)]=_0x286937[0x1],_0x33930f[_0x4ed251(0x108)]=_0x286937[0x2],_0x285cec?_0x33930f[_0x4ed251(0x121)]=a85_0x2c46f9[_0x4ed251(0x132)](_0x48cdf5[_0x4ed251(0x104)]*2.55):_0x33930f[_0x4ed251(0x121)]=_0x48cdf5[_0x4ed251(0x104)],_0x33930f[_0x4ed251(0x125)]=_0x48cdf5[_0x4ed251(0xfd)]['w'];}export function fromClePureColorMaterial(_0x2daed3,_0x19bc3a){const _0x268b37=a85_0x3c2f;_0x19bc3a['r']=_0x2daed3[_0x268b37(0xfd)]['x'],_0x19bc3a['g']=_0x2daed3[_0x268b37(0xfd)]['y'],_0x19bc3a['b']=_0x2daed3[_0x268b37(0xfd)]['z'],_0x19bc3a['alpha']=_0x2daed3[_0x268b37(0xfd)]['w'];}